!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=276)}([function(t,e,n){"use strict";var i={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"v4.6.5"};i.WEBGL_MAX_TEXTURE_SIZE,i.WEBGL_EXTENSIONS,i.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},i.nullFunction=function(){},i.getUid=function(t){return t.ol_uid||(t.ol_uid=++i.uidCounter_)},i.uidCounter_=0,e.a=i},function(t,e,n){"use strict";var i=n(13),r=n(102),o=n(40),s={boundingExtent:function(t){for(var e=s.createEmpty(),n=0,i=t.length;n<i;++n)s.extendCoordinate(e,t[n]);return e},boundingExtentXYs_:function(t,e,n){var i=Math.min.apply(null,t),r=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return s.createOrUpdate(i,r,o,a,n)},buffer:function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},clone:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},closestSquaredDistanceXY:function(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r},containsCoordinate:function(t,e){return s.containsXY(t,e[0],e[1])},containsExtent:function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},containsXY:function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},coordinateRelationship:function(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=e[0],l=e[1],u=o.a.UNKNOWN;return a<n?u|=o.a.LEFT:a>r&&(u|=o.a.RIGHT),l<i?u|=o.a.BELOW:l>s&&(u|=o.a.ABOVE),u===o.a.UNKNOWN&&(u=o.a.INTERSECTING),u},createEmpty:function(){return[1/0,1/0,-1/0,-1/0]},createOrUpdate:function(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]},createOrUpdateEmpty:function(t){return s.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},createOrUpdateFromCoordinate:function(t,e){var n=t[0],i=t[1];return s.createOrUpdate(n,i,n,i,e)},createOrUpdateFromCoordinates:function(t,e){var n=s.createOrUpdateEmpty(e);return s.extendCoordinates(n,t)},createOrUpdateFromFlatCoordinates:function(t,e,n,i,r){var o=s.createOrUpdateEmpty(r);return s.extendFlatCoordinates(o,t,e,n,i)},createOrUpdateFromRings:function(t,e){var n=s.createOrUpdateEmpty(e);return s.extendRings(n,t)},equals:function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},extend:function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},extendCoordinate:function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},extendCoordinates:function(t,e){var n,i;for(n=0,i=e.length;n<i;++n)s.extendCoordinate(t,e[n]);return t},extendFlatCoordinates:function(t,e,n,i,r){for(;n<i;n+=r)s.extendXY(t,e[n],e[n+1]);return t},extendRings:function(t,e){var n,i;for(n=0,i=e.length;n<i;++n)s.extendCoordinates(t,e[n]);return t},extendXY:function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},forEachCorner:function(t,e,n){var i;return(i=e.call(n,s.getBottomLeft(t)))?i:(i=e.call(n,s.getBottomRight(t)))?i:(i=e.call(n,s.getTopRight(t)))?i:(i=e.call(n,s.getTopLeft(t)))||!1},getArea:function(t){var e=0;return s.isEmpty(t)||(e=s.getWidth(t)*s.getHeight(t)),e},getBottomLeft:function(t){return[t[0],t[1]]},getBottomRight:function(t){return[t[2],t[1]]},getCenter:function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},getCorner:function(t,e){var n;return e===r.a.BOTTOM_LEFT?n=s.getBottomLeft(t):e===r.a.BOTTOM_RIGHT?n=s.getBottomRight(t):e===r.a.TOP_LEFT?n=s.getTopLeft(t):e===r.a.TOP_RIGHT?n=s.getTopRight(t):i.a.assert(!1,13),n},getEnlargedArea:function(t,e){var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-i)},getForViewAndSize:function(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,l=Math.cos(n),u=Math.sin(n),c=o*l,h=o*u,f=a*l,p=a*u,d=t[0],g=t[1],v=d-c+p,m=d-c-p,y=d+c-p,_=d+c+p,x=g-h-f,E=g-h+f,b=g+h+f,T=g+h-f;return s.createOrUpdate(Math.min(v,m,y,_),Math.min(x,E,b,T),Math.max(v,m,y,_),Math.max(x,E,b,T),r)},getHeight:function(t){return t[3]-t[1]},getIntersectionArea:function(t,e){var n=s.getIntersection(t,e);return s.getArea(n)},getIntersection:function(t,e,n){var i=n||s.createEmpty();return s.intersects(t,e)&&(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]),i},getMargin:function(t){return s.getWidth(t)+s.getHeight(t)},getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:function(t){return[t[0],t[3]]},getTopRight:function(t){return[t[2],t[3]]},getWidth:function(t){return t[2]-t[0]},intersects:function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},isEmpty:function(t){return t[2]<t[0]||t[3]<t[1]},returnOrUpdate:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},scaleFromCenter:function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i},intersectsSegment:function(t,e,n){var i=!1,r=s.coordinateRelationship(t,e),a=s.coordinateRelationship(t,n);if(r===o.a.INTERSECTING||a===o.a.INTERSECTING)i=!0;else{var l,u,c=t[0],h=t[1],f=t[2],p=t[3],d=e[0],g=e[1],v=n[0],m=n[1],y=(m-g)/(v-d);a&o.a.ABOVE&&!(r&o.a.ABOVE)&&(i=(l=v-(m-p)/y)>=c&&l<=f),i||!(a&o.a.RIGHT)||r&o.a.RIGHT||(i=(u=m-(v-f)*y)>=h&&u<=p),i||!(a&o.a.BELOW)||r&o.a.BELOW||(i=(l=v-(m-h)/y)>=c&&l<=f),i||!(a&o.a.LEFT)||r&o.a.LEFT||(i=(u=m-(v-c)*y)>=h&&u<=p)}return i},applyTransform:function(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(i,i,2);var r=[i[0],i[2],i[4],i[6]],o=[i[1],i[3],i[5],i[7]];return s.boundingExtentXYs_(r,o,n)}};e.a=s},function(t,e,n){"use strict";var i=n(12),r={bindListener_:function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&r.unlistenByKey(t),n.call(i,e)};return t.boundListener=e,e},findListener_:function(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r},getListeners:function(t,e){var n=t.ol_lm;return n?n[e]:void 0},getListenerMap_:function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},removeListeners_:function(t,e){var n=r.getListeners(t,e);if(n){for(var o=0,s=n.length;o<s;++o)t.removeEventListener(e,n[o].boundListener),i.a.clear(n[o]);n.length=0;var a=t.ol_lm;a&&(delete a[e],0===Object.keys(a).length&&delete t.ol_lm)}},listen:function(t,e,n,i,o){var s=r.getListenerMap_(t),a=s[e];a||(a=s[e]=[]);var l=r.findListener_(a,n,i,!1);return l?o||(l.callOnce=!1):(l={bindTo:i,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,r.bindListener_(l)),a.push(l)),l},listenOnce:function(t,e,n,i){return r.listen(t,e,n,i,!0)},unlisten:function(t,e,n,i){var o=r.getListeners(t,e);if(o){var s=r.findListener_(o,n,i,!0);s&&r.unlistenByKey(s)}},unlistenByKey:function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=r.getListeners(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&r.removeListeners_(t.target,t.type)}i.a.clear(t)}},unlistenAll:function(t){var e=r.getListenerMap_(t);for(var n in e)r.removeListeners_(t,n)}};e.a=r},function(t,e,n){"use strict";var i=n(13),r={};r.tmp_=new Array(6),r.create=function(){return[1,0,0,1,0,0]},r.reset=function(t){return r.set(t,1,0,0,1,0,0)},r.multiply=function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=e[0],u=e[1],c=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*h,t[3]=i*c+o*h,t[4]=n*f+r*p+s,t[5]=i*f+o*p+a,t},r.set=function(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t},r.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.apply=function(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e},r.rotate=function(t,e){var n=Math.cos(e),i=Math.sin(e);return r.multiply(t,r.set(r.tmp_,n,i,-i,n,0,0))},r.scale=function(t,e,n){return r.multiply(t,r.set(r.tmp_,e,0,0,n,0,0))},r.translate=function(t,e,n){return r.multiply(t,r.set(r.tmp_,1,0,0,1,e,n))},r.compose=function(t,e,n,i,r,o,s,a){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=s*i*u-a*i*l+e,t[5]=s*r*l+a*r*u+n,t},r.invert=function(t){var e=r.determinant(t);i.a.assert(0!==e,32);var n=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=t[5];return t[0]=a/e,t[1]=-o/e,t[2]=-s/e,t[3]=n/e,t[4]=(s*u-a*l)/e,t[5]=-(n*u-o*l)/e,t},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.a=r},function(t,e,n){"use strict";var i={ONE:1,SRC_ALPHA:770,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,TRIANGLES:4,TRIANGLE_STRIP:5,ONE_MINUS_SRC_ALPHA:771,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,CULL_FACE:2884,BLEND:3042,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126,RGBA:6408,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,LINK_STATUS:35714,LINEAR:9729,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE0:33984,CLAMP_TO_EDGE:33071,COMPILE_STATUS:35713,FRAMEBUFFER:36160,CONTEXT_IDS_:["experimental-webgl","webgl","webkit-3d","moz-webgl"],getContext:function(t,e){var n,r,o=i.CONTEXT_IDS_.length;for(r=0;r<o;++r)try{if(n=t.getContext(i.CONTEXT_IDS_[r],e))return n}catch(t){}return null}};e.a=i},function(t,e,n){var i=n(25),r=n(47),o=n(60),s=n(55),a=n(77),l=function(t,e,n){var u,c,h,f,p=t&l.F,d=t&l.G,g=t&l.S,v=t&l.P,m=t&l.B,y=d?i:g?i[e]||(i[e]={}):(i[e]||{}).prototype,_=d?r:r[e]||(r[e]={}),x=_.prototype||(_.prototype={});for(u in d&&(n=e),n)h=((c=!p&&y&&void 0!==y[u])?y:n)[u],f=m&&c?a(h,i):v&&"function"==typeof h?a(Function.call,h):h,y&&s(y,u,h,t&l.U),_[u]!=h&&o(_,u,f),v&&x[u]!=h&&(x[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var i=n(159),r=36e5,o=6e4,s=/[T ]/,a=/:/,l=/^(\d{2})$/,u=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],c=/^(\d{4})/,h=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],f=/^-(\d{2})$/,p=/^-?(\d{3})$/,d=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,v=/^-?W(\d{2})-?(\d{1})$/,m=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,E=/^(Z)$/,b=/^([+-])(\d{2})$/,T=/^([+-])(\d{2}):?(\d{2})$/;function w(t,e,n){e=e||0,n=n||0;var i=new Date(0);i.setUTCFullYear(t,0,4);var r=7*e+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}t.exports=function(t,e){if(i(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?2:Number(n);var S=function(t){var e,n={},i=t.split(s);if(a.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1]),e){var r=x.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}(t),C=function(t,e){var n,i=u[e],r=h[e];if(n=c.exec(t)||r.exec(t)){var o=n[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(n=l.exec(t)||i.exec(t)){var s=n[1];return{year:100*parseInt(s,10),restDateString:t.slice(s.length)}}return{year:null}}(S.date,n),I=C.year,R=function(t,e){if(null===e)return null;var n,i,r;if(0===t.length)return(i=new Date(0)).setUTCFullYear(e),i;if(n=f.exec(t))return i=new Date(0),r=parseInt(n[1],10)-1,i.setUTCFullYear(e,r),i;if(n=p.exec(t)){i=new Date(0);var o=parseInt(n[1],10);return i.setUTCFullYear(e,0,o),i}if(n=d.exec(t)){i=new Date(0),r=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return i.setUTCFullYear(e,r,s),i}return(n=g.exec(t))?w(e,parseInt(n[1],10)-1):(n=v.exec(t))?w(e,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(C.restDateString,I);if(R){var A,L=R.getTime(),k=0;return S.time&&(k=function(t){var e,n,i;if(e=m.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*r;if(e=y.exec(t))return n=parseInt(e[1],10),i=parseFloat(e[2].replace(",",".")),n%24*r+i*o;if(e=_.exec(t)){n=parseInt(e[1],10),i=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return n%24*r+i*o+1e3*s}return null}(S.time)),S.timezone?A=function(t){var e,n;return(e=E.exec(t))?0:(e=b.exec(t))?(n=60*parseInt(e[2],10),"+"===e[1]?-n:n):(e=T.exec(t))?(n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n):0}(S.timezone):(A=new Date(L+k).getTimezoneOffset(),A=new Date(L+k+A*o).getTimezoneOffset()),new Date(L+k+A*o)}return new Date(t)}},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";var i=n(33),r=n(15),o=n(12),s=n(101),a=n(3),l={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:"center",defaultTextBaseline:"middle",defaultPadding:[0,0,0,0],defaultLineWidth:1};l.labelCache=new s.a,l.checkedFonts_={},l.measureContext_=null,l.textHeights_={},l.checkFont=function(){var t,e,n=60,r=l.checkedFonts_,s=l.labelCache,a="32px monospace",u="wmytzilWMYTZIL@#/&?$%10";function c(t){var n=l.getMeasureContext();n.font=a,e=n.measureText(u).width;var i=!0;return"monospace"!=t&&(n.font="32px "+t+",monospace",i=n.measureText(u).width!=e),i}function h(){var e=!0;for(var i in r)r[i]<n&&(c(i)?(r[i]=n,o.a.clear(l.textHeights_),l.measureContext_=null,s.clear()):(++r[i],e=!1));e&&(window.clearInterval(t),t=void 0)}return function(e){var o=i.a.getFontFamilies(e);if(o)for(var s=0,a=o.length;s<a;++s){var l=o[s];l in r||(r[l]=n,c(l)||(r[l]=0,void 0===t&&(t=window.setInterval(h,32))))}}}(),l.getMeasureContext=function(){var t=l.measureContext_;return t||(t=l.measureContext_=r.a.createCanvasContext2D(1,1)),t},l.measureTextHeight=function(){var t,e=l.textHeights_;return function(n){var i=e[n];return void 0==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=e[n]=t.offsetHeight,document.body.removeChild(t)),i}}(),l.measureTextWidth=function(t,e){var n=l.getMeasureContext();return t!=n.font&&(n.font=t),n.measureText(e).width},l.rotateAtOffset=function(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))},l.resetTransform_=a.a.create(),l.drawImage=function(t,e,n,i,r,o,s,a,u,c,h){var f;1!=n&&(f=t.globalAlpha,t.globalAlpha=f*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,u,c,s*h,a*h),f&&(t.globalAlpha=f),e&&t.setTransform.apply(t,l.resetTransform_)},e.a=l},function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";var i=n(13),r={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)}};r.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},r.roundUpToPowerOfTwo=function(t){return i.a.assert(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},r.squaredSegmentDistance=function(t,e,n,i,o,s){var a=o-n,l=s-i;if(0!==a||0!==l){var u=((t-n)*a+(e-i)*l)/(a*a+l*l);u>1?(n=o,i=s):u>0&&(n+=a*u,i+=l*u)}return r.squaredDistance(t,e,n,i)},r.squaredDistance=function(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o},r.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h},r.toDegrees=function(t){return 180*t/Math.PI},r.toRadians=function(t){return t*Math.PI/180},r.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},r.lerp=function(t,e,n){return t+n*(e-t)},e.a=r},function(t,e,n){"use strict";var i={};i.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(void 0!==o&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n},i.clear=function(t){for(var e in t)delete t[e]},i.getValues=function(t){var e=[];for(var n in t)e.push(t[n]);return e},i.isEmpty=function(t){var e;for(e in t)return!1;return!e},e.a=i},function(t,e,n){"use strict";var i=n(151),r={assert:function(t,e){if(!t)throw new i.a(e)}};e.a=r},function(t,e,n){"use strict";var i={binarySearch:function(t,e,n){for(var r,o,s=n||i.numberSafeCompareFunction,a=0,l=t.length,u=!1;a<l;)(o=+s(t[r=a+(l-a>>1)],e))<0?a=r+1:(l=r,u=!o);return u?a:~a},numberSafeCompareFunction:function(t,e){return t>e?1:t<e?-1:0},includes:function(t,e){return t.indexOf(e)>=0},linearFindNearest:function(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1},reverseSubArray:function(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}},extend:function(t,e){var n,i=Array.isArray(e)?e:[e],r=i.length;for(n=0;n<r;n++)t[t.length]=i[n]},remove:function(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i},find:function(t,e){for(var n,i=t.length>>>0,r=0;r<i;r++)if(e(n=t[r],r,t))return n;return null},equals:function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},stableSort:function(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value},findIndex:function(t,e){var n;return t.every(function(i,r){return n=r,!e(i,r,t)})?-1:n},isSorted:function(t,e,n){var r=e||i.numberSafeCompareFunction;return t.every(function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)})}};e.a=i},function(t,e,n){"use strict";var i={createCanvasContext2D:function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")},outerWidth:function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))},outerHeight:function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))},replaceNode:function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},removeNode:function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}};e.a=i},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},o=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||r,this.options=e,this.debug=e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},t.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,i({prefix:this.prefix+":"+e+":"},this.options))},t}()),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;return t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)}),this},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var i=n.observers[t].indexOf(e);i>-1&&n.observers[t].splice(i,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})},t}();function a(t){return null==t?"":""+t}function l(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return r()?{}:{obj:t,k:i(o.shift())}}function u(t,e,n){var i=l(t,e,Object);i.obj[i.k]=n}function c(t,e){var n=l(t,e),i=n.obj,r=n.k;if(i)return i[r]}function h(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function p(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return f[t]}):t}var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var g=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.data=n||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(o=t.split(".")),c(this.data,o)},e.prototype.addResource=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[t,e];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(i=e,e=(s=t.split("."))[1]),this.addNamespaces(e),u(this.data,s,i),r.silent||this.emit("added",t,e,n,i)},e.prototype.addResources=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(i=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=c(this.data,s)||{};i?function t(e,n,i){for(var r in n)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(e[r]=n[r]):t(e[r],n[r],i):e[r]=n[r];return e}(a,n,r):a=d({},a,n),u(this.data,s,a),o.silent||this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?d({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.getDataByLanguage=function(t){return this.data[t]},e.prototype.toJSON=function(){return this.data},e}(s),v={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,i,r))}),e}},m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var _=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return function(t,e,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"].forEach(function(t){e[t]&&(n[t]=e[t])})}(0,n,r),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=o.create("translator"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),t=o.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},e.prototype.translate=function(t,e){var n=this;if("object"!==(void 0===e?"undefined":y(e))&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=this.extractFromKey(t[t.length-1],e),o=r.key,s=r.namespaces,a=s[s.length-1],l=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){var c=e.nsSeparator||this.options.nsSeparator;return a+c+o}return o}var h=this.resolve(t,e),f=h&&h.res,p=h&&h.usedKey||o,d=Object.prototype.toString.apply(f),g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(f&&"string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f&&["[object Number]","[object Function]","[object RegExp]"].indexOf(d)<0&&(!g||"[object Array]"!==d)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,e):"key '"+o+" ("+this.language+")' returned an object instead of string.";if(i){var v="[object Array]"===d?[]:{};for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){var x=""+p+i+_;v[_]=this.translate(x,m({},e,{joinArrays:!1,ns:s})),v[_]===x&&(v[_]=f[_])}f=v}}else if(g&&"[object Array]"===d)(f=f.join(g))&&(f=this.extendTranslation(f,t,e));else{var E=!1,b=!1;this.isValidLookup(f)||void 0===e.defaultValue||(E=!0,f=e.defaultValue),this.isValidLookup(f)||(b=!0,f=o);var T=e.defaultValue&&e.defaultValue!==f&&this.options.updateMissing;if(b||E||T){this.logger.log(T?"updateKey":"missingKey",l,a,o,T?e.defaultValue:f);var w=[],S=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&S&&S[0])for(var C=0;C<S.length;C++)w.push(S[C]);else"all"===this.options.saveMissingTo?w=this.languageUtils.toResolveHierarchy(e.lng||this.language):w.push(e.lng||this.language);var I=function(t,i){n.options.missingKeyHandler?n.options.missingKeyHandler(t,a,i,T?e.defaultValue:f,T,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,a,i,T?e.defaultValue:f,T,e),n.emit("missingKey",t,a,i,f)};if(this.options.saveMissing){var R=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&R?w.forEach(function(t){n.pluralResolver.getPluralFormsOfKey(t,o).forEach(function(e){return I([t],e)})}):I(w,o)}}f=this.extendTranslation(f,t,e,h),b&&f===o&&this.options.appendNamespaceToMissingKey&&(f=a+":"+o),b&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f},e.prototype.extendTranslation=function(t,e,n,i){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(m({},n,{interpolation:m({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=m({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return void 0!==t&&null!==t&&a&&a.length&&!1!==n.applyPostProcessor&&(t=v.handle(a,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,r=void 0,o=void 0,s=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(i)){var a=e.extractFromKey(t,n),l=a.key;r=l;var u=a.namespaces;e.options.fallbackNS&&(u=u.concat(e.options.fallbackNS));var c=void 0!==n.count&&"string"!=typeof n.count,h=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,f=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);u.forEach(function(t){e.isValidLookup(i)||(s=t,f.forEach(function(r){if(!e.isValidLookup(i)){o=r;var s=l,a=[s];if(e.i18nFormat&&e.i18nFormat.addLookupKeys)e.i18nFormat.addLookupKeys(a,l,r,t,n);else{var u=void 0;c&&(u=e.pluralResolver.getSuffix(r,n.count)),c&&h&&a.push(s+u),h&&a.push(s+=""+e.options.contextSeparator+n.context),c&&a.push(s+=u)}for(var f=void 0;f=a.pop();)e.isValidLookup(i)||(i=e.getResource(r,t,f,n))}}))})}}),{res:i,usedKey:r,usedLng:o,usedNS:s}},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,i)},e}(s);function x(t){return t.charAt(0).toUpperCase()+t.slice(1)}var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=o.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=x(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=x(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=x(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],o=function(t){t&&(n.isWhitelisted(t)?r.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),i.forEach(function(t){r.indexOf(t)<0&&o(n.formatLanguageCode(t))}),r},t}(),b=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],T={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},w=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.languageUtils=e,this.options=n,this.logger=o.create("pluralResolver"),this.rules=function(){var t={};return b.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:T[e.fc]}})}),t}()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&e.numbers.length>1},t.prototype.getPluralFormsOfKey=function(t,e){var n=this,i=[],r=this.getRule(t);return r?(r.numbers.forEach(function(r){var o=n.getSuffix(t,r);i.push(""+e+o)}),i):i},t.prototype.getSuffix=function(t,e){var n=this,i=this.getRule(t);if(i){var r=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var s=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():s():"v2"===this.options.compatibilityJSON&&2===i.numbers.length&&1===i.numbers[0]?s():this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}(),S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},C=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=o.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t}),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:p,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?h(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?h(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?h(e.nestingPrefix):e.nestingPrefixEscaped||h("$t("),this.nestingSuffix=e.nestingSuffix?h(e.nestingSuffix):e.nestingSuffixEscaped||h(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){var i=this,r=void 0,o=void 0,s=void 0;function l(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(i.formatSeparator)<0)return c(e,t);var r=t.split(i.formatSeparator),o=r.shift().trim(),s=r.join(i.formatSeparator).trim();return i.format(c(e,o),s,n)};for(this.resetRegExp(),s=0;(r=this.regexpUnescape.exec(t))&&(o=u(r[1].trim()),t=t.replace(r[0],o),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;r=this.regexp.exec(t);){if(void 0===(o=u(r[1].trim())))if("function"==typeof this.options.missingInterpolationHandler){var h=this.options.missingInterpolationHandler(t,r);o="string"==typeof h?h:""}else this.logger.warn("missed to pass in variable "+r[1]+" for interpolating "+t),o="";else"string"==typeof o||this.useRawValueToEscape||(o=a(o));if(o=this.escapeValue?l(this.escape(o)):l(o),t=t.replace(r[0],o),this.regexp.lastIndex=0,++s>=this.maxReplaces)break}return t},t.prototype.nest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,r=void 0,o=S({},n);function s(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var i=n.join(",");i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),e&&(o=S({},e,o))}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}for(o.applyPostProcessor=!1;i=this.nestingRegexp.exec(t);){if((r=e(s.call(this,i[1].trim(),o),o))&&i[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=a(r)),r||(this.logger.warn("missed to resolve "+i[1]+" for nesting "+t),r=""),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t},t}(),I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},R=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var A=function(t){function e(n,i,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.backend=n,a.store=i,a.languageUtils=r.languageUtils,a.options=s,a.logger=o.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,s.backend,s),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}(e,t),e.prototype.queueLoad=function(t,e,n){var i=this,r=[],o=[],s=[],a=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var s=t+"|"+e;i.store.hasResourceBundle(t,e)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?o.indexOf(s)<0&&o.push(s):(i.state[s]=1,n=!1,o.indexOf(s)<0&&o.push(s),r.indexOf(s)<0&&r.push(s),a.indexOf(e)<0&&a.push(e)))}),n||s.push(t)}),(r.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:r,pending:o,toLoadLanguages:s,toLoadNamespaces:a}},e.prototype.loaded=function(t,e,n){var i=t.split("|"),r=R(i,2),o=r[0],s=r[1];e&&this.emit("failedLoading",o,s,e),n&&this.store.addResourceBundle(o,s,n),this.state[t]=e?-1:2;var a={};this.queue.forEach(function(n){!function(t,e,n,i){var r=l(t,e,Object),o=r.obj,s=r.k;o[s]=o[s]||[],o[s].push(n)}(n.loaded,[o],s),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach(function(e){a[t].indexOf(e)<0&&a[t].push(e)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,s=arguments[5];return t.length?this.backend[n](t,e,function(a,l){a&&l&&i<5?setTimeout(function(){r.read.call(r,t,e,n,i+1,2*o,s)},o):s(a,l)}):s(null,{})},e.prototype.load=function(t,e,n){var i=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var r=this.queueLoad(t,e,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(function(t){i.loadOne(t)})},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources."),"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),t.forEach(function(t){e.forEach(function(e){n.loadOne(t+"|"+e,"re")})})},e.prototype.loadOne=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),r=R(i,2),o=r[0],s=r[1];this.read(o,s,"read",null,null,function(i,r){i&&e.logger.warn(n+"loading namespace "+s+" for language "+o+" failed",i),!i&&r&&e.logger.log(n+"loaded namespace "+s+" for language "+o,r),e.loaded(t,i,r)})},e.prototype.saveMissing=function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,i,null,I({},o,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,i)},e}(s);function L(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function P(){}var M=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=D(this,t.call(this));if(r.options=L(n),r.services={},r.logger=o,r.modules={external:[]},i&&!r.isInitialized&&!n.isClone){var s;if(!r.options.initImmediate)return s=r.init(n,i),D(r,s);setTimeout(function(){r.init(n,i)},0)}return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}}(t,e))}(e,t),e.prototype.init=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function i(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=O({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,L(e)),this.format=this.options.interpolation.format,n||(n=P),!this.options.isClone){this.modules.logger?o.init(i(this.modules.logger),this.options):o.init(null,this.options);var r=new E(this.options);this.store=new g(this.options.resources,this.options);var s=this.services;s.logger=o,s.resourceStore=this.store,s.languageUtils=r,s.pluralResolver=new w(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new C(this.options),s.backendConnector=new A(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))}),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new _(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e].concat(i))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var a=function(){t.changeLanguage(t.options.lng,function(e,i){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),n(e,i)})};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};this.language?i(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return i(t)}),this.options.preload&&this.options.preload.forEach(function(t){return i(t)}),this.services.backendConnector.load(n,this.options.ns,e)}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&v.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var n=this,i=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(i){!function(t,i){n.translator.changeLanguage(i),i&&(n.emit("languageChanged",i),n.logger.log("languageChanged",i)),e&&e(t,function(){return n.t.apply(n,arguments)})}(i,t)})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var n=this,i=function t(e,i){for(var r=arguments.length,o=Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var a=O({},i);return"object"!==(void 0===i?"undefined":k(i))&&(a=n.options.overloadTranslationOptionHandler([e,i].concat(o))),a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,n.t(e,a)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i},e.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},e.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],i=t.filter(function(t){return n.indexOf(t)<0});if(!i.length)return e();this.options.preload=n.concat(i),this.loadResources(e)},e.prototype.dir=function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,r=O({},this.options,n,{isClone:!0}),o=new e(r);return["store","services","language"].forEach(function(e){o[e]=t[e]}),o.translator=new _(o.services,o.options),o.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];o.emit.apply(o,[t].concat(n))}),o.init(r,i),o.translator.options=o.options,o},e}(s);e.a=new M},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";var i=n(0),r=n(71),o=n(117),s=n(27),a=n(12),l=function(t){o.a.call(this),i.a.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};i.a.inherits(l,o.a),l.changeEventTypeCache_={},l.getChangeEventType=function(t){return l.changeEventTypeCache_.hasOwnProperty(t)?l.changeEventTypeCache_[t]:l.changeEventTypeCache_[t]="change:"+t},l.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},l.prototype.getKeys=function(){return Object.keys(this.values_)},l.prototype.getProperties=function(){return a.a.assign({},this.values_)},l.prototype.notify=function(t,e){var n;n=l.getChangeEventType(t),this.dispatchEvent(new l.Event(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new l.Event(n,t,e))},l.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},l.prototype.setProperties=function(t,e){var n;for(n in t)this.set(n,t[n],e)},l.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},l.Event=function(t,e,n){s.a.call(this,t),this.key=e,this.oldValue=n},i.a.inherits(l.Event,s.a),e.a=l},function(t,e,n){"use strict";e.a={TRUE:function(){return!0},FALSE:function(){return!1}}},function(t,e,n){"use strict";var i=n(0),r=n(11),o=n(7),s=function(t){this.radius=t};s.prototype.geodesicArea=function(t){return s.getArea_(t,this.radius)},s.prototype.haversineDistance=function(t,e){return s.getDistance_(t,e,this.radius)},s.prototype.offset=function(t,e,n){var i=r.a.toRadians(t[1]),o=r.a.toRadians(t[0]),s=e/this.radius,a=Math.asin(Math.sin(i)*Math.cos(s)+Math.cos(i)*Math.sin(s)*Math.cos(n)),l=o+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(i),Math.cos(s)-Math.sin(i)*Math.sin(a));return[r.a.toDegrees(l),r.a.toDegrees(a)]},s.DEFAULT_RADIUS=6371008.8,s.getLength=function(t,e){var n,i,r,a,l,u,c=e||{},h=c.radius||s.DEFAULT_RADIUS,f=c.projection||"EPSG:3857",p=(t=t.clone().transform(f,"EPSG:4326")).getType(),d=0;switch(p){case o.a.POINT:case o.a.MULTI_POINT:break;case o.a.LINE_STRING:case o.a.LINEAR_RING:n=t.getCoordinates(),d=s.getLength_(n,h);break;case o.a.MULTI_LINE_STRING:case o.a.POLYGON:for(r=0,a=(n=t.getCoordinates()).length;r<a;++r)d+=s.getLength_(n[r],h);break;case o.a.MULTI_POLYGON:for(r=0,a=(n=t.getCoordinates()).length;r<a;++r)for(l=0,u=(i=n[r]).length;l<u;++l)d+=s.getLength_(i[l],h);break;case o.a.GEOMETRY_COLLECTION:var g=t.getGeometries();for(r=0,a=g.length;r<a;++r)d+=s.getLength(g[r],e);break;default:throw new Error("Unsupported geometry type: "+p)}return d},s.getLength_=function(t,e){for(var n=0,i=0,r=t.length;i<r-1;++i)n+=s.getDistance_(t[i],t[i+1],e);return n},s.getDistance_=function(t,e,n){var i=r.a.toRadians(t[1]),o=r.a.toRadians(e[1]),s=(o-i)/2,a=r.a.toRadians(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))},s.getArea=function(t,e){var n,i,r,a,l,u,c=e||{},h=c.radius||s.DEFAULT_RADIUS,f=c.projection||"EPSG:3857",p=(t=t.clone().transform(f,"EPSG:4326")).getType(),d=0;switch(p){case o.a.POINT:case o.a.MULTI_POINT:case o.a.LINE_STRING:case o.a.MULTI_LINE_STRING:case o.a.LINEAR_RING:break;case o.a.POLYGON:for(n=t.getCoordinates(),d=Math.abs(s.getArea_(n[0],h)),r=1,a=n.length;r<a;++r)d-=Math.abs(s.getArea_(n[r],h));break;case o.a.MULTI_POLYGON:for(r=0,a=(n=t.getCoordinates()).length;r<a;++r)for(i=n[r],d+=Math.abs(s.getArea_(i[0],h)),l=1,u=i.length;l<u;++l)d-=Math.abs(s.getArea_(i[l],h));break;case o.a.GEOMETRY_COLLECTION:var g=t.getGeometries();for(r=0,a=g.length;r<a;++r)d+=s.getArea(g[r],e);break;default:throw new Error("Unsupported geometry type: "+p)}return d},s.getArea_=function(t,e){for(var n=0,i=t.length,o=t[i-1][0],s=t[i-1][1],a=0;a<i;a++){var l=t[a][0],u=t[a][1];n+=r.a.toRadians(l-o)*(2+Math.sin(r.a.toRadians(s))+Math.sin(r.a.toRadians(u))),o=l,s=u}return n*e*e/2};var a=s,l=n(1),u=n(42),c={cache_:null,set:function(t){c.cache_=t},get:function(){return c.cache_||window.proj4}},h=c,f=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(i.a.ENABLE_PROJ4JS){var n=h.get();if("function"==typeof n){var r=n.defs(e);void 0!==r&&(void 0!==r.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=r.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===t.units&&(this.units_=r.units))}}};f.prototype.canWrapX=function(){return this.canWrapX_},f.prototype.getCode=function(){return this.code_},f.prototype.getExtent=function(){return this.extent_},f.prototype.getUnits=function(){return this.units_},f.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||u.a.METERS_PER_UNIT[this.units_]},f.prototype.getWorldExtent=function(){return this.worldExtent_},f.prototype.getAxisOrientation=function(){return this.axisOrientation_},f.prototype.isGlobal=function(){return this.global_},f.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},f.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},f.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},f.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},f.prototype.setWorldExtent=function(t){this.worldExtent_=t},f.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},f.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var p=f,d={Projection_:function(t){p.call(this,{code:t,units:u.a.METERS,extent:d.EXTENT,global:!0,worldExtent:d.WORLD_EXTENT,getPointResolution:function(t,e){return t/r.a.cosh(e[1]/d.RADIUS)}})}};i.a.inherits(d.Projection_,p),d.RADIUS=6378137,d.HALF_SIZE=Math.PI*d.RADIUS,d.EXTENT=[-d.HALF_SIZE,-d.HALF_SIZE,d.HALF_SIZE,d.HALF_SIZE],d.WORLD_EXTENT=[-180,-85,180,85],d.PROJECTIONS=[new d.Projection_("EPSG:3857"),new d.Projection_("EPSG:102100"),new d.Projection_("EPSG:102113"),new d.Projection_("EPSG:900913"),new d.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d.Projection_("urn:ogc:def:crs:EPSG::3857"),new d.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],d.fromEPSG4326=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=d.HALF_SIZE,a=0;a<i;a+=r){o[a]=s*t[a]/180;var l=d.RADIUS*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));l>s?l=s:l<-s&&(l=-s),o[a+1]=l}return o},d.toEPSG4326=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/d.HALF_SIZE,o[s+1]=360*Math.atan(Math.exp(t[s+1]/d.RADIUS))/Math.PI-90;return o};var g=d,v={Projection_:function(t,e){p.call(this,{code:t,units:u.a.DEGREES,extent:v.EXTENT,axisOrientation:e,global:!0,metersPerUnit:v.METERS_PER_UNIT,worldExtent:v.EXTENT})}};i.a.inherits(v.Projection_,p),v.RADIUS=6378137,v.EXTENT=[-180,-90,180,90],v.METERS_PER_UNIT=Math.PI*v.RADIUS/180,v.PROJECTIONS=[new v.Projection_("CRS:84"),new v.Projection_("EPSG:4326","neu"),new v.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new v.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new v.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new v.Projection_("urn:ogc:def:crs:OGC:2:84"),new v.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new v.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];var m=v,y={cache_:{},clear:function(){y.cache_={}},get:function(t){return y.cache_[t]||null},add:function(t,e){y.cache_[t]=e}},_=y,x=n(12),E={cache_:{},clear:function(){E.cache_={}},add:function(t,e,n){var i=t.getCode(),r=e.getCode(),o=E.cache_;i in o||(o[i]={}),o[i][r]=n},remove:function(t,e){var n=t.getCode(),i=e.getCode(),r=E.cache_,o=r[n][i];return delete r[n][i],x.a.isEmpty(r[n])&&delete r[n],o},get:function(t,e){var n,i=E.cache_;return t in i&&e in i[t]&&(n=i[t][e]),n}},b=E,T={};T.METERS_PER_UNIT=u.a.METERS_PER_UNIT,T.SPHERE_=new a(a.DEFAULT_RADIUS),i.a.ENABLE_PROJ4JS&&(T.setProj4=function(t){h.set(t)}),T.getPointResolution=function(t,e,n,i){var r,o=(t=T.get(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==u.a.DEGREES&&!i||i==u.a.DEGREES)r=e;else{var s=T.getTransformFromProjections(t,T.get("EPSG:4326")),a=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];a=s(a,a,2),r=(T.SPHERE_.haversineDistance(a.slice(0,2),a.slice(2,4))+T.SPHERE_.haversineDistance(a.slice(4,6),a.slice(6,8)))/2;var l=i?u.a.METERS_PER_UNIT[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}return r},T.addEquivalentProjections=function(t){T.addProjections(t),t.forEach(function(e){t.forEach(function(t){e!==t&&b.add(e,t,T.cloneTransform)})})},T.addEquivalentTransforms=function(t,e,n,i){t.forEach(function(t){e.forEach(function(e){b.add(t,e,n),b.add(e,t,i)})})},T.addProjection=function(t){_.add(t.getCode(),t),b.add(t,t,T.cloneTransform)},T.addProjections=function(t){t.forEach(T.addProjection)},T.clearAllProjections=function(){_.clear(),b.clear()},T.createProjection=function(t,e){return t?"string"==typeof t?T.get(t):t:T.get(e)},T.addCoordinateTransforms=function(t,e,n,i){var r=T.get(t),o=T.get(e);b.add(r,o,T.createTransformFromCoordinateTransform(n)),b.add(o,r,T.createTransformFromCoordinateTransform(i))},T.createTransformFromCoordinateTransform=function(t){return function(e,n,i){var r,o,s,a=e.length,l=void 0!==i?i:2,u=void 0!==n?n:new Array(a);for(o=0;o<a;o+=l)for(r=t([e[o],e[o+1]]),u[o]=r[0],u[o+1]=r[1],s=l-1;s>=2;--s)u[o+s]=e[o+s];return u}},T.fromLonLat=function(t,e){return T.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},T.toLonLat=function(t,e){var n=T.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=r.a.modulo(i+180,360)-180),n},T.get=function(t){var e=null;if(t instanceof p)e=t;else if("string"==typeof t){var n=t;if(e=_.get(n),i.a.ENABLE_PROJ4JS&&!e){var r=h.get();"function"==typeof r&&void 0!==r.defs(n)&&(e=new p({code:n}),T.addProjection(e))}}return e},T.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:T.getTransformFromProjections(t,e)===T.cloneTransform&&n},T.getTransform=function(t,e){var n=T.get(t),i=T.get(e);return T.getTransformFromProjections(n,i)},T.getTransformFromProjections=function(t,e){var n=t.getCode(),r=e.getCode(),o=b.get(n,r);if(i.a.ENABLE_PROJ4JS&&!o){var s=h.get();if("function"==typeof s){var a=s.defs(n),l=s.defs(r);if(void 0!==a&&void 0!==l){if(a===l)T.addEquivalentProjections([e,t]);else{var u=s(r,n);T.addCoordinateTransforms(e,t,u.forward,u.inverse)}o=b.get(n,r)}}}return o||(o=T.identityTransform),o},T.identityTransform=function(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t},T.cloneTransform=function(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i},T.transform=function(t,e,n){return T.getTransform(e,n)(t,void 0,t.length)},T.transformExtent=function(t,e,n){var i=T.getTransform(e,n);return l.a.applyTransform(t,i)},T.transformWithProjections=function(t,e,n){return T.getTransformFromProjections(e,n)(t)},T.addCommon=function(){T.addEquivalentProjections(g.PROJECTIONS),T.addEquivalentProjections(m.PROJECTIONS),T.addEquivalentTransforms(m.PROJECTIONS,g.PROJECTIONS,g.fromEPSG4326,g.toEPSG4326)},T.addCommon(),e.a=T},function(t,e,n){"use strict";var i=n(9),r={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};e.a=r},function(t,e,n){"use strict";var i=n(0),r=n(4),o={},s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";o.FIREFOX=-1!==s.indexOf("firefox"),o.SAFARI=-1!==s.indexOf("safari")&&-1==s.indexOf("chrom"),o.WEBKIT=-1!==s.indexOf("webkit")&&-1==s.indexOf("edge"),o.MAC=-1!==s.indexOf("macintosh"),o.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,o.CANVAS_LINE_DASH=!1,o.CANVAS=i.a.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(o.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),o.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,o.GEOLOCATION="geolocation"in navigator,o.TOUCH=i.a.ASSUME_TOUCH||"ontouchstart"in window,o.POINTER="PointerEvent"in window,o.MSPOINTER=!!navigator.msPointerEnabled,o.WEBGL,function(){if(i.a.ENABLE_WEBGL){var t,e=!1,n=[];if("WebGLRenderingContext"in window)try{var s=document.createElement("CANVAS"),a=r.a.getContext(s,{failIfMajorPerformanceCaveat:!0});a&&(e=!0,t=a.getParameter(a.MAX_TEXTURE_SIZE),n=a.getSupportedExtensions())}catch(t){}o.WEBGL=e,i.a.WEBGL_EXTENSIONS=n,i.a.WEBGL_MAX_TEXTURE_SIZE=t}}(),e.a=o},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var i=function(t){this.propagationStopped,this.type=t,this.target=null};i.prototype.preventDefault=i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.stopPropagation=function(t){t.stopPropagation()},i.preventDefault=function(t){t.preventDefault()},e.a=i},function(t,e,n){var i=n(26);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var i={transform2D:function(t,e,n,i,r,o){var s,a=o||[],l=0;for(s=e;s<n;s+=i){var u=t[s],c=t[s+1];a[l++]=r[0]*u+r[2]*c+r[4],a[l++]=r[1]*u+r[3]*c+r[5]}return o&&a.length!=l&&(a.length=l),a},rotate:function(t,e,n,i,r,o,s){for(var a=s||[],l=Math.cos(r),u=Math.sin(r),c=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-c,g=t[p+1]-h;a[f++]=c+d*l-g*u,a[f++]=h+d*u+g*l;for(var v=p+2;v<p+i;++v)a[f++]=t[v]}return s&&a.length!=f&&(a.length=f),a},scale:function(t,e,n,i,r,o,s,a){for(var l=a||[],u=s[0],c=s[1],h=0,f=e;f<n;f+=i){var p=t[f]-u,d=t[f+1]-c;l[h++]=u+r*p,l[h++]=c+o*d;for(var g=f+2;g<f+i;++g)l[h++]=t[g]}return a&&l.length!=h&&(l.length=h),l},translate:function(t,e,n,i,r,o,s){var a,l,u=s||[],c=0;for(a=e;a<n;a+=i)for(u[c++]=t[a]+r,u[c++]=t[a+1]+o,l=a+2;l<a+i;++l)u[c++]=t[l];return s&&u.length!=c&&(u.length=c),u}};e.a=i},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){var i=n(170)("wks"),r=n(92),o=n(25).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){"use strict";var i=n(0),r=n(72),o=n(2),s=n(27),a=function(){r.a.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};i.a.inherits(a,r.a),a.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},a.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target=this;var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var a=0,l=o.length;a<l;++a)if(!1===o[a].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,i.a.nullFunction);delete this.dispatching_[n]}return r}},a.prototype.disposeInternal=function(){o.a.unlistenAll(this)},a.prototype.getListeners=function(t){return this.listeners_[t]},a.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},a.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);t in this.pendingRemovals_?(n[r]=i.a.nullFunction,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t])}},e.a=a},function(t,e,n){"use strict";var i={CLASS_HIDDEN:"ol-hidden",CLASS_SELECTABLE:"ol-selectable",CLASS_UNSELECTABLE:"ol-unselectable",CLASS_UNSUPPORTED:"ol-unsupported",CLASS_CONTROL:"ol-control"};i.getFontFamilies=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}(),e.a=i},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";var i=n(0),r=n(151),o=n(45),s=n(18),a=n(27),l=function(t,e){s.a.call(this);var n=e||{};if(this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(var i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()};i.a.inherits(l,s.a),l.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},l.prototype.extend=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},l.prototype.forEach=function(t,e){for(var n=e?t.bind(e):t,i=this.array_,r=0,o=i.length;r<o;++r)n(i[r],r,i)},l.prototype.getArray=function(){return this.array_},l.prototype.item=function(t){return this.array_[t]},l.prototype.getLength=function(){return this.get(l.Property_.LENGTH)},l.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l.Event(o.a.ADD,e))},l.prototype.pop=function(){return this.removeAt(this.getLength()-1)},l.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},l.prototype.remove=function(t){var e,n,i=this.array_;for(e=0,n=i.length;e<n;++e)if(i[e]===t)return this.removeAt(e)},l.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l.Event(o.a.REMOVE,e)),e},l.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l.Event(o.a.REMOVE,i)),this.dispatchEvent(new l.Event(o.a.ADD,e))}else{var r;for(r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},l.prototype.updateLength_=function(){this.set(l.Property_.LENGTH,this.array_.length)},l.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r.a(58)},l.Property_={LENGTH:"length"},l.Event=function(t,e){a.a.call(this,t),this.element=e},i.a.inherits(l.Event,a.a),e.a=l},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";var i={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return 1-i.easeIn(1-t)},inAndOut:function(t){return 3*t*t-2*t*t*t},linear:function(t){return t},upAndDown:function(t){return t<.5?i.inAndOut(2*t):1-i.inAndOut(2*(t-.5))}};e.a=i},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){var i=n(28),r=n(236),o=n(84),s=Object.defineProperty;e.f=n(46)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};i.METERS_PER_UNIT[i.DEGREES]=2*Math.PI*6370997/360,i.METERS_PER_UNIT[i.FEET]=.3048,i.METERS_PER_UNIT[i.METERS]=1,i.METERS_PER_UNIT[i.USFEET]=1200/3937,e.a=i},function(t,e,n){"use strict";var i=n(13),r=n(11),o={HEX_COLOR_RE_:/^#(?:[0-9a-f]{3,4}){1,2}$/i,NAMED_COLOR_RE_:/^([a-z]*)$/i,asArray:function(t){return Array.isArray(t)?t:o.fromString(t)},asString:function(t){return"string"==typeof t?t:o.toString(t)},fromNamed:function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}};o.fromString=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r,s=0;for(r in t)0==(3&s++)&&(delete t[r],--e)}i=o.fromStringInternal_(n),t[n]=i,++e}return i}}(),o.fromStringInternal_=function(t){var e,n,r,s,a,l;if(o.NAMED_COLOR_RE_.exec(t)&&(t=o.fromNamed(t)),o.HEX_COLOR_RE_.exec(t)){var u,c=t.length-1;u=c<=4?1:2;var h=4===c||8===c;e=parseInt(t.substr(1+0*u,u),16),n=parseInt(t.substr(1+1*u,u),16),r=parseInt(t.substr(1+2*u,u),16),s=h?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,h&&(s=(s<<4)+s)),a=[e,n,r,s/255]}else 0==t.indexOf("rgba(")?(l=t.slice(5,-1).split(",").map(Number),a=o.normalize(l)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),a=o.normalize(l)):i.a.assert(!1,14);return a},o.normalize=function(t,e){var n=e||[];return n[0]=r.a.clamp(t[0]+.5|0,0,255),n[1]=r.a.clamp(t[1]+.5|0,0,255),n[2]=r.a.clamp(t[2]+.5|0,0,255),n[3]=r.a.clamp(t[3],0,1),n},o.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"},e.a=o},function(t,e,n){"use strict";var i=n(2),r=n(9),o=n(0),s=n(18),a=n(119),l=n(34),u=n(12),c=n(49),h=n(54),f=function(t){var e=u.a.assign({},t);delete e.source,a.a.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),i.a.listen(this,s.a.getChangeEventType(l.a.SOURCE),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)};o.a.inherits(f,a.a),f.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution},f.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},f.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},f.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},f.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},f.prototype.handleSourceChange_=function(){this.changed()},f.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(i.a.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=i.a.listen(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},f.prototype.setMap=function(t){this.mapPrecomposeKey_&&(i.a.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(i.a.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=i.a.listen(t,c.a.PRECOMPOSE,function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[o.a.getUid(this)]=e},this),this.mapRenderKey_=i.a.listen(this,r.a.CHANGE,t.render,t),this.changed())},f.prototype.setSource=function(t){this.set(l.a.SOURCE,t)},e.a=f},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){t.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(81),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"}},function(t,e,n){"use strict";var i=n(43),r={asColorLike:function(t){return r.isColorLike(t)?t:i.a.asString(t)},isColorLike:function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}};e.a=r},function(t,e,n){"use strict";var i={createOrUpdate:function(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]},getKeyZXY:function(t,e,n){return t+"/"+e+"/"+n},getKey:function(t){return i.getKeyZXY(t[0],t[1],t[2])},fromKey:function(t){return t.split("/").map(Number)},hash:function(t){return(t[1]<<t[0])+t[2]},quadKey:function(t){var e,n,i=t[0],r=new Array(i),o=1<<i-1;for(e=0;e<i;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),r[e]=String.fromCharCode(n),o>>=1;return r.join("")},withinExtentAndZ:function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}};e.a=i},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,v=g.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},x={type:!0,src:!0,noModule:!0};function E(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in x)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var T=function(t,e){return new T.fn.init(t,e)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:"3.3.1",constructor:T,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(T.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&T.isPlainObject(n)?n:{},s[e]=T.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},T.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t)||(e=a(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||g.call(n)!==v))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){E(t)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(w,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var C=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,g,v,m,y,_,x="sizzle"+1*new Date,E=t.document,b=0,T=0,w=st(),S=st(),C=st(),I=function(t,e){return t===e&&(h=!0),0},R={}.hasOwnProperty,A=[],L=A.pop,k=A.push,O=A.push,D=A.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+N+"*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+N+"*\\]",U=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",G=new RegExp(N+"+","g"),B=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),W=new RegExp("^"+N+"*,"+N+"*"),H=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),Y=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),z=new RegExp(U),q=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{O.apply(A=D.call(E.childNodes),E.childNodes),A[E.childNodes.length].nodeType}catch(t){O={apply:A.length?function(t,e){k.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,u,c,h,d,m,y=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!r&&((e?e.ownerDocument||e:E)!==p&&f(e),e=e||p,g)){if(11!==b&&(h=$.exec(t)))if(o=h[1]){if(9===b){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&_(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!C[t+" "]&&(!v||!v.test(t))){if(1!==b)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=x),a=(d=s(t)).length;a--;)d[a]="#"+c+" "+mt(d[a]);m=d.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(m)try{return O.apply(i,y.querySelectorAll(m)),i}catch(t){}finally{c===x&&e.removeAttribute("id")}}}return l(t.replace(B,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[x]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:E;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),E!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=lt(function(t){return d.appendChild(t).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(lt(function(t){d.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+N+"*(?:value|"+M+")"),t.querySelectorAll("[id~="+x+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Z.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(d.compareDocumentPosition),_=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===E&&_(E,t)?-1:e===p||e.ownerDocument===E&&_(E,e)?1:c?P(c,t)-P(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?P(c,t)-P(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===E?-1:a[i]===E?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(Y,"='$1']"),n.matchesSelector&&g&&!C[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),_(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&R.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(I),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=w[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&w(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(G," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(_=(p=(u=(c=(h=(f=v)[x]||(f[x]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===b&&u[1])&&u[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(_=p=0)||d.pop();)if(1===f.nodeType&&++_&&f===e){c[t]=[b,p,_];break}}else if(y&&(_=p=(u=(c=(h=(f=e)[x]||(f[x]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===b&&u[1]),!1===_)for(;(f=++p&&f&&f[g]||(_=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++_||(y&&((c=(h=f[x]||(f[x]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[b,_]),f!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[x]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=P(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(B,"$1"));return i[x]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return q.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function vt(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=T++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[b,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[x]||(e[x]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===b&&u[1]===a)return f[2]=u[2];if(c[o]=f,f[2]=t(e,n,l))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function Et(t,e,n,i,r,o){return i&&!i[x]&&(i=Et(i)),r&&!r[x]&&(r=Et(r,o)),at(function(o,s,a,l){var u,c,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:xt(g,f,t,a,l),m=n?r||(o?t:d||i)?[]:s:v;if(n&&n(v,m,a,l),i)for(u=xt(m,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(m[p[c]]=!(v[p[c]]=h));if(o){if(r||t){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(v[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?P(o,h):f[c])>-1&&(o[u]=!(s[u]=h))}}else m=xt(m===s?m.splice(d,m.length):m),r?r(null,s,m,l):O.apply(s,m)})}function bt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=yt(function(t){return t===e},a,!0),h=yt(function(t){return P(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])f=[yt(_t(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[x]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return Et(l>1&&_t(f),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&bt(t.slice(l,r)),r<o&&bt(t=t.slice(r)),r<o&&mt(t))}f.push(n)}return _t(f)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=ot.tokenize=function(t,e){var n,r,o,s,a,l,u,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):S(t,l).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=C[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=bt(e[n]))[x]?r.push(a):o.push(a);(a=C(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var h,d,v,m=0,y="0",_=o&&[],x=[],E=u,T=o||r&&i.find.TAG("*",c),w=b+=null==E?1:Math.random()||.1,S=T.length;for(c&&(u=s===p||s||c);y!==S&&null!=(h=T[y]);y++){if(r&&h){for(d=0,s||h.ownerDocument===p||(f(h),a=!g);v=t[d++];)if(v(h,s||p,a)){l.push(h);break}c&&(b=w)}n&&((h=!v&&h)&&m--,o&&_.push(h))}if(m+=y,n&&y!==m){for(d=0;v=e[d++];)v(_,x,s,a);if(o){if(m>0)for(;y--;)_[y]||x[y]||(x[y]=L.call(l));x=xt(x)}O.apply(l,x),c&&!o&&x.length>0&&m+e.length>1&&ot.uniqueSort(l)}return c&&(b=w,u=E),_};return n?at(o):o}(o,r))).selector=t}return a},l=ot.select=function(t,e,n,r){var o,l,u,c,h,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(Q,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=X.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(Q,tt),J.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&mt(l)))return O.apply(n,r),n;break}}return(f||a(t,p))(r,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=x.split("").sort(I).join("")===x,n.detectDuplicates=!!h,f(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(M,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);T.find=C,T.expr=C.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=C.uniqueSort,T.text=C.getText,T.isXMLDoc=C.isXML,T.contains=C.contains,T.escapeSelector=C.escape;var I=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&T(t).is(n))break;i.push(t)}return i},R=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=T.expr.match.needsContext;function L(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,n){return y(e)?T.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?T.grep(t,function(t){return t===e!==n}):"string"!=typeof e?T.grep(t,function(t){return h.call(e,t)>-1!==n}):T.filter(e,t,n)}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<i;e++)if(T.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)T.find(t,r[e],n);return i>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&A.test(t)?T(t):t||[],!1).length}});var D,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:P.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),k.test(i[1])&&T.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,D=T(s);var M=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&T(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(T(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,n){return I(t,"parentNode",n)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,n){return I(t,"nextSibling",n)},prevUntil:function(t,e,n){return I(t,"previousSibling",n)},siblings:function(t){return R((t.parentNode||{}).firstChild,t)},children:function(t){return R(t.firstChild)},contents:function(t){return L(t,"iframe")?t.contentDocument:(L(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(t,e){T.fn[t]=function(n,i){var r=T.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=T.filter(i,r)),this.length>1&&(N[t]||T.uniqueSort(r),M.test(t)&&r.reverse()),this.pushStack(r)}});var j=/[^\x20\t\r\n\f]+/g;function U(t){return t}function G(t){throw t}function B(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(j)||[],function(t,n){e[n]=!0}),e}(t):T.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){T.each(n,function(n,i){y(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return T.each(arguments,function(t,e){for(var n;(n=T.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return T.Deferred(function(n){T.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,s(o,e,U,r),s(o,e,G,r)):(o++,u.call(n,s(o,e,U,r),s(o,e,G,r),s(o,e,U,e.notifyWith))):(i!==U&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==G&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(T.Deferred.getStackHook&&(c.stackTrace=T.Deferred.getStackHook()),n.setTimeout(c))}}return T.Deferred(function(n){e[0][3].add(s(0,n,y(r)?r:U,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:U)),e[2][3].add(s(0,n,y(i)?i:G))}).promise()},promise:function(t){return null!=t?T.extend(t,r):r}},o={};return T.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=T.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(B(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)B(r[n],s(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&W.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){n.setTimeout(function(){throw t})};var H=T.Deferred();function Y(){s.removeEventListener("DOMContentLoaded",Y),n.removeEventListener("load",Y),T.ready()}T.fn.ready=function(t){return H.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||H.resolveWith(s,[T]))}}),T.ready.then=H.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(T.ready):(s.addEventListener("DOMContentLoaded",Y),n.addEventListener("load",Y));var z=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===b(n))for(a in r=!0,n)z(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(T(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},q=/^-ms-/,X=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function K(t){return t.replace(q,"ms-").replace(X,V)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $(){this.expando=T.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(j)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||T.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var J=new $,Q=new $,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=K(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):z(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),T.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,r=n.shift(),o=T._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){T.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:T.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each(function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=T.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&T.contains(t.ownerDocument,t)&&"none"===T.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function lt(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return T.css(t,e,"")},l=a(),u=n&&n[3]||(T.cssNumber[e]?"":"px"),c=(T.cssNumber[e]||"px"!==u&&+l)&&rt.exec(T.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)T.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,T.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ut={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=T.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}T.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?T(this).show():T(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,dt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&L(t,e)?T.merge([t],n):n}function mt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt=/<|&#?\w+;/;function _t(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===b(o))T.merge(f,o.nodeType?[o]:o);else if(yt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),l=gt[a]||gt._default,s.innerHTML=l[1]+T.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;T.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&T.inArray(o,i)>-1)r&&r.push(o);else if(u=T.contains(o.ownerDocument,o),s=vt(h.appendChild(o),"script"),u&&mt(s),n)for(c=0;o=s[c++];)dt.test(o.type||"")&&n.push(o);return h}!function(){var t=s.createDocumentFragment().appendChild(s.createElement("div")),e=s.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),m.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var xt=s.documentElement,Et=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function wt(){return!0}function St(){return!1}function Ct(){try{return s.activeElement}catch(t){}}function It(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)It(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=St;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return T().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=T.guid++)),t.each(function(){T.event.add(this,e,r,i,n)})}T.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,v=J.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&T.find.matchesSelector(xt,r),n.guid||(n.guid=T.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(j)||[""]).length;u--;)p=g=(a=Tt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=T.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=T.event.special[p]||{},c=T.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),T.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,v=J.hasData(t)&&J.get(t);if(v&&(l=v.events)){for(u=(e=(e||"").match(j)||[""]).length;u--;)if(p=g=(a=Tt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=T.event.special[p]||{},f=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,v.handle)||T.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)T.event.remove(t,p+e[u],n,i,!0);T.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=T.event.fix(t),l=new Array(arguments.length),u=(J.get(this,"events")||{})[a.type]||[],c=T.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=T.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((T.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?T(r,this).index(u)>-1:T.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&L(this,"input"))return this.click(),!1},_default:function(t){return L(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?wt:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=wt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=wt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=wt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||T.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),T.fn.extend({on:function(t,e,n,i){return It(this,t,e,n,i)},one:function(t,e,n,i){return It(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each(function(){T.event.remove(this,t,n,e)})}});var Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,At=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return L(t,"table")&&L(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)T.event.add(e,r,u[r][n]);Q.hasData(t)&&(a=Q.access(t),l=T.extend({},a),Q.set(e,l))}}function Nt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ft.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ft(t,e,n,i){e=u.apply([],e);var r,o,s,a,l,c,h=0,f=t.length,p=f-1,d=e[0],g=y(d);if(g||f>1&&"string"==typeof d&&!m.checkClone&&Lt.test(d))return t.each(function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),Ft(o,e,n,i)});if(f&&(o=(r=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=T.map(vt(r,"script"),Dt)).length;h<f;h++)l=r,h!==p&&(l=T.clone(l,!0,!0),a&&T.merge(s,vt(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,T.map(s,Pt),h=0;h<a;h++)l=s[h],dt.test(l.type||"")&&!J.access(l,"globalEval")&&T.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&T._evalUrl(l.src):E(l.textContent.replace(kt,""),c,l))}return t}function jt(t,e,n){for(var i,r=e?T.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||T.cleanData(vt(i)),i.parentNode&&(n&&T.contains(i.ownerDocument,i)&&mt(vt(i,"script")),i.parentNode.removeChild(i));return t}T.extend({htmlPrefilter:function(t){return t.replace(Rt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=T.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(s=vt(a),i=0,r=(o=vt(t)).length;i<r;i++)Nt(o[i],s[i]);if(e)if(n)for(o=o||vt(t),s=s||vt(a),i=0,r=o.length;i<r;i++)Mt(o[i],s[i]);else Mt(t,a);return(s=vt(a,"script")).length>0&&mt(s,!l&&vt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=T.event.special,o=0;void 0!==(n=t[o]);o++)if(Z(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?T.event.remove(n,i):T.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),T.fn.extend({detach:function(t){return jt(this,t,!0)},remove:function(t){return jt(this,t)},text:function(t){return z(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){T.fn[t]=function(t){for(var n,i=[],r=T(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),T(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Ut=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Bt=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Gt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||T.contains(t.ownerDocument,t)||(s=T.style(t,e)),!m.pixelBoxStyles()&&Ut.test(s)&&Bt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",xt.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,T.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Yt=/^(none|table(?!-c[ea]).+)/,zt=/^--/,qt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","Moz","ms"],Kt=s.createElement("div").style;function Zt(t){var e=T.cssProps[t];return e||(e=T.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Kt)return t}(t)||t),e}function $t(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Jt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=T.css(t,n+ot[s],!0,r)),i?("content"===n&&(l-=T.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(l-=T.css(t,"border"+ot[s]+"Width",!0,r))):(l+=T.css(t,"padding"+ot[s],!0,r),"padding"!==n?l+=T.css(t,"border"+ot[s]+"Width",!0,r):a+=T.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))),l}function Qt(t,e,n){var i=Gt(t),r=Wt(t,e,i),o="border-box"===T.css(t,"boxSizing",!1,i),s=o;if(Ut.test(r)){if(!n)return r;r="auto"}return s=s&&(m.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===T.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Jt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function te(t,e,n,i,r){return new te.prototype.init(t,e,n,i,r)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=K(e),l=zt.test(e),u=t.style;if(l||(e=Zt(a)),s=T.cssHooks[e]||T.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(T.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=K(e);return zt.test(e)||(e=Zt(a)),(s=T.cssHooks[e]||T.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Wt(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),T.each(["height","width"],function(t,e){T.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Qt(t,e,i):at(t,qt,function(){return Qt(t,e,i)})},set:function(t,n,i){var r,o=Gt(t),s="border-box"===T.css(t,"boxSizing",!1,o),a=i&&Jt(t,e,i,s,o);return s&&m.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Jt(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),$t(0,n,a)}}}),T.cssHooks.marginLeft=Ht(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(t,e){T.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(T.cssHooks[t+e].set=$t)}),T.fn.extend({css:function(t,e){return z(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Gt(t),r=e.length;s<r;s++)o[e[s]]=T.css(t,e[s],!1,i);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)},t,e,arguments.length>1)}}),T.Tween=te,te.prototype={constructor:te,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,n=te.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):te.propHooks._default.set(this),this}},te.prototype.init.prototype=te.prototype,te.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[T.cssProps[t.prop]]&&!T.cssHooks[t.prop]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},te.propHooks.scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=te.prototype.init,T.fx.step={};var ee,ne,ie=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function oe(){ne&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(oe):n.setTimeout(oe,T.fx.interval),T.fx.tick())}function se(){return n.setTimeout(function(){ee=void 0}),ee=Date.now()}function ae(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,s=ue.prefilters.length,a=T.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ee||se(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:ee||se(),duration:n.duration,tweens:[],createTween:function(e,n){var i=T.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=T.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=ue.prefilters[o].call(u,t,c,u.opts))return y(i.stop)&&(T._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return T.map(c,le,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}T.Animation=T.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(j);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&st(t),v=J.get(t,"fxshow");for(i in n.queue||(null==(s=T._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],ie.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||T.style(t,i)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=J.get(t,"display")),"none"===(c=T.css(t,"display"))&&(u?c=u:(ht([t],!0),u=t.style.display||u,c=T.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===T.css(t,"float")&&(l||(f.done(function(){d.display=u}),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),l=!1,p)l||(v?"hidden"in v&&(g=v.hidden):v=J.access(t,"fxshow",{display:u}),o&&(v.hidden=!g),g&&ht([t],!0),f.done(function(){for(i in g||ht([t]),J.remove(t,"fxshow"),p)T.style(t,i,p[i])})),l=le(g?v[i]:0,i,f),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=T.isEmptyObject(t),o=T.speed(e,n,i),s=function(){var e=ue(this,T.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=T.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&re.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||T.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=T.timers,s=i?i.length:0;for(n.finish=!0,T.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(t,e){var n=T.fn[e];T.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ae(e,!0),t,i,r)}}),T.each({slideDown:ae("show"),slideUp:ae("hide"),slideToggle:ae("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){T.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(ee=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),ee=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ne||(ne=!0,oe())},T.fx.stop=function(){ne=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ce,he=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return z(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(r=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?ce:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=T.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&L(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(j);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ce={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var n=he[e]||T.find.attr;he[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=he[s],he[s]=r,r=null!=n(t,e,i)?s:null,he[s]=o),r}});var fe=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function de(t){return(t.match(j)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}T.fn.extend({prop:function(t,e){return z(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,r=T.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each(function(e){T(this).addClass(t.call(this,e,ge(this)))});if((e=ve(t)).length)for(;n=this[l++];)if(r=ge(n),i=1===n.nodeType&&" "+de(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=de(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each(function(e){T(this).removeClass(t.call(this,e,ge(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;n=this[l++];)if(r=ge(n),i=1===n.nodeType&&" "+de(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=de(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){T(this).toggleClass(t.call(this,n,ge(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=T(this),s=ve(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ge(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+de(ge(n))+" ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g;T.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,T(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=T.map(r,function(t){return null==t?"":t+""})),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(me,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:de(T.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(e=T(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=T.makeArray(e),s=r.length;s--;)((i=r[s]).selected=T.inArray(T.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},m.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var ye=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,i,r){var o,a,l,u,c,h,f,p,g=[i||s],v=d.call(t,"type")?t.type:t,m=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!ye.test(v+T.event.triggered)&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[T.expando]?t:new T.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:T.makeArray(e,[t]),f=T.event.special[v]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!_(i)){for(u=f.delegateType||v,ye.test(u+v)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(i.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||v,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&Z(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!Z(i)||c&&y(i[v])&&!_(i)&&((l=i[c])&&(i[c]=null),T.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,_e),i[v](),t.isPropagationStopped()&&p.removeEventListener(v,_e),T.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(i,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),m.focusin||T.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var xe=n.location,Ee=Date.now(),be=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Te=/\[\]$/,we=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,n,i){var r;if(Array.isArray(e))T.each(e,function(e,r){n||Te.test(t)?i(t,r):Ie(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==b(e))i(t,e);else for(r in e)Ie(t+"["+r+"]",e[r],n,i)}T.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){r(this.name,this.value)});else for(n in t)Ie(n,t[n],e,r);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Ce.test(this.nodeName)&&!Se.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:n.replace(we,"\r\n")}}).get()}});var Re=/%20/g,Ae=/#.*$/,Le=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:GET|HEAD)$/,De=/^\/\//,Pe={},Me={},Ne="*/".concat("*"),Fe=s.createElement("a");function je(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(j)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ue(t,e,n,i){var r={},o=t===Me;function s(a){var l;return r[a]=!0,T.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ge(t,e){var n,i,r=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&T.extend(!0,t,i),t}Fe.href=xe.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ne,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,T.ajaxSettings),e):Ge(T.ajaxSettings,t)},ajaxPrefilter:je(Pe),ajaxTransport:je(Me),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,l,u,c,h,f,p,d=T.ajaxSetup({},e),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?T(g):T.event,m=T.Deferred(),y=T.Callbacks("once memory"),_=d.statusCode||{},x={},E={},b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=ke.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)w.always(t[w.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||b;return i&&i.abort(e),S(0,e),this}};if(m.promise(w),d.url=((t||d.url||xe.href)+"").replace(De,xe.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(j)||[""],null==d.crossDomain){u=s.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Fe.protocol+"//"+Fe.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=T.param(d.data,d.traditional)),Ue(Pe,d,e,w),c)return w;for(f in(h=T.event&&d.global)&&0==T.active++&&T.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Oe.test(d.type),r=d.url.replace(Ae,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Re,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(be.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(Le,"$1"),p=(be.test(r)?"&":"?")+"_="+Ee+++p),d.url=r+p),d.ifModified&&(T.lastModified[r]&&w.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&w.setRequestHeader("If-None-Match",T.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ne+"; q=0.01":""):d.accepts["*"]),d.headers)w.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,w,d)||c))return w.abort();if(b="abort",y.add(d.complete),w.done(d.success),w.fail(d.error),i=Ue(Me,d,e,w)){if(w.readyState=1,h&&v.trigger("ajaxSend",[w,d]),c)return w;d.async&&d.timeout>0&&(l=n.setTimeout(function(){w.abort("timeout")},d.timeout));try{c=!1,i.send(x,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var u,f,p,x,E,b=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",w.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(x=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,w,s)),x=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,x,w,u),u?(d.ifModified&&((E=w.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=E),(E=w.getResponseHeader("etag"))&&(T.etag[r]=E)),204===t||"HEAD"===d.type?b="nocontent":304===t?b="notmodified":(b=x.state,f=x.data,u=!(p=x.error))):(p=b,!t&&b||(b="error",t<0&&(t=0))),w.status=t,w.statusText=(e||b)+"",u?m.resolveWith(g,[f,b,w]):m.rejectWith(g,[w,b,p]),w.statusCode(_),_=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[w,d,u?f:p]),y.fireWith(g,[w,b]),h&&(v.trigger("ajaxComplete",[w,d]),--T.active||T.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,e){T[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:r,data:n,success:i},T.isPlainObject(t)&&t))}}),T._evalUrl=function(t){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){T(this).wrapInner(t.call(this,e))}):this.each(function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){T(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Be={0:200,1223:204},We=T.ajaxSettings.xhr();m.cors=!!We&&"withCredentials"in We,m.ajax=We=!!We,T.ajaxTransport(function(t){var e,i;if(m.cors||We&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Be[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=T("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var He=[],Ye=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||T.expando+"_"+Ee++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(be.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||T.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?T(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,He.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),m.createHTMLDocument=function(){var t=s.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),r=k.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=_t([t],e,o),o&&o.length&&T(o).remove(),T.merge([],r.childNodes)));var i,r,o},T.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=de(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&T.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=T.css(t,"position"),c=T(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=T.css(t,"top"),l=T.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,n,T.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===T.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),r.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-T.css(i,"marginTop",!0),left:e.left-r.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||xt})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;T.fn[t]=function(i){return z(this,function(t,i,r){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),T.each(["top","left"],function(t,e){T.cssHooks[e]=Ht(m.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Ut.test(n)?T(t).position()[e]+"px":n})}),T.each({Height:"height",Width:"width"},function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){T.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return z(this,function(e,n,r){var o;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?T.css(e,n,a):T.style(e,n,r,a)},e,s?r:void 0,s)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),T.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||T.guid++,r},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=L,T.isFunction=y,T.isWindow=_,T.camelCase=K,T.type=b,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return T}.apply(e,[]))||(t.exports=i);var ze=n.jQuery,qe=n.$;return T.noConflict=function(t){return n.$===T&&(n.$=qe),t&&n.jQuery===T&&(n.jQuery=ze),T},r||(n.jQuery=n.$=T),T})},function(t,e,n){"use strict";var i={buffer:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},hasArea:function(t){return t[0]>0&&t[1]>0},scale:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},toSize:function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}};e.a=i},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){var i=n(25),r=n(60),o=n(59),s=n(92)("src"),a=Function.toString,l=(""+a).split("toString");n(47).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e,n){var i=n(5),r=n(23),o=n(80),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(1),s=n(131),a=n(37),l=n(29),u=n(12),c=function(){s.a.call(this),this.layout=a.a.XY,this.stride=2,this.flatCoordinates=null};i.a.inherits(c,s.a),c.getLayoutForStride_=function(t){var e;return 2==t?e=a.a.XY:3==t?e=a.a.XYZ:4==t&&(e=a.a.XYZM),e},c.getStrideForLayout=function(t){var e;return t==a.a.XY?e=2:t==a.a.XYZ||t==a.a.XYM?e=3:t==a.a.XYZM&&(e=4),e},c.prototype.containsXY=r.a.FALSE,c.prototype.computeExtent=function(t){return o.a.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},c.prototype.getCoordinates=function(){},c.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},c.prototype.getFlatCoordinates=function(){return this.flatCoordinates},c.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},c.prototype.getLayout=function(){return this.layout},c.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(u.a.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},c.prototype.getSimplifiedGeometryInternal=function(t){return this},c.prototype.getStride=function(){return this.stride},c.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=c.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},c.prototype.setCoordinates=function(t,e){},c.prototype.setLayout=function(t,e,n){var i;if(t)i=c.getStrideForLayout(t);else{var r;for(r=0;r<n;++r){if(0===e.length)return this.layout=a.a.XY,void(this.stride=2);e=e[0]}i=e.length,t=c.getLayoutForStride_(i)}this.layout=t,this.stride=i},c.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},c.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();l.a.rotate(n,0,n.length,i,t,e,n),this.changed()}},c.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=o.a.getCenter(this.getExtent()));var s=this.getFlatCoordinates();if(s){var a=this.getStride();l.a.scale(s,0,s.length,a,t,i,r,s),this.changed()}},c.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();l.a.translate(n,0,n.length,i,t,e,n),this.changed()}},c.transform2D=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return l.a.transform2D(i,0,i.length,r,e,n)}return null},e.a=c},function(t,e,n){"use strict";var i=n(0),r=n(118),o=n(18),s=n(15),a=n(2),l=function(t){o.a.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:i.a.nullFunction,t.target&&this.setTarget(t.target)};i.a.inherits(l,o.a),l.prototype.disposeInternal=function(){s.a.removeNode(this.element),o.a.prototype.disposeInternal.call(this)},l.prototype.getMap=function(){return this.map_},l.prototype.setMap=function(t){this.map_&&s.a.removeNode(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)a.a.unlistenByKey(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.a.nullFunction&&this.listenerKeys.push(a.a.listen(t,r.a.POSTRENDER,this.render,this)),t.render())},l.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e.a=l},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(41),r=n(91);t.exports=n(46)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(126),r=n(80);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(80);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i=n(1),r={linearRingContainsExtent:function(t,e,n,o,s){return!i.a.forEachCorner(s,function(i){return!r.linearRingContainsXY(t,e,n,o,i[0],i[1])})},linearRingContainsXY:function(t,e,n,i,r,o){for(var s=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-a)*(o-l)-(r-a)*(c-l)>0&&s++:c<=o&&(u-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s},linearRingsContainsXY:function(t,e,n,i,o,s){if(0===n.length)return!1;if(!r.linearRingContainsXY(t,e,n[0],i,o,s))return!1;var a,l;for(a=1,l=n.length;a<l;++a)if(r.linearRingContainsXY(t,n[a-1],n[a],i,o,s))return!1;return!0},linearRingssContainsXY:function(t,e,n,i,o,s){if(0===n.length)return!1;var a,l;for(a=0,l=n.length;a<l;++a){var u=n[a];if(r.linearRingsContainsXY(t,e,u,i,o,s))return!0;e=u[u.length-1]}return!1}};e.a=r},function(t,e,n){"use strict";var i=n(11),r={padNumber:function(t,e,n){var i=void 0!==n?t.toFixed(n):""+t,r=i.indexOf(".");return(r=-1===r?i.length:r)>e?i:new Array(1+e-r).join("0")+i},compareVersions:function(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),s=parseInt(i[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}},o={add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t},closestOnCircle:function(t,e){var n=e.getRadius(),i=e.getCenter(),r=i[0],o=i[1],s=t[0]-r,a=t[1]-o;0===s&&0===a&&(s=1);var l=Math.sqrt(s*s+a*a);return[r+n*s/l,o+n*a/l]},closestOnSegment:function(t,e){var n,i,r=t[0],o=t[1],s=e[0],a=e[1],l=s[0],u=s[1],c=a[0],h=a[1],f=c-l,p=h-u,d=0===f&&0===p?0:(f*(r-l)+p*(o-u))/(f*f+p*p||0);return d<=0?(n=l,i=u):d>=1?(n=c,i=h):(n=l+d*f,i=u+d*p),[n,i]},createStringXY:function(t){return function(e){return o.toStringXY(e,t)}},degreesToStringHDMS:function(t,e,n){var o=i.a.modulo(e+180,360)-180,s=Math.abs(3600*o),a=n||0,l=Math.pow(10,a),u=Math.floor(s/3600),c=Math.floor((s-3600*u)/60),h=s-3600*u-60*c;return(h=Math.ceil(h*l)/l)>=60&&(h=0,c+=1),c>=60&&(c=0,u+=1),u+" "+r.padNumber(c,2)+" "+r.padNumber(h,2,a)+""+(0==o?"":" "+t.charAt(o<0?1:0))},format:function(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""},equals:function(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n},rotate:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t},scale:function(t,e){return t[0]*=e,t[1]*=e,t},sub:function(t,e){return t[0]-=e[0],t[1]-=e[1],t},squaredDistance:function(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i},distance:function(t,e){return Math.sqrt(o.squaredDistance(t,e))},squaredDistanceToSegment:function(t,e){return o.squaredDistance(t,o.closestOnSegment(t,e))},toStringHDMS:function(t,e){return t?o.degreesToStringHDMS("NS",t[1],e)+" "+o.degreesToStringHDMS("EW",t[0],e):""},toStringXY:function(t,e){return o.format(t,"{x}, {y}",e)}};e.a=o},function(t,e,n){t.exports={addDays:n(122),addHours:n(201),addISOYears:n(202),addMilliseconds:n(123),addMinutes:n(204),addMonths:n(137),addQuarters:n(205),addSeconds:n(206),addWeeks:n(161),addYears:n(207),areRangesOverlapping:n(289),closestIndexTo:n(290),closestTo:n(291),compareAsc:n(125),compareDesc:n(162),differenceInCalendarDays:n(136),differenceInCalendarISOWeeks:n(292),differenceInCalendarISOYears:n(208),differenceInCalendarMonths:n(209),differenceInCalendarQuarters:n(293),differenceInCalendarWeeks:n(294),differenceInCalendarYears:n(211),differenceInDays:n(212),differenceInHours:n(295),differenceInISOYears:n(296),differenceInMilliseconds:n(138),differenceInMinutes:n(297),differenceInMonths:n(163),differenceInQuarters:n(298),differenceInSeconds:n(164),differenceInWeeks:n(299),differenceInYears:n(300),distanceInWords:n(214),distanceInWordsStrict:n(304),distanceInWordsToNow:n(305),eachDay:n(306),endOfDay:n(166),endOfHour:n(307),endOfISOWeek:n(308),endOfISOYear:n(309),endOfMinute:n(310),endOfMonth:n(216),endOfQuarter:n(311),endOfSecond:n(312),endOfToday:n(313),endOfTomorrow:n(314),endOfWeek:n(215),endOfYear:n(315),endOfYesterday:n(316),format:n(317),getDate:n(318),getDay:n(319),getDayOfYear:n(217),getDaysInMonth:n(160),getDaysInYear:n(320),getHours:n(321),getISODay:n(221),getISOWeek:n(167),getISOWeeksInYear:n(322),getISOYear:n(88),getMilliseconds:n(323),getMinutes:n(324),getMonth:n(325),getOverlappingDaysInRanges:n(326),getQuarter:n(210),getSeconds:n(327),getTime:n(328),getYear:n(329),isAfter:n(330),isBefore:n(331),isDate:n(159),isEqual:n(332),isFirstDayOfMonth:n(333),isFriday:n(334),isFuture:n(335),isLastDayOfMonth:n(336),isLeapYear:n(220),isMonday:n(337),isPast:n(338),isSameDay:n(339),isSameHour:n(222),isSameISOWeek:n(224),isSameISOYear:n(225),isSameMinute:n(226),isSameMonth:n(228),isSameQuarter:n(229),isSameSecond:n(231),isSameWeek:n(168),isSameYear:n(233),isSaturday:n(340),isSunday:n(341),isThisHour:n(342),isThisISOWeek:n(343),isThisISOYear:n(344),isThisMinute:n(345),isThisMonth:n(346),isThisQuarter:n(347),isThisSecond:n(348),isThisWeek:n(349),isThisYear:n(350),isThursday:n(351),isToday:n(352),isTomorrow:n(353),isTuesday:n(354),isValid:n(219),isWednesday:n(355),isWeekend:n(356),isWithinRange:n(357),isYesterday:n(358),lastDayOfISOWeek:n(359),lastDayOfISOYear:n(360),lastDayOfMonth:n(361),lastDayOfQuarter:n(362),lastDayOfWeek:n(234),lastDayOfYear:n(363),max:n(364),min:n(365),parse:n(6),setDate:n(366),setDay:n(367),setDayOfYear:n(368),setHours:n(369),setISODay:n(370),setISOWeek:n(371),setISOYear:n(203),setMilliseconds:n(372),setMinutes:n(373),setMonth:n(235),setQuarter:n(374),setSeconds:n(375),setYear:n(376),startOfDay:n(90),startOfHour:n(223),startOfISOWeek:n(89),startOfISOYear:n(124),startOfMinute:n(227),startOfMonth:n(377),startOfQuarter:n(230),startOfSecond:n(232),startOfToday:n(378),startOfTomorrow:n(379),startOfWeek:n(135),startOfYear:n(218),startOfYesterday:n(380),subDays:n(381),subHours:n(382),subISOYears:n(213),subMilliseconds:n(383),subMinutes:n(384),subMonths:n(385),subQuarters:n(386),subSeconds:n(387),subWeeks:n(388),subYears:n(389)}},function(t,e,n){"use strict";var i=n(23);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var i=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};i.createOrUpdate=function(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new i(t,e,n,r)},i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.a=i},function(t,e,n){var i=n(127),r=n(91),o=n(61),s=n(84),a=n(59),l=n(236),u=Object.getOwnPropertyDescriptor;e.f=n(46)?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(5),r=n(47),o=n(23);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(77),r=n(126),o=n(62),s=n(48),a=n(501);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h,p=e||a;return function(e,a,d){for(var g,v,m=o(e),y=r(m),_=i(a,d,3),x=s(y.length),E=0,b=n?p(e,x):l?p(e,0):void 0;x>E;E++)if((f||E in y)&&(v=_(g=y[E],E,m),t))if(n)b[E]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return E;case 2:b.push(g)}else if(c)return!1;return h?-1:u||c?c:b}}},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";var i=n(0),r=function(){};r.prototype.disposed_=!1,r.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},r.prototype.disposeInternal=i.a.nullFunction,e.a=r},function(t,e,n){"use strict";var i=n(0),r=n(53),o=n(1),s=n(102),a=n(12),l=n(20),u=n(42),c=n(13),h=n(67),f=n(14),p=n(11),d=n(51),g=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,c.a.assert(f.a.isSorted(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,c.a.assert(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=o.a.getTopLeft(s)),c.a.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,c.a.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:i.a.DEFAULT_TILE_SIZE,c.a.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new h.a(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)};g.tmpTileCoord_=[0,0,0],g.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},g.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,l=null,u=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=h.a.createOrUpdate(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,u,i),e.call(n,u,o))return!0;--u}return!1},g.prototype.getExtent=function(){return this.extent_},g.prototype.getMaxZoom=function(){return this.maxZoom},g.prototype.getMinZoom=function(){return this.minZoom},g.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},g.prototype.getResolution=function(t){return this.resolutions_[t]},g.prototype.getResolutions=function(){return this.resolutions_},g.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return h.a.createOrUpdate(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},g.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),s=this.getResolution(t),a=r.a.toSize(this.getTileSize(t),this.tmpSize_),l=i[0]+e.minX*a[0]*s,u=i[0]+(e.maxX+1)*a[0]*s,c=i[1]+e.minY*a[1]*s,h=i[1]+(e.maxY+1)*a[1]*s;return o.a.createOrUpdate(l,c,u,h,n)},g.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=g.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),h.a.createOrUpdate(r,i[1],o,i[2],n)},g.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=r.a.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},g.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),s=r.a.toSize(this.getTileSize(t[0]),this.tmpSize_),a=n[0]+t[1]*s[0]*i,l=n[1]+t[2]*s[1]*i,u=a+s[0]*i,c=l+s[1]*i;return o.a.createOrUpdate(a,l,u,c,e)},g.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},g.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var s=this.getZForResolution(n),a=n/this.getResolution(s),l=this.getOrigin(s),u=r.a.toSize(this.getTileSize(s),this.tmpSize_),c=i?.5:0,h=i?0:.5,f=Math.floor((t-l[0])/n+c),p=Math.floor((e-l[1])/n+h),g=a*f/u[0],v=a*p/u[1];return i?(g=Math.ceil(g)-1,v=Math.ceil(v)-1):(g=Math.floor(g),v=Math.floor(v)),d.a.createOrUpdate(s,g,v,o)},g.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var s=this.getOrigin(n),a=this.getResolution(n),l=r.a.toSize(this.getTileSize(n),this.tmpSize_),u=i?.5:0,c=i?0:.5,h=Math.floor((t-s[0])/a+u),f=Math.floor((e-s[1])/a+c),p=h/l[0],g=f/l[1];return i?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),d.a.createOrUpdate(n,p,g,o)},g.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},g.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},g.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},g.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},g.prototype.getZForResolution=function(t,e){var n=f.a.linearFindNearest(this.resolutions_,t,e||0);return p.a.clamp(n,this.minZoom,this.maxZoom)},g.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var v=g,m={getForProjection:function(t){var e=t.getDefaultTileGrid();return e||(e=m.createForProjection(t),t.setDefaultTileGrid(e)),e},wrapX:function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),s=m.extentFromProjection(n);if(o.a.containsCoordinate(s,r))return e;var a=o.a.getWidth(s),l=Math.ceil((s[0]-r[0])/a);return r[0]+=a*l,t.getTileCoordForCoordAndZ(r,i)},createForExtent:function(t,e,n,i){var r=void 0!==i?i:s.a.TOP_LEFT,a=m.resolutionsFromExtent(t,e,n);return new v({extent:t,origin:o.a.getCorner(t,r),resolutions:a,tileSize:n})},createXYZ:function(t){var e={};return a.a.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=l.a.get("EPSG:3857").getExtent()),e.resolutions=m.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new v(e)},resolutionsFromExtent:function(t,e,n){for(var s=void 0!==e?e:i.a.DEFAULT_MAX_ZOOM,a=o.a.getHeight(t),l=o.a.getWidth(t),u=r.a.toSize(void 0!==n?n:i.a.DEFAULT_TILE_SIZE),c=Math.max(l/u[0],a/u[1]),h=s+1,f=new Array(h),p=0;p<h;++p)f[p]=c/Math.pow(2,p);return f},createForProjection:function(t,e,n,i){var r=m.extentFromProjection(t);return m.createForExtent(r,e,n,i)},extentFromProjection:function(t){var e=(t=l.a.get(t)).getExtent();if(!e){var n=180*l.a.METERS_PER_UNIT[u.a.DEGREES]/t.getMetersPerUnit();e=o.a.createOrUpdate(-n,-n,n,n)}return e}};e.a=m},function(t,e,n){"use strict";var i=n(11),r={disable:function(t,e){return void 0!==t?0:void 0},none:function(t,e){return void 0!==t?t+e:void 0},createSnapToN:function(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}},createSnapToZero:function(t){var e=t||i.a.toRadians(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}};e.a=r},function(t,e,n){"use strict";var i={coordinates:function(t,e,n,i){for(;e<n-i;){var r;for(r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}},r={linearRingIsClockwise:function(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-o)*(l+s),o=a,s=l}return r>0},linearRingsAreOriented:function(t,e,n,i,o){var s,a,l=void 0!==o&&o;for(s=0,a=n.length;s<a;++s){var u=n[s],c=r.linearRingIsClockwise(t,e,u,i);if(0===s){if(l&&c||!l&&!c)return!1}else if(l&&!c||!l&&c)return!1;e=u}return!0},linearRingssAreOriented:function(t,e,n,i,o){var s,a;for(s=0,a=n.length;s<a;++s)if(!r.linearRingsAreOriented(t,e,n[s],i,o))return!1;return!0},orientLinearRings:function(t,e,n,o,s){var a,l,u=void 0!==s&&s;for(a=0,l=n.length;a<l;++a){var c=n[a],h=r.linearRingIsClockwise(t,e,c,o);(0===a?u&&h||!u&&!h:u&&!h||!u&&h)&&i.coordinates(t,e,c,o),e=c}return e},orientLinearRingss:function(t,e,n,i,o){var s,a;for(s=0,a=n.length;s<a;++s)e=r.orientLinearRings(t,e,n[s],i,o);return e}};e.a=r},function(t,e,n){"use strict";var i=n(0),r=n(130),o=function(t,e,n,i,o){r.a.call(this,t,e,n.originalEvent,i,o),this.pointerEvent=n};i.a.inherits(o,r.a),e.a=o},function(t,e,n){var i=n(78);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";if(n(46)){var i=n(93),r=n(25),o=n(23),s=n(5),a=n(149),l=n(193),u=n(77),c=n(109),h=n(91),f=n(60),p=n(110),d=n(81),g=n(48),v=n(261),m=n(95),y=n(84),_=n(59),x=n(141),E=n(26),b=n(62),T=n(186),w=n(96),S=n(98),C=n(97).f,I=n(188),R=n(92),A=n(31),L=n(70),k=n(139),O=n(146),D=n(190),P=n(106),M=n(143),N=n(108),F=n(189),j=n(253),U=n(41),G=n(68),B=U.f,W=G.f,H=r.RangeError,Y=r.TypeError,z=r.Uint8Array,q=Array.prototype,X=l.ArrayBuffer,V=l.DataView,K=L(0),Z=L(2),$=L(3),J=L(4),Q=L(5),tt=L(6),et=k(!0),nt=k(!1),it=D.values,rt=D.keys,ot=D.entries,st=q.lastIndexOf,at=q.reduce,lt=q.reduceRight,ut=q.join,ct=q.sort,ht=q.slice,ft=q.toString,pt=q.toLocaleString,dt=A("iterator"),gt=A("toStringTag"),vt=R("typed_constructor"),mt=R("def_constructor"),yt=a.CONSTR,_t=a.TYPED,xt=a.VIEW,Et=L(1,function(t,e){return Ct(O(t,t[mt]),e)}),bt=o(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Tt=!!z&&!!z.prototype.set&&o(function(){new z(1).set({})}),wt=function(t,e){var n=d(t);if(n<0||n%e)throw H("Wrong offset!");return n},St=function(t){if(E(t)&&_t in t)return t;throw Y(t+" is not a typed array!")},Ct=function(t,e){if(!(E(t)&&vt in t))throw Y("It is not a typed array constructor!");return new t(e)},It=function(t,e){return Rt(O(t,t[mt]),e)},Rt=function(t,e){for(var n=0,i=e.length,r=Ct(t,i);i>n;)r[n]=e[n++];return r},At=function(t,e,n){B(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,i,r,o,s,a=b(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,f=I(a);if(void 0!=f&&!T(f)){for(s=f.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,n=g(a.length),r=Ct(this,n);n>e;e++)r[e]=h?c(a[e],e):a[e];return r},kt=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},Ot=!!z&&o(function(){pt.call(new z(1))}),Dt=function(){return pt.apply(Ot?ht.call(St(this)):St(this),arguments)},Pt={copyWithin:function(t,e){return j.call(St(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(St(this),arguments)},filter:function(t){return It(this,Z(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(St(this),arguments)},lastIndexOf:function(t){return st.apply(St(this),arguments)},map:function(t){return Et(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(St(this),arguments)},reduceRight:function(t){return lt.apply(St(this),arguments)},reverse:function(){for(var t,e=St(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return $(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(St(this),t)},subarray:function(t,e){var n=St(this),i=n.length,r=m(t,i);return new(O(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===e?i:m(e,i))-r))}},Mt=function(t,e){return It(this,ht.call(St(this),t,e))},Nt=function(t){St(this);var e=wt(arguments[1],1),n=this.length,i=b(t),r=g(i.length),o=0;if(r+e>n)throw H("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Ft={entries:function(){return ot.call(St(this))},keys:function(){return rt.call(St(this))},values:function(){return it.call(St(this))}},jt=function(t,e){return E(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return jt(t,e=y(e,!0))?h(2,t[e]):W(t,e)},Gt=function(t,e,n){return!(jt(t,e=y(e,!0))&&E(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};yt||(G.f=Ut,U.f=Gt),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Gt}),o(function(){ft.call({})})&&(ft=pt=function(){return ut.call(this)});var Bt=p({},Pt);p(Bt,Ft),f(Bt,dt,Ft.values),p(Bt,{slice:Mt,set:Nt,constructor:function(){},toString:ft,toLocaleString:Dt}),At(Bt,"buffer","b"),At(Bt,"byteOffset","o"),At(Bt,"byteLength","l"),At(Bt,"length","e"),B(Bt,gt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,l){var u=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=r[u],m=d||{},y=d&&S(d),_=!d||!a.ABV,b={},T=d&&d.prototype,I=function(t,n){B(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[h](n*e+i.o,bt)}(this,n)},set:function(t){return function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,bt)}(this,n,t)},enumerable:!0})};_?(d=n(function(t,n,i,r){c(t,d,u,"_d");var o,s,a,l,h=0,p=0;if(E(n)){if(!(n instanceof X||"ArrayBuffer"==(l=x(n))||"SharedArrayBuffer"==l))return _t in n?Rt(d,n):Lt.call(d,n);o=n,p=wt(i,e);var m=n.byteLength;if(void 0===r){if(m%e)throw H("Wrong length!");if((s=m-p)<0)throw H("Wrong length!")}else if((s=g(r)*e)+p>m)throw H("Wrong length!");a=s/e}else a=v(n),o=new X(s=a*e);for(f(t,"_d",{b:o,o:p,l:s,e:a,v:new V(o)});h<a;)I(t,h++)}),T=d.prototype=w(Bt),f(T,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&M(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,i,r){var o;return c(t,d,u),E(n)?n instanceof X||"ArrayBuffer"==(o=x(n))||"SharedArrayBuffer"==o?void 0!==r?new m(n,wt(i,e),r):void 0!==i?new m(n,wt(i,e)):new m(n):_t in n?Rt(d,n):Lt.call(d,n):new m(v(n))}),K(y!==Function.prototype?C(m).concat(C(y)):C(m),function(t){t in d||f(d,t,m[t])}),d.prototype=T,i||(T.constructor=d));var R=T[dt],A=!!R&&("values"==R.name||void 0==R.name),L=Ft.values;f(d,vt,!0),f(T,_t,u),f(T,xt,!0),f(T,mt,d),(l?new d(1)[gt]==u:gt in T)||B(T,gt,{get:function(){return u}}),b[u]=d,s(s.G+s.W+s.F*(d!=m),b),s(s.S,u,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){m.of.call(d,1)}),u,{from:Lt,of:kt}),"BYTES_PER_ELEMENT"in T||f(T,"BYTES_PER_ELEMENT",e),s(s.P,u,Pt),N(u),s(s.P+s.F*Tt,u,{set:Nt}),s(s.P+s.F*!A,u,Ft),i||T.toString==ft||(T.toString=ft),s(s.P+s.F*o(function(){new d(1).slice()}),u,{slice:Mt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),u,{toLocaleString:Dt}),P[u]=A?R:L,i||A||f(T,dt,L)}}else t.exports=function(){}},function(t,e,n){"use strict";var i=n(0),r=n(27),o=function(t,e,n){r.a.call(this,t),this.map=e,this.frameState=void 0!==n?n:null};i.a.inherits(o,r.a),e.a=o},function(t,e,n){var i=n(26);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(92)("meta"),r=n(26),o=n(59),s=n(41).f,a=0,l=Object.isExtensible||function(){return!0},u=!n(23)(function(){return l(Object.preventExtensions({}))}),c=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},function(t,e,n){"use strict";var i={coordinates:function(t,e,n,i,r){var o,s=void 0!==r?r:[],a=0;for(o=e;o<n;o+=i)s[a++]=t.slice(o,o+i);return s.length=a,s},coordinatess:function(t,e,n,r,o){var s,a,l=void 0!==o?o:[],u=0;for(s=0,a=n.length;s<a;++s){var c=n[s];l[u++]=i.coordinates(t,e,c,r,l[u]),e=c}return l.length=u,l},coordinatesss:function(t,e,n,r,o){var s,a,l=void 0!==o?o:[],u=0;for(s=0,a=n.length;s<a;++s){var c=n[s];l[u++]=i.coordinatess(t,e,c,r,l[u]),e=c[c.length-1]}return l.length=u,l}};e.a=i},function(t,e,n){"use strict";var i=n(13),r=n(7),o=n(0),s=n(50),a=n(15),l=n(22),u=n(24),c=n(8),h=n(120),f=function(t){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_);var e=void 0===t.snapToPixel||t.snapToPixel,n=void 0!==t.rotateWithView&&t.rotateWithView;h.a.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:e})};o.a.inherits(f,h.a),f.prototype.clone=function(){var t=new f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},f.prototype.getAnchor=function(){return this.anchor_},f.prototype.getAngle=function(){return this.angle_},f.prototype.getFill=function(){return this.fill_},f.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},f.prototype.getImage=function(t){return this.canvas_},f.prototype.getImageSize=function(){return this.imageSize_},f.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},f.prototype.getImageState=function(){return u.a.LOADED},f.prototype.getOrigin=function(){return this.origin_},f.prototype.getPoints=function(){return this.points_},f.prototype.getRadius=function(){return this.radius_},f.prototype.getRadius2=function(){return this.radius2_},f.prototype.getSize=function(){return this.size_},f.prototype.getStroke=function(){return this.stroke_},f.prototype.listenImageChange=function(t,e){},f.prototype.load=function(){},f.prototype.unlistenImageChange=function(t,e){},f.prototype.render_=function(t){var e,n,i="",r="",o=0,u=null,h=0,f=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=c.a.defaultStrokeStyle),n=s.a.asColorLike(n),void 0===(f=this.stroke_.getWidth())&&(f=c.a.defaultLineWidth),u=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),l.a.CANVAS_LINE_DASH||(u=null,h=0),void 0===(r=this.stroke_.getLineJoin())&&(r=c.a.defaultLineJoin),void 0===(i=this.stroke_.getLineCap())&&(i=c.a.defaultLineCap),void 0===(o=this.stroke_.getMiterLimit())&&(o=c.a.defaultMiterLimit));var p=2*(this.radius_+f)+1,d={strokeStyle:n,strokeWidth:f,size:p,lineCap:i,lineDash:u,lineDashOffset:h,lineJoin:r,miterLimit:o};if(void 0===t){var g=a.a.createCanvasContext2D(p,p);this.canvas_=g.canvas,e=p=this.canvas_.width,this.draw_(d,g,0,0),this.createHitDetectionCanvas_(d)}else{p=Math.round(p);var v,m=!this.fill_;m&&(v=this.drawHitDetectionCanvas_.bind(this,d));var y=this.getChecksum(),_=t.add(y,p,p,this.draw_.bind(this,d),v);this.canvas_=_.image,this.origin_=[_.offsetX,_.offsetY],e=_.image.width,m?(this.hitDetectionCanvas_=_.hitImage,this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},f.prototype.draw_=function(t,e,n,i){var r,o,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),r=0;r<=l;r++)o=2*r*Math.PI/l-Math.PI/2+this.angle_,a=r%2==0?this.radius_:u,e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=c.a.defaultFillStyle),e.fillStyle=s.a.asColorLike(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},f.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=a.a.createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},f.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,s,a,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(r*=2),o=0;o<=r;o++)a=2*o*Math.PI/r-Math.PI/2+this.angle_,s=o%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}e.fillStyle=c.a.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},f.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};var p=f,d=function(t){var e=t||{};p.call(this,{points:1/0,fill:e.fill,radius:e.radius,snapToPixel:e.snapToPixel,stroke:e.stroke,atlasManager:e.atlasManager})};o.a.inherits(d,p),d.prototype.clone=function(){var t=new d({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},d.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)};var g=d,v=n(43),m=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};m.prototype.clone=function(){var t=this.getColor();return new m({color:t&&t.slice?t.slice():t||void 0})},m.prototype.getColor=function(){return this.color_},m.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},m.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=o.a.getUid(this.color_).toString():this.checksum_="f"+(this.color_?v.a.asString(this.color_):"-")),this.checksum_};var y=m,_=n(103),x=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=x.defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};x.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new x({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},x.prototype.getRenderer=function(){return this.renderer_},x.prototype.setRenderer=function(t){this.renderer_=t},x.prototype.getGeometry=function(){return this.geometry_},x.prototype.getGeometryFunction=function(){return this.geometryFunction_},x.prototype.getFill=function(){return this.fill_},x.prototype.setFill=function(t){this.fill_=t},x.prototype.getImage=function(){return this.image_},x.prototype.setImage=function(t){this.image_=t},x.prototype.getStroke=function(){return this.stroke_},x.prototype.setStroke=function(t){this.stroke_=t},x.prototype.getText=function(){return this.text_},x.prototype.setText=function(t){this.text_=t},x.prototype.getZIndex=function(){return this.zIndex_},x.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=x.defaultGeometryFunction,this.geometry_=t},x.prototype.setZIndex=function(t){this.zIndex_=t},x.createFunction=function(t){var e,n;return"function"==typeof t?e=t:(Array.isArray(t)?n=t:(i.a.assert(t instanceof x,41),n=[t]),e=function(){return n}),e},x.default_=null,x.defaultFunction=function(t,e){if(!x.default_){var n=new y({color:"rgba(255,255,255,0.4)"}),i=new _.a({color:"#3399CC",width:1.25});x.default_=[new x({image:new g({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return x.default_},x.createDefaultEditing=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[r.a.POLYGON]=[new x({fill:new y({color:[255,255,255,.5]})})],t[r.a.MULTI_POLYGON]=t[r.a.POLYGON],t[r.a.LINE_STRING]=[new x({stroke:new _.a({color:e,width:5})}),new x({stroke:new _.a({color:n,width:3})})],t[r.a.MULTI_LINE_STRING]=t[r.a.LINE_STRING],t[r.a.CIRCLE]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING]),t[r.a.POINT]=[new x({image:new g({radius:6,fill:new y({color:n}),stroke:new _.a({color:e,width:1.5})}),zIndex:1/0})],t[r.a.MULTI_POINT]=t[r.a.POINT],t[r.a.GEOMETRY_COLLECTION]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING],t[r.a.POINT]),t},x.defaultGeometryFunction=function(t){return t.getGeometry()},e.a=x},function(t,e,n){var i=n(6),r=n(89);t.exports=function(t){var e=i(t),n=e.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var s=r(o),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var l=r(a);return e.getTime()>=s.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}},function(t,e,n){var i=n(135);t.exports=function(t){return i(t,{weekStartsOn:1})}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setHours(0,0,0,0),e}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var i=n(238),r=n(173);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(81),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(28),r=n(239),o=n(173),s=n(172)("IE_PROTO"),a=function(){},l=function(){var t,e=n(169)("iframe"),i=o.length;for(e.style.display="none",n(175).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(238),r=n(173).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(59),r=n(62),o=n(172)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){(function(e,i){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e){t.exports=n(390)},function(t,e,n){"use strict";t.exports=function(){var t=arguments,e=0,n=function(t,e,n,i){n||(n=" ");var r=t.length>=e?"":new Array(1+e-t.length>>>0).join(n);return i?t+r:r+t},i=function(t,e,i,r,o,s){var a=r-t.length;return a>0&&(t=i||!o?n(t,r,s,i):[t.slice(0,e.length),n("",a,"0",!0),t.slice(e.length)].join("")),t},r=function(t,e,r,o,s,a,l){var u=t>>>0;return t=(r=r&&u&&{2:"0b",8:"0",16:"0x"}[e]||"")+n(u.toString(e),a||0,"0",!1),i(t,r,o,s,l)},o=function(t,e,n,r,o,s){return null!==r&&void 0!==r&&(t=t.slice(0,r)),i(t,"",e,n,o,s)};return t[e++].replace(/%%|%(\d+\$)?([-+'#0 ]*)(\*\d+\$|\*|\d+)?(?:\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(s,a,l,u,c,h){var f,p,d,g,v;if("%%"===s)return"%";var m,y=!1,_="",x=!1,E=!1,b=" ",T=l.length;for(m=0;m<T;m++)switch(l.charAt(m)){case" ":_=" ";break;case"+":_="+";break;case"-":y=!0;break;case"'":b=l.charAt(m+1);break;case"0":x=!0,b="0";break;case"#":E=!0}if((u=u?"*"===u?+t[e++]:"*"===u.charAt(0)?+t[u.slice(1,-1)]:+u:0)<0&&(u=-u,y=!0),!isFinite(u))throw new Error("sprintf: (minimum-)width must be finite");switch(c=c?"*"===c?+t[e++]:"*"===c.charAt(0)?+t[c.slice(1,-1)]:+c:"fFeE".indexOf(h)>-1?6:"d"===h?0:void 0,v=a?t[a.slice(0,-1)]:t[e++],h){case"s":return o(v+"",y,u,c,x,b);case"c":return o(String.fromCharCode(+v),y,u,c,x);case"b":return r(v,2,E,y,u,c,x);case"o":return r(v,8,E,y,u,c,x);case"x":return r(v,16,E,y,u,c,x);case"X":return r(v,16,E,y,u,c,x).toUpperCase();case"u":return r(v,10,E,y,u,c,x);case"i":case"d":return f=+v||0,v=(p=(f=Math.round(f-f%1))<0?"-":_)+n(String(Math.abs(f)),c,"0",!1),i(v,p,y,u,x);case"e":case"E":case"f":case"F":case"g":case"G":return p=(f=+v)<0?"-":_,d=["toExponential","toFixed","toPrecision"]["efg".indexOf(h.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(h)%2],v=p+Math.abs(f)[d](c),i(v,p,y,u,x)[g]();default:return s}})}},function(t,e){t.exports=function(t){"use strict";return t.exports={VERSION:t.VERSION},t.exports.twig=function(e){var n=e.id,i={strict_variables:e.strict_variables||!1,autoescape:null!=e.autoescape&&e.autoescape||!1,allowInlineIncludes:e.allowInlineIncludes||!1,rethrow:e.rethrow||!1,namespaces:e.namespaces};if(t.cache&&n&&t.validateId(n),void 0!==e.debug&&(t.debug=e.debug),void 0!==e.trace&&(t.trace=e.trace),void 0!==e.data)return t.Templates.parsers.twig({data:e.data,path:e.hasOwnProperty("path")?e.path:void 0,module:e.module,id:n,options:i});if(void 0!==e.ref){if(void 0!==e.id)throw new t.Error("Both ref and id cannot be set on a twig.js template.");return t.Templates.load(e.ref)}if(void 0!==e.method){if(!t.Templates.isRegisteredLoader(e.method))throw new t.Error('Loader for "'+e.method+'" is not defined.');return t.Templates.loadRemote(e.name||e.href||e.path||n||void 0,{id:n,method:e.method,parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:i},e.load,e.error)}return void 0!==e.href?t.Templates.loadRemote(e.href,{id:n,method:"ajax",parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:i},e.load,e.error):void 0!==e.path?t.Templates.loadRemote(e.path,{id:n,method:"fs",parser:e.parser||"twig",base:e.base,module:e.module,precompiled:e.precompiled,async:e.async,options:i},e.load,e.error):void 0},t.exports.extendFilter=function(e,n){t.filter.extend(e,n)},t.exports.extendFunction=function(e,n){t._function.extend(e,n)},t.exports.extendTest=function(e,n){t.test.extend(e,n)},t.exports.extendTag=function(e){t.logic.extend(e)},t.exports.extend=function(e){e(t)},t.exports.compile=function(e,n){var i,r=n.filename,o=n.filename;return i=new t.Template({data:e,path:o,id:r,options:n.settings["twig options"]}),function(t){return i.render(t)}},t.exports.renderFile=function(e,n,i){"function"==typeof n&&(i=n,n={});var r=(n=n||{}).settings||{},o=r["twig options"],s={path:e,base:r.views,load:function(t){o&&o.allow_async?t.renderAsync(n).then(function(t){i(null,t)},i):i(null,""+t.render(n))}};if(o)for(var a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);t.exports.twig(s)},t.exports.__express=t.exports.renderFile,t.exports.cache=function(e){t.cache=e},t.exports.path=t.path,t.exports.filters=t.filters,t.exports.Promise=t.Promise,t}},function(t,e){t.exports=function(t){"use strict";var e=1;return t.parseAsync=function(e,n){return t.parse.call(this,e,n,!0)},t.expression.parseAsync=function(e,n,i){return t.expression.parse.call(this,e,n,i,!0)},t.logic.parseAsync=function(e,n,i){return t.logic.parse.call(this,e,n,i,!0)},t.Template.prototype.renderAsync=function(t,e){return this.render(t,e,!0)},t.async={},t.isPromise=function(t){return t&&t.then&&"function"==typeof t.then},t.async.potentiallyAsync=function(e,n,i){return n?t.Promise.resolve(i.call(e)):function(e,n,i){var r=i.call(e),o=null,s=!0;if(!t.isPromise(r))return r;if(r.then(function(t){r=t,s=!1}).catch(function(t){o=t}),null!==o)throw o;if(s)throw new t.Error("You are using Twig.js in sync mode in combination with async extensions.");return r}(e,0,i)},t.Thenable=function(t,e,n){this.then=t,this._value=n?e:null,this._state=n||0},t.Thenable.prototype.catch=function(t){return this._state==e?this:this.then(null,t)},t.Thenable.resolvedThen=function(e){try{return t.Promise.resolve(e(this._value))}catch(e){return t.Promise.reject(e)}},t.Thenable.rejectedThen=function(e,n){if(!n||"function"!=typeof n)return this;var i=this._value,r=t.attempt(function(){return n(i)},t.Promise.reject);return t.Promise.resolve(r)},t.Promise=function(n){var i=0,r=null,o=function(t,e){i=t,r=e};return function(t,e,n){try{t(e,n)}catch(t){n(t)}}(n,function(t){o(e,t)},function(t){o(2,t)}),i===e?t.Promise.resolve(r):2===i?t.Promise.reject(r):(o=t.FullPromise()).promise},t.FullPromise=function(){var n=null;function i(t){t(a._value)}function r(t,e){e(a._value)}var o=function(t,e){n=function(t,e,n){var i=[e,n,-2];return t?-2==t[2]?t=[t,i]:t.push(i):t=i,t}(n,t,e)};function s(s,l){a._state||(a._value=l,a._state=s,o=s==e?i:r,n&&(-2===n[2]&&(o(n[0],n[1]),n=null),t.forEach(n,function(t){o(t[0],t[1])}),n=null))}var a=new t.Thenable(function(n,i){var r="function"==typeof n;if(a._state==e&&!r)return t.Promise.resolve(a._value);if(a._state===e)return t.attempt(function(){return t.Promise.resolve(n(a._value))},t.Promise.reject);var s="function"==typeof i;return t.Promise(function(e,a){o(r?function(i){t.attempt(function(){e(n(i))},a)}:e,s?function(n){t.attempt(function(){e(i(n))},a)}:a)})});return s.promise=a,s},t.Promise.defaultResolved=new t.Thenable(t.Thenable.resolvedThen,void 0,e),t.Promise.emptyStringResolved=new t.Thenable(t.Thenable.resolvedThen,"",e),t.Promise.resolve=function(n){return arguments.length<1||void 0===n?t.Promise.defaultResolved:t.isPromise(n)?n:""===n?t.Promise.emptyStringResolved:new t.Thenable(t.Thenable.resolvedThen,n,e)},t.Promise.reject=function(e){return new t.Thenable(t.Thenable.rejectedThen,e,2)},t.Promise.all=function(n){var i=new Array(n.length);return t.async.forEach(n,function(n,r){if(t.isPromise(n)){if(n._state!=e)return n.then(function(t){i[r]=t});i[r]=n._value}else i[r]=n}).then(function(){return i})},t.async.forEach=function(n,i){var r=n.length,o=0;return function s(){var a=null;do{if(o==r)return t.Promise.resolve();a=i(n[o],o),o++}while(!a||!t.isPromise(a)||a._state==e);return a.then(s)}()},t}},function(t,e){t.exports=function(t){"use strict";return t.tests={empty:function(t){if(null===t||void 0===t)return!0;if("number"==typeof t)return!1;if(t.length&&t.length>0)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},odd:function(t){return t%2==1},even:function(t){return t%2==0},divisibleby:function(t,e){return t%e[0]==0},defined:function(t){return void 0!==t},none:function(t){return null===t},null:function(t){return this.none(t)},"same as":function(t,e){return t===e[0]},sameas:function(e,n){return console.warn("`sameas` is deprecated use `same as`"),t.tests["same as"](e,n)},iterable:function(e){return e&&(t.lib.is("Array",e)||t.lib.is("Object",e))}},t.test=function(e,n,i){if(!t.tests[e])throw"Test "+e+" is not defined.";return t.tests[e](n,i)},t.test.extend=function(e,n){t.tests[e]=n},t}},function(t,e,n){t.exports=function(t){"use strict";t.path={};var e=/.::/,i=/@/;return t.path.parsePath=function(n,r){var o=null,s=n.options.namespaces,a=r||"";if(s&&"object"==typeof s)for(o in s){if(e.test(a))return a.replace(o+"::",s[o]);if(i.test(a))return a.replace("@"+o,s[o])}return t.path.relativePath(n,a)},t.path.relativePath=function(e,i){var r,o,s,a="/",l=[];if(i=i||"",e.url)r=void 0!==e.base?e.base+("/"===e.base.charAt(e.base.length-1)?"":"/"):e.url;else if(e.path){var u=n(0),c=u.sep||a,h=new RegExp("^\\.{1,2}"+c.replace("\\","\\\\"));i=i.replace(/\//g,c),void 0!==e.base&&null==i.match(h)?(i=i.replace(e.base,""),r=e.base+c):r=u.normalize(e.path),r=r.replace(c+c,c),a=c}else{if(!e.name&&!e.id||!e.method||"fs"===e.method||"ajax"===e.method)throw new t.Error("Cannot extend an inline template.");r=e.base||e.name||e.id}for((o=r.split(a)).pop(),o=o.concat(i.split(a));o.length>0;)"."==(s=o.shift())||(".."==s&&l.length>0&&".."!=l[l.length-1]?l.pop():l.push(s));return l.join(a)},t}},function(t,e){t.exports=function(t){"use strict";t.Templates.registerParser("twig",function(e){return new t.Template(e)})}},function(t,e){t.exports=function(t){"use strict";t.Templates.registerParser("source",function(t){return t.data||""})}},function(t,e){t.exports=function(t){"use strict";for(t.logic={},t.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith"},t.logic.definitions=[{type:t.logic.type.if_,regex:/^if\s+([\s\S]+)$/,next:[t.logic.type.else_,t.logic.type.elseif,t.logic.type.endif],open:!0,compile:function(e){var n=e.match[1];return e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,delete e.match,e},parse:function(e,n,i){var r=this;return t.expression.parseAsync.call(this,e.stack,n).then(function(o){return i=!0,t.lib.boolval(o)?(i=!1,t.parseAsync.call(r,e.output,n)):""}).then(function(t){return{chain:i,output:t}})}},{type:t.logic.type.elseif,regex:/^elseif\s+([^\s].*)$/,next:[t.logic.type.else_,t.logic.type.elseif,t.logic.type.endif],open:!1,compile:function(e){var n=e.match[1];return e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,delete e.match,e},parse:function(e,n,i){var r=this;return t.expression.parseAsync.call(this,e.stack,n).then(function(o){return i&&t.lib.boolval(o)?(i=!1,t.parseAsync.call(r,e.output,n)):""}).then(function(t){return{chain:i,output:t}})}},{type:t.logic.type.else_,regex:/^else$/,next:[t.logic.type.endif,t.logic.type.endfor],open:!1,parse:function(e,n,i){var r=t.Promise.resolve("");return i&&(r=t.parseAsync.call(this,e.output,n)),r.then(function(t){return{chain:i,output:t}})}},{type:t.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:t.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[t.logic.type.else_,t.logic.type.endfor],open:!0,compile:function(e){var n=e.match[1],i=e.match[2],r=e.match[3],o=null;if(e.key_var=null,e.value_var=null,n.indexOf(",")>=0){if(2!==(o=n.split(",")).length)throw new t.Error("Invalid expression in for loop: "+n);e.key_var=o[0].trim(),e.value_var=o[1].trim()}else e.value_var=n;return e.expression=t.expression.compile.call(this,{type:t.expression.type.expression,value:i}).stack,r&&(e.conditional=t.expression.compile.call(this,{type:t.expression.type.expression,value:r}).stack),delete e.match,e},parse:function(e,n,i){var r,o,s=[],a=0,l=this,u=e.conditional,c=function(i,o){var c=t.ChildContext(n);return c[e.value_var]=o,e.key_var&&(c[e.key_var]=i),c.loop=function(t,e){var i=void 0!==u;return{index:NaN,index0:a,revindex:i?void 0:NaN,revindex0:i?void 0:NaN,first:!1,last:!!i&&void 0,length:i?void 0:r,parent:n}}(),(void 0===u?t.Promise.resolve(!0):t.expression.parseAsync.call(l,u,c)).then(function(n){if(n)return t.parseAsync.call(l,e.output,c).then(function(t){s.push(t),a+=1})}).then(function(){delete c.loop,delete c[e.value_var],delete c[e.key_var],t.merge(n,c,!0)})};return t.expression.parseAsync.call(this,e.expression,n).then(function(e){return t.lib.isArray(e)?(r=e.length,t.async.forEach(e,function(t){return c(a,t)})):t.lib.is("Object",e)?(o=void 0!==e._keys?e._keys:Object.keys(e),r=o.length,t.async.forEach(o,function(t){if("_keys"!==t)return c(t,e[t])})):void 0}).then(function(){return{chain:0===s.length,output:t.output.call(l,s)}})}},{type:t.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:t.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(e){var n=e.match[1].trim(),i=e.match[2],r=t.expression.compile.call(this,{type:t.expression.type.expression,value:i}).stack;return e.key=n,e.expression=r,delete e.match,e},parse:function(e,n,i){var r=e.key;return t.expression.parseAsync.call(this,e.expression,n).then(function(e){return e===n&&(e=t.lib.copy(e)),n[r]=e,{chain:i,context:n}})}},{type:t.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[t.logic.type.endset],open:!0,compile:function(t){var e=t.match[1].trim();return t.key=e,delete t.match,t},parse:function(e,n,i){var r=this,o=e.key;return t.parseAsync.call(this,e.output,n).then(function(t){return r.context[o]=t,n[o]=t,{chain:i,context:n}})}},{type:t.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:t.logic.type.filter,regex:/^filter\s+(.+)$/,next:[t.logic.type.endfilter],open:!0,compile:function(e){var n="|"+e.match[1].trim();return e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,delete e.match,e},parse:function(e,n,i){var r=this;return t.parseAsync.call(this,e.output,n).then(function(i){var o=[{type:t.expression.type.string,value:i}].concat(e.stack);return t.expression.parseAsync.call(r,o,n)}).then(function(t){return{chain:i,output:t}})}},{type:t.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:t.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[t.logic.type.endblock],open:!0,compile:function(t){return t.block=t.match[1].trim(),delete t.match,t},parse:function(e,n,i){var r,o=this,s=t.Promise.resolve(),a=t.indexOf(this.importedBlocks,e.block)>-1,l=this.blocks[e.block]&&t.indexOf(this.blocks[e.block],t.placeholders.parent)>-1;return t.forEach(this.parseStack,function(n){n.type==t.logic.type.for_&&(e.overwrite=!0)}),(void 0===this.blocks[e.block]||a||l||e.overwrite)&&(s=(s=e.expression?t.expression.parseAsync.call(this,e.output,n).then(function(e){return t.expression.parseAsync.call(o,{type:t.expression.type.string,value:e},n)}):t.parseAsync.call(this,e.output,n).then(function(e){return t.expression.parseAsync.call(o,{type:t.expression.type.string,value:e},n)})).then(function(n){a&&o.importedBlocks.splice(o.importedBlocks.indexOf(e.block),1),o.blocks[e.block]=l?t.Markup(o.blocks[e.block].replace(t.placeholders.parent,n)):n,o.originalBlockTokens[e.block]={type:e.type,block:e.block,output:e.output,overwrite:!0}})),s.then(function(){return r=o.child.blocks[e.block]?o.child.blocks[e.block]:o.blocks[e.block],{chain:i,output:r}})}},{type:t.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(e){return e.expression=e.match[2].trim(),e.output=t.expression.compile({type:t.expression.type.expression,value:e.expression}).stack,e.block=e.match[1].trim(),delete e.match,e},parse:function(e,n,i){for(var r=new Array(arguments.length),o=arguments.length;o-- >0;)r[o]=arguments[o];return t.logic.handler[t.logic.type.block].parse.apply(this,r)}},{type:t.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:t.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(e){var n=e.match[1].trim();return delete e.match,e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,e},parse:function(e,n,i){var r=this,o=t.ChildContext(n);return t.expression.parseAsync.call(this,e.stack,n).then(function(e){return r.extend=e,(e instanceof t.Template?e:r.importFile(e)).renderAsync(o)}).then(function(){return t.lib.extend(n,o),{chain:i,output:""}})}},{type:t.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(e){var n=e.match[1].trim();return delete e.match,e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,e},parse:function(e,n,i){var r=this;return t.expression.parseAsync.call(this,e.stack,n).then(function(t){return r.importBlocks(t),{chain:i,output:""}})}},{type:t.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile:function(e){var n=e.match,i=n[1].trim(),r=void 0!==n[2],o=n[3],s=void 0!==n[4]&&n[4].length;return delete e.match,e.only=s,e.ignoreMissing=r,e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:i}).stack,void 0!==o&&(e.withStack=t.expression.compile.call(this,{type:t.expression.type.expression,value:o.trim()}).stack),e},parse:function(e,n,i){var r=e.only?{}:t.ChildContext(n),o=e.ignoreMissing,s=this,a={chain:i,output:""};return(void 0!==e.withStack?t.expression.parseAsync.call(this,e.withStack,n).then(function(e){t.lib.extend(r,e)}):t.Promise.resolve()).then(function(){return t.expression.parseAsync.call(s,e.stack,n)}).then(function(e){if(e instanceof t.Template)return e.renderAsync(r);try{return s.importFile(e).renderAsync(r)}catch(t){if(o)return"";throw t}}).then(function(t){return""!==t&&(a.output=t),a})}},{type:t.logic.type.spaceless,regex:/^spaceless$/,next:[t.logic.type.endspaceless],open:!0,parse:function(e,n,i){return t.parseAsync.call(this,e.output,n).then(function(e){var n=e.replace(/>\s+</g,"><").trim();return n=t.Markup(n),{chain:i,output:n}})}},{type:t.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:t.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[t.logic.type.endmacro],open:!0,compile:function(e){var n=e.match[1],i=e.match[2].split(/\s*,\s*/),r=i.map(function(t){return t.split(/\s*=\s*/)[0]}),o=r.length;if(o>1)for(var s={},a=0;a<o;a++){var l=r[a];if(s[l])throw new t.Error("Duplicate arguments for parameter: "+l);s[l]=1}return e.macroName=n,e.parameters=r,e.defaults=i.reduce(function(e,n){var i=n.split(/\s*=\s*/),r=i[0],o=i[1];return e[r]=o?t.expression.compile.call(this,{type:t.expression.type.expression,value:o}).stack:void 0,e},{}),delete e.match,e},parse:function(e,n,i){var r=this;return this.macros[e.macroName]=function(){var i={_self:r.macros},o=Array.prototype.slice.call(arguments);return t.async.forEach(e.parameters,function(r,s){return void 0!==o[s]?(i[r]=o[s],!0):void 0!==e.defaults[r]?t.expression.parseAsync.call(this,e.defaults[r],n).then(function(e){return i[r]=e,t.Promise.resolve()}):(i[r]=void 0,!0)}).then(function(){return t.parseAsync.call(r,e.output,i)})},{chain:i,output:""}}},{type:t.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:t.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(e){var n=e.match[1].trim(),i=e.match[2].trim();return delete e.match,e.expression=n,e.contextName=i,e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,e},parse:function(e,n,i){var r=this,o={chain:i,output:""};return"_self"===e.expression?(n[e.contextName]=this.macros,t.Promise.resolve(o)):t.expression.parseAsync.call(this,e.stack,n).then(function(t){return r.importFile(t||e.expression)}).then(function(t){return n[e.contextName]=t.renderAsync({},{output:"macros"}),o})}},{type:t.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(e){for(var n=e.match[1].trim(),i=e.match[2].trim().split(/\s*,\s*/),r={},o=0;o<i.length;o++){var s=i[o],a=s.match(/^([a-zA-Z0-9_]+)\s+as\s+([a-zA-Z0-9_]+)$/);a?r[a[1].trim()]=a[2].trim():s.match(/^([a-zA-Z0-9_]+)$/)&&(r[s]=s)}return delete e.match,e.expression=n,e.macroNames=r,e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:n}).stack,e},parse:function(e,n,i){var r=this,o=t.Promise.resolve(this.macros);return"_self"!==e.expression&&(o=t.expression.parseAsync.call(this,e.stack,n).then(function(t){return r.importFile(t||e.expression)}).then(function(t){return t.renderAsync({},{output:"macros"})})),o.then(function(t){for(var r in e.macroNames)t.hasOwnProperty(r)&&(n[e.macroNames[r]]=t[r]);return{chain:i,output:""}})}},{type:t.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[t.logic.type.endembed],open:!0,compile:function(e){var n=e.match,i=n[1].trim(),r=void 0!==n[2],o=n[3],s=void 0!==n[4]&&n[4].length;return delete e.match,e.only=s,e.ignoreMissing=r,e.stack=t.expression.compile.call(this,{type:t.expression.type.expression,value:i}).stack,void 0!==o&&(e.withStack=t.expression.compile.call(this,{type:t.expression.type.expression,value:o.trim()}).stack),e},parse:function(e,n,i){var r,o,s={},a=this,l=t.Promise.resolve();if(!e.only)for(r in n)n.hasOwnProperty(r)&&(s[r]=n[r]);return void 0!==e.withStack&&(l=t.expression.parseAsync.call(this,e.withStack,n).then(function(t){for(r in t)t.hasOwnProperty(r)&&(s[r]=t[r])})),l.then(function(){return l=null,t.expression.parseAsync.call(a,e.stack,s)}).then(function(n){if(n instanceof t.Template)o=n;else try{o=a.importFile(n)}catch(t){if(e.ignoreMissing)return"";throw a=null,t}return a._blocks=t.lib.copy(a.blocks),a.blocks={},t.parseAsync.call(a,e.output,s).then(function(){return o.renderAsync(s,{blocks:a.blocks})})}).then(function(e){return a.blocks=t.lib.copy(a._blocks),{chain:i,output:e}})}},{type:t.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:t.logic.type.with,regex:/^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,next:[t.logic.type.endwith],open:!0,compile:function(e){var n=e.match,i=n[1],r=void 0!==n[2]&&n[2].length;return delete e.match,e.only=r,void 0!==i&&(e.withStack=t.expression.compile.call(this,{type:t.expression.type.expression,value:i.trim()}).stack),e},parse:function(e,n,i){var r,o={},s=this,a=t.Promise.resolve();return e.only||(o=t.ChildContext(n)),void 0!==e.withStack&&(a=t.expression.parseAsync.call(this,e.withStack,n).then(function(t){for(r in t)t.hasOwnProperty(r)&&(o[r]=t[r])})),a.then(function(){return t.parseAsync.call(s,e.output,o)}).then(function(t){return{chain:i,output:t}})}},{type:t.logic.type.endwith,regex:/^endwith$/,next:[],open:!1}],t.logic.handler={},t.logic.extendType=function(e,n){n=n||"Twig.logic.type"+e,t.logic.type[e]=n},t.logic.extend=function(e){if(!e.type)throw new t.Error("Unable to extend logic definition. No type provided for "+e);t.logic.extendType(e.type),t.logic.handler[e.type]=e};t.logic.definitions.length>0;)t.logic.extend(t.logic.definitions.shift());return t.logic.compile=function(e){var n=e.value.trim(),i=t.logic.tokenize.call(this,n),r=t.logic.handler[i.type];return r.compile&&(i=r.compile.call(this,i),t.log.trace("Twig.logic.compile: ","Compiled logic token to ",i)),i},t.logic.tokenize=function(e){var n=null,i=null,r=null,o=null,s=null,a=null,l=null;for(n in e=e.trim(),t.logic.handler)for(i=t.logic.handler[n].type,o=r=t.logic.handler[n].regex,t.lib.isArray(r)||(o=[r]),s=o.length,a=0;a<s;a++)if(null!==(l=o[a].exec(e)))return t.log.trace("Twig.logic.tokenize: ","Matched a ",i," regular expression of ",l),{type:i,match:l};throw new t.Error("Unable to parse '"+e.trim()+"'")},t.logic.parse=function(e,n,i,r){return t.async.potentiallyAsync(this,r,function(){t.log.debug("Twig.logic.parse: ","Parsing logic token ",e);var r,o=t.logic.handler[e.type],s=this;return o.parse?(s.parseStack.unshift(e),r=o.parse.call(s,e,n||{},i),t.isPromise(r)?r=r.then(function(t){return s.parseStack.shift(),t}):s.parseStack.shift(),r):""})},t}},function(t,e){t.exports=n(392)},function(t,e,n){t.exports=function(t){"use strict";var e,i;try{e=n(9),i=n(0)}catch(t){}t.Templates.registerLoader("fs",function(n,r,o,s){var a,l,u=r.precompiled,c=this.parsers[r.parser]||this.parser.twig;if(!e||!i)throw new t.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var h=function(t,e){t?"function"==typeof s&&s(t):(!0===u&&(e=JSON.parse(e)),r.data=e,r.path=r.path||n,a=c.call(this,r),"function"==typeof o&&o(a))};if(r.path=r.path||n,r.async)return e.stat(r.path,function(n,i){!n&&i.isFile()?e.readFile(r.path,"utf8",h):"function"==typeof s&&s(new t.Error("Unable to find template file "+r.path))}),!0;try{if(!e.statSync(r.path).isFile())throw new t.Error("Unable to find template file "+r.path)}catch(e){throw new t.Error("Unable to find template file "+r.path)}return l=e.readFileSync(r.path,"utf8"),h(void 0,l),a})}},function(t,e){t.exports=function(t){"use strict";t.Templates.registerLoader("ajax",function(e,n,i,r){var o,s,a=n.precompiled,l=this.parsers[n.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new t.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return(s=new XMLHttpRequest).onreadystatechange=function(){var u=null;4===s.readyState&&(200===s.status||window.cordova&&0==s.status?(t.log.debug("Got template ",s.responseText),u=!0===a?JSON.parse(s.responseText):s.responseText,n.url=e,n.data=u,o=l.call(this,n),"function"==typeof i&&i(o)):"function"==typeof r&&r(s))},s.open("GET",e,!!n.async),s.send(),!!n.async||o})}},function(t,e,n){"use strict";t.exports=function(t){return!1!==t&&0!==t&&0!==t&&""!==t&&"0"!==t&&(!Array.isArray(t)||0!==t.length)&&null!==t&&void 0!==t}},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],o=/\\?(.?)/gi,s=function(t,e){return i[t]?i[t]():e},a=function(t,e){for(t=String(t);t.length<e;)t="0"+t;return t};return i={d:function(){return a(i.j(),2)},D:function(){return i.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return r[i.w()]+"day"},N:function(){return i.w()||7},S:function(){var t=i.j(),e=t%10;return e<=3&&1===parseInt(t%100/10,10)&&(e=0),["st","nd","rd"][e-1]||"th"},w:function(){return n.getDay()},z:function(){var t=new Date(i.Y(),i.n()-1,i.j()),e=new Date(i.Y(),0,1);return Math.round((t-e)/864e5)},W:function(){var t=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),e=new Date(t.getFullYear(),0,4);return a(1+Math.round((t-e)/864e5/7),2)},F:function(){return r[6+i.n()]},m:function(){return a(i.n(),2)},M:function(){return i.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var t=i.Y();return t%4==0&t%100!=0|t%400==0},o:function(){var t=i.n(),e=i.W();return i.Y()+(12===t&&e<9?1:1===t&&e>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return i.a().toUpperCase()},B:function(){var t=3600*n.getUTCHours(),e=60*n.getUTCMinutes(),i=n.getUTCSeconds();return a(Math.floor((t+e+i+3600)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return n.getHours()},h:function(){return a(i.g(),2)},H:function(){return a(i.G(),2)},i:function(){return a(n.getMinutes(),2)},s:function(){return a(n.getSeconds(),2)},u:function(){return a(1e3*n.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(i.Y(),0)-Date.UTC(i.Y(),0)!=new Date(i.Y(),6)-Date.UTC(i.Y(),6)?1:0},O:function(){var t=n.getTimezoneOffset(),e=Math.abs(t);return(t>0?"-":"+")+a(100*Math.floor(e/60)+e%60,4)},P:function(){var t=i.O();return t.substr(0,3)+":"+t.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(o,s)},r:function(){return"D, d M Y H:i:s O".replace(o,s)},U:function(){return n/1e3|0}},function(t,e){return n=void 0===e?new Date:e instanceof Date?new Date(e):new Date(1e3*e),t.replace(o,s)}(t,e)}},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,l,u,c,h,f;if(!t)return!1;t=t.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();var p=new RegExp(["^(\\d{1,4})","([\\-\\.\\/:])","(\\d{1,2})","([\\-\\.\\/:])","(\\d{1,4})","(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?","(?:\\s([A-Z]+)?)?$"].join(""));if((i=t.match(p))&&i[2]===i[4])if(i[1]>1901)switch(i[2]){case"-":return!(i[3]>12||i[5]>31)&&new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3;case".":return!1;case"/":return!(i[3]>12||i[5]>31)&&new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}else if(i[5]>1901)switch(i[2]){case"-":case".":return!(i[3]>12||i[1]>31)&&new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3;case"/":return!(i[1]>12||i[3]>31)&&new Date(i[5],parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}else switch(i[2]){case"-":return!(i[3]>12||i[5]>31||i[1]<70&&i[1]>38)&&(o=i[1]>=0&&i[1]<=38?+i[1]+2e3:i[1],new Date(o,parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3);case".":return i[5]>=70?!(i[3]>12||i[1]>31)&&new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3:i[5]<60&&!i[6]&&!(i[1]>23||i[3]>59)&&(r=new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),i[1]||0,i[3]||0,i[5]||0,i[9]||0)/1e3);case"/":return!(i[1]>12||i[3]>31||i[5]<70&&i[5]>38)&&(o=i[5]>=0&&i[5]<=38?+i[5]+2e3:i[5],new Date(o,parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3);case":":return!(i[1]>23||i[3]>59||i[5]>59)&&(r=new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),i[1]||0,i[3]||0,i[5]||0)/1e3)}if("now"===t)return null===e||isNaN(e)?(new Date).getTime()/1e3|0:0|e;if(!isNaN(n=Date.parse(t)))return n/1e3|0;if(p=new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})","[ t]","([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)","([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join("")),(i=t.match(p))&&("z"===i[4]?i[4]="Z":i[4].match(/^([+-][0-9]{2})$/)&&(i[4]=i[4]+":00"),!isNaN(n=Date.parse(i[1]+"T"+i[2]+i[4]))))return n/1e3|0;function d(t){var e=t.split(" "),n=e[0],i=e[1].substring(0,3),r=/\d+/.test(n),o="ago"===e[2],u=("last"===n?-1:1)*(o?-1:1);if(r&&(u*=parseInt(n,10)),l.hasOwnProperty(i)&&!e[1].match(/^mon(day|\.)?$/i))return s["set"+l[i]](s["get"+l[i]]()+u);if("wee"===i)return s.setDate(s.getDate()+7*u);if("next"===n||"last"===n)!function(t,e,n){var i,r=a[e];void 0!==r&&(0==(i=r-s.getDay())?i=7*n:i>0&&"last"===t?i-=7:i<0&&"next"===t&&(i+=7),s.setDate(s.getDate()+i))}(n,i,u);else if(!r)return!1;return!0}if(s=e?new Date(1e3*e):new Date,a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},l={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},h="([+-]?\\d+\\s"+(c="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)")+"|(last|next)\\s"+c+")(\\sago)?",!(i=t.match(new RegExp(h,"gi"))))return!1;for(f=0,u=i.length;f<u;f++)if(!d(i[f]))return!1;return s.getTime()/1e3}},function(t,e,n){"use strict";t.exports=function(t,e){return e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),t.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(){var t,e,n,r=0,o=arguments,s=o.length,a=function(t){if("[object Array]"===Object.prototype.toString.call(t))return t;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},l=function t(e,n){var r=0,o=0,s=0,l=0,u=0;if(e===n)return 0;if("object"===(void 0===e?"undefined":i(e))){if("object"===(void 0===n?"undefined":i(n))){if(e=a(e),n=a(n),u=e.length,(l=n.length)>u)return 1;if(l<u)return-1;for(r=0,o=u;r<o;++r){if(1===(s=t(e[r],n[r])))return 1;if(-1===s)return-1}return 0}return-1}return"object"===(void 0===n?"undefined":i(n))?1:isNaN(n)&&!isNaN(e)?0===e?0:e<0?1:-1:isNaN(e)&&!isNaN(n)?0===n?0:n>0?1:-1:n===e?0:n>e?1:-1};if(0===s)throw new Error("At least one value should be passed to min()");if(1===s){if("object"!==i(o[0]))throw new Error("Wrong parameter count for min()");if(0===(t=a(o[0])).length)throw new Error("Array must contain at least one element for min()")}else t=o;for(e=t[0],r=1,n=t.length;r<n;++r)-1===l(e,t[r])&&(e=t[r]);return e}},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(){var t,e,n,r=0,o=arguments,s=o.length,a=function(t){if("[object Array]"===Object.prototype.toString.call(t))return t;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},l=function t(e,n){var r=0,o=0,s=0,l=0,u=0;if(e===n)return 0;if("object"===(void 0===e?"undefined":i(e))){if("object"===(void 0===n?"undefined":i(n))){if(e=a(e),n=a(n),u=e.length,(l=n.length)>u)return 1;if(l<u)return-1;for(r=0,o=u;r<o;++r){if(1===(s=t(e[r],n[r])))return 1;if(-1===s)return-1}return 0}return-1}return"object"===(void 0===n?"undefined":i(n))?1:isNaN(n)&&!isNaN(e)?0===e?0:e<0?1:-1:isNaN(e)&&!isNaN(n)?0===n?0:n>0?1:-1:n===e?0:n>e?1:-1};if(0===s)throw new Error("At least one value should be passed to max()");if(1===s){if("object"!==i(o[0]))throw new Error("Wrong parameter count for max()");if(0===(t=a(o[0])).length)throw new Error("Array must contain at least one element for max()")}else t=o;for(e=t[0],r=1,n=t.length;r<n;++r)1===l(e,t[r])&&(e=t[r]);return e}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i,r,o,s;if(e|=0,o=(t*=i=Math.pow(10,e))%1==.5*(s=t>0|-(t<0)),r=Math.floor(t),o)switch(n){case"PHP_ROUND_HALF_DOWN":t=r+(s<0);break;case"PHP_ROUND_HALF_EVEN":t=r+r%2*s;break;case"PHP_ROUND_HALF_ODD":t=r+!(r%2);break;default:t=r+(s>0)}return(o?t:Math.round(t))/i}},function(t,e,n){"use strict";t.exports=function(t,e){return n(1).apply(this,[t].concat(e))}},function(t,e,n){t.exports=function(t){t.lib={},t.lib.sprintf=n(1),t.lib.vsprintf=n(19),t.lib.round=n(18),t.lib.max=n(17),t.lib.min=n(16),t.lib.strip_tags=n(15),t.lib.strtotime=n(14),t.lib.date=n(13),t.lib.boolval=n(12);var e=Object.prototype.toString;return t.lib.is=function(t,n){return void 0!==n&&null!==n&&("Array"===t&&Array.isArray?Array.isArray(n):e.call(n).slice(8,-1)===t)},t.lib.isArray=Array.isArray||function(t){return"Array"===e.call(t).slice(8,-1)},t.lib.copy=function(t){var e,n={};for(e in t)n[e]=t[e];return n},t.lib.extend=function(t,e){var n,i=Object.keys(e||{});for(n=i.length;n--;)t[i[n]]=e[i[n]];return t},t.lib.replaceAll=function(t,e,n){return t.split(e).join(n)},t.lib.chunkArray=function(e,n){var i=[],r=0,o=e.length;if(n<1||!t.lib.is("Array",e))return[];for(;r<o;)i.push(e.slice(r,r+=n));return i},t}},function(t,e){t.exports=function(e){return e.functions={range:function(t,e,n){var i,r,o=[],s=n||1,a=!1;if(isNaN(t)||isNaN(e)?isNaN(t)&&isNaN(e)?(a=!0,i=t.charCodeAt(0),r=e.charCodeAt(0)):(i=isNaN(t)?0:t,r=isNaN(e)?0:e):(i=parseInt(t,10),r=parseInt(e,10)),i>r)for(;i>=r;)o.push(a?String.fromCharCode(i):i),i-=s;else for(;i<=r;)o.push(a?String.fromCharCode(i):i),i+=s;return o},cycle:function(t,e){return t[e%t.length]},dump:function(){var t=arguments.length;for(args=new Array(t);t-- >0;)args[t]=arguments[t];var n=0,i="",r=function(t){for(var e="";t>0;)t--,e+="  ";return e},o=function(t){i+=r(n),"object"==typeof t?s(t):"function"==typeof t?i+="function()\n":"string"==typeof t?i+="string("+t.length+') "'+t+'"\n':"number"==typeof t?i+="number("+t+")\n":"boolean"==typeof t&&(i+="bool("+t+")\n")},s=function(t){var e;if(null===t)i+="NULL\n";else if(void 0===t)i+="undefined\n";else if("object"==typeof t){for(e in i+=r(n)+typeof t,n++,i+="("+function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(t)+") {\n",t)i+=r(n)+"["+e+"]=> \n",o(t[e]);i+=r(--n)+"}\n"}else o(t)};return 0==args.length&&args.push(this.context),e.forEach(args,function(t){s(t)}),i},date:function(t,n){var i;if(void 0===t||null===t||""===t)i=new Date;else if(e.lib.is("Date",t))i=t;else if(e.lib.is("String",t))i=t.match(/^[0-9]+$/)?new Date(1e3*t):new Date(1e3*e.lib.strtotime(t));else{if(!e.lib.is("Number",t))throw new e.Error("Unable to parse date "+t);i=new Date(1e3*t)}return i},block:function(t){return this.originalBlockTokens[t]?e.logic.parse.call(this,this.originalBlockTokens[t],this.context).output:this.blocks[t]},parent:function(){return e.placeholders.parent},attribute:function(t,n,i){return e.lib.is("Object",t)&&t.hasOwnProperty(n)?"function"==typeof t[n]?t[n].apply(void 0,i):t[n]:t[n]||void 0},max:function(t){return e.lib.is("Object",t)?(delete t._keys,e.lib.max(t)):e.lib.max.apply(null,arguments)},min:function(t){return e.lib.is("Object",t)?(delete t._keys,e.lib.min(t)):e.lib.min.apply(null,arguments)},template_from_string:function(t){return void 0===t&&(t=""),e.Templates.parsers.twig({options:this.options,data:t})},random:function(t){var n=2147483648;function i(t){var e=Math.floor(Math.random()*n),i=Math.min.call(null,0,t),r=Math.max.call(null,0,t);return i+Math.floor((r-i+1)*e/n)}if(e.lib.is("Number",t))return i(t);if(e.lib.is("String",t))return t.charAt(i(t.length-1));if(e.lib.is("Array",t))return t[i(t.length-1)];if(e.lib.is("Object",t)){var r=Object.keys(t);return t[r[i(r.length-1)]]}return i(n-1)},source:function(n,r){var o,s,a,l=!1;void 0!==t&&void 0!==t.exports&&"undefined"==typeof window?(s="fs",a=i+"/"+n):(s="ajax",a=n);var u={id:n,path:a,method:s,parser:"source",async:!1,fetchTemplateSource:!0};void 0===r&&(r=!1);try{void 0===(o=e.Templates.loadRemote(n,u))||null===o?o="":l=!0}catch(t){e.log.debug("Twig.functions.source: ","Problem loading template  ",t)}return l||r?o:'Template "{name}" is not defined.'.replace("{name}",n)}},e._function=function(t,n,i){if(!e.functions[t])throw"Unable to find function "+t;return e.functions[t](n,i)},e._function.extend=function(t,n){e.functions[t]=n},e}},function(t,e){t.exports=function(t){function e(t,e){var n=Object.prototype.toString.call(e).slice(8,-1);return void 0!==e&&null!==e&&n===t}return t.filters={upper:function(t){return"string"!=typeof t?t:t.toUpperCase()},lower:function(t){return"string"!=typeof t?t:t.toLowerCase()},capitalize:function(t){return"string"!=typeof t?t:t.substr(0,1).toUpperCase()+t.toLowerCase().substr(1)},title:function(t){return"string"!=typeof t?t:t.toLowerCase().replace(/(^|\s)([a-z])/g,function(t,e,n){return e+n.toUpperCase()})},length:function(e){return t.lib.is("Array",e)||"string"==typeof e?e.length:t.lib.is("Object",e)?void 0===e._keys?Object.keys(e).length:e._keys.length:0},reverse:function(t){if(e("Array",t))return t.reverse();if(e("String",t))return t.split("").reverse().join("");if(e("Object",t)){var n=t._keys||Object.keys(t).reverse();return t._keys=n,t}},sort:function(t){if(e("Array",t))return t.sort();if(e("Object",t)){delete t._keys;var n=Object.keys(t).sort(function(e,n){var i;return t[e]>t[n]==!(t[e]<=t[n])?t[e]>t[n]?1:t[e]<t[n]?-1:0:isNaN(i=parseFloat(t[e]))||isNaN(b1=parseFloat(t[n]))?"string"==typeof t[e]?t[e]>t[n].toString()?1:t[e]<t[n].toString()?-1:0:"string"==typeof t[n]?t[e].toString()>t[n]?1:t[e].toString()<t[n]?-1:0:null:i>b1?1:i<b1?-1:0});return t._keys=n,t}},keys:function(e){if(void 0!==e&&null!==e){var n=e._keys||Object.keys(e),i=[];return t.forEach(n,function(t){"_keys"!==t&&e.hasOwnProperty(t)&&i.push(t)}),i}},url_encode:function(t){if(void 0!==t&&null!==t){var e=encodeURIComponent(t);return e.replace("'","%27")}},join:function(n,i){if(void 0!==n&&null!==n){var r="",o=[],s=null;return i&&i[0]&&(r=i[0]),e("Array",n)?o=n:(s=n._keys||Object.keys(n),t.forEach(s,function(t){"_keys"!==t&&n.hasOwnProperty(t)&&o.push(n[t])})),o.join(r)}},default:function(e,n){if(void 0!==n&&n.length>1)throw new t.Error("default filter expects one argument");return void 0===e||null===e||""===e?void 0===n?"":n[0]:e},json_encode:function(n){if(void 0===n||null===n)return"null";if("object"==typeof n&&e("Array",n))return r=[],t.forEach(n,function(e){r.push(t.filters.json_encode(e))}),"["+r.join(",")+"]";if("object"==typeof n&&e("Date",n))return'"'+n.toISOString()+'"';if("object"==typeof n){var i=n._keys||Object.keys(n),r=[];return t.forEach(i,function(e){r.push(JSON.stringify(e)+":"+t.filters.json_encode(n[e]))}),"{"+r.join(",")+"}"}return JSON.stringify(n)},merge:function(n,i){var r=[],o=0,s=[];if(e("Array",n)?t.forEach(i,function(t){e("Array",t)||(r={})}):r={},e("Array",r)||(r._keys=[]),e("Array",n)?t.forEach(n,function(t){r._keys&&r._keys.push(o),r[o]=t,o++}):(s=n._keys||Object.keys(n),t.forEach(s,function(t){r[t]=n[t],r._keys.push(t);var e=parseInt(t,10);!isNaN(e)&&e>=o&&(o=e+1)})),t.forEach(i,function(n){e("Array",n)?t.forEach(n,function(t){r._keys&&r._keys.push(o),r[o]=t,o++}):(s=n._keys||Object.keys(n),t.forEach(s,function(t){r[t]||r._keys.push(t),r[t]=n[t];var e=parseInt(t,10);!isNaN(e)&&e>=o&&(o=e+1)}))}),0===i.length)throw new t.Error("Filter merge expects at least one parameter");return r},date:function(e,n){var i=t.functions.date(e),r=n&&n.length?n[0]:"F j, Y H:i";return t.lib.date(r,i)},date_modify:function(e,n){if(void 0!==e&&null!==e){if(void 0===n||1!==n.length)throw new t.Error("date_modify filter expects 1 argument");var i,r=n[0];return t.lib.is("Date",e)&&(i=t.lib.strtotime(r,e.getTime()/1e3)),t.lib.is("String",e)&&(i=t.lib.strtotime(r,t.lib.strtotime(e))),t.lib.is("Number",e)&&(i=t.lib.strtotime(r,e)),new Date(1e3*i)}},replace:function(e,n){if(void 0!==e&&null!==e){var i,r=n[0];for(i in r)r.hasOwnProperty(i)&&"_keys"!==i&&(e=t.lib.replaceAll(e,i,r[i]));return e}},format:function(e,n){if(void 0!==e&&null!==e)return t.lib.vsprintf(e,n)},striptags:function(e,n){if(void 0!==e&&null!==e)return t.lib.strip_tags(e,n)},escape:function(e,n){if(void 0!==e&&null!==e){var i="html";if(n&&n.length&&!0!==n[0]&&(i=n[0]),"html"==i){var r=e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return t.Markup(r,"html")}if("js"==i){r=e.toString();for(var o="",s=0;s<r.length;s++)r[s].match(/^[a-zA-Z0-9,\._]$/)?o+=r[s]:o+=(a=r.charCodeAt(s))<128?"\\x"+a.toString(16).toUpperCase():t.lib.sprintf("\\u%04s",a.toString(16).toUpperCase());return t.Markup(o,"js")}if("css"==i){for(r=e.toString(),o="",s=0;s<r.length;s++)r[s].match(/^[a-zA-Z0-9]$/)?o+=r[s]:o+="\\"+(a=r.charCodeAt(s)).toString(16).toUpperCase()+" ";return t.Markup(o,"css")}if("url"==i)return o=t.filters.url_encode(e),t.Markup(o,"url");if("html_attr"==i){for(r=e.toString(),o="",s=0;s<r.length;s++)if(r[s].match(/^[a-zA-Z0-9,\.\-_]$/))o+=r[s];else if(r[s].match(/^[&<>"]$/))o+=r[s].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var a;o+=(a=r.charCodeAt(s))<=31&&9!=a&&10!=a&&13!=a?"&#xFFFD;":a<128?t.lib.sprintf("&#x%02s;",a.toString(16).toUpperCase()):t.lib.sprintf("&#x%04s;",a.toString(16).toUpperCase())}return t.Markup(o,"html_attr")}throw new t.Error("escape strategy unsupported")}},e:function(e,n){return t.filters.escape(e,n)},nl2br:function(e){if(void 0!==e&&null!==e){var n="<br />BACKSLASH_n_replace";return e=t.filters.escape(e).replace(/\r\n/g,n).replace(/\r/g,n).replace(/\n/g,n),e=t.lib.replaceAll(e,"BACKSLASH_n_replace","\n"),t.Markup(e)}},number_format:function(t,e){var n=t,i=e&&e[0]?e[0]:void 0,r=e&&void 0!==e[1]?e[1]:".",o=e&&void 0!==e[2]?e[2]:",";n=(n+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+n)?+n:0,a=isFinite(+i)?Math.abs(i):0,l="";return(l=(a?function(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}(s,a):""+Math.round(s)).split("."))[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(r)},trim:function(t,e){if(void 0!==t&&null!==t){var n,i=""+t;n=e&&e[0]?""+e[0]:" \n\r\t\f\v\u2028\u2029";for(var r=0;r<i.length;r++)if(-1===n.indexOf(i.charAt(r))){i=i.substring(r);break}for(r=i.length-1;r>=0;r--)if(-1===n.indexOf(i.charAt(r))){i=i.substring(0,r+1);break}return-1===n.indexOf(i.charAt(0))?i:""}},truncate:function(t,e){var n=30,i=!1,r="...";if(t+="",e&&(e[0]&&(n=e[0]),e[1]&&(i=e[1]),e[2]&&(r=e[2])),t.length>n){if(i&&-1===(n=t.indexOf(" ",n)))return t;t=t.substr(0,n)+r}return t},slice:function(e,n){if(void 0!==e&&null!==e){if(void 0===n||n.length<1)throw new t.Error("slice filter expects at least 1 argument");var i=n[0]||0,r=n.length>1?n[1]:e.length,o=i>=0?i:Math.max(e.length+i,0);if(t.lib.is("Array",e)){for(var s=[],a=o;a<o+r&&a<e.length;a++)s.push(e[a]);return s}if(t.lib.is("String",e))return e.substr(o,r);throw new t.Error("slice filter expects value to be an array or string")}},abs:function(t){if(void 0!==t&&null!==t)return Math.abs(t)},first:function(t){if(e("Array",t))return t[0];if(e("Object",t)){if("_keys"in t)return t[t._keys[0]]}else if("string"==typeof t)return t.substr(0,1)},split:function(e,n){if(void 0!==e&&null!==e){if(void 0===n||n.length<1||n.length>2)throw new t.Error("split filter expects 1 or 2 argument");if(t.lib.is("String",e)){var i=n[0],r=n[1],o=e.split(i);if(void 0===r)return o;if(r<0)return e.split(i,o.length+r);var s=[];if(""==i)for(;o.length>0;){for(var a="",l=0;l<r&&o.length>0;l++)a+=o.shift();s.push(a)}else{for(l=0;l<r-1&&o.length>0;l++)s.push(o.shift());o.length>0&&s.push(o.join(i))}return s}throw new t.Error("split filter expects value to be a string")}},last:function(e){var n;return t.lib.is("Object",e)?e[(n=void 0===e._keys?Object.keys(e):e._keys)[n.length-1]]:e[e.length-1]},raw:function(e){return t.Markup(e)},batch:function(e,n){var i,r,o,s=n.shift(),a=n.shift();if(!t.lib.is("Array",e))throw new t.Error("batch filter expects items to be an array");if(!t.lib.is("Number",s))throw new t.Error("batch filter expects size to be a number");if(s=Math.ceil(s),i=t.lib.chunkArray(e,s),a&&e.length%s!=0){for(o=s-(r=i.pop()).length;o--;)r.push(a);i.push(r)}return i},round:function(e,n){var i=(n=n||[]).length>0?n[0]:0,r=n.length>1?n[1]:"common";if(e=parseFloat(e),i&&!t.lib.is("Number",i))throw new t.Error("round filter expects precision to be a number");if("common"===r)return t.lib.round(e,i);if(!t.lib.is("Function",Math[r]))throw new t.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[r](e*Math.pow(10,i))/Math.pow(10,i)}},t.filter=function(e,n,i){if(!t.filters[e])throw"Unable to find filter "+e;return t.filters[e].call(this,n,i)},t.filter.extend=function(e,n){t.filters[e]=n},t}},function(t,e){t.exports=function(t){"use strict";t.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var e=function(t,e){if(void 0===e||null===e)return null;if(void 0!==e.indexOf)return t===e||""!==t&&e.indexOf(t)>-1;var n;for(n in e)if(e.hasOwnProperty(n)&&e[n]===t)return!0;return!1};return t.expression.operator.lookup=function(e,n){switch(e){case"..":n.precidence=20,n.associativity=t.expression.operator.leftToRight;break;case",":n.precidence=18,n.associativity=t.expression.operator.leftToRight;break;case"?:":case"?":case":":n.precidence=16,n.associativity=t.expression.operator.rightToLeft;break;case"or":n.precidence=14,n.associativity=t.expression.operator.leftToRight;break;case"and":n.precidence=13,n.associativity=t.expression.operator.leftToRight;break;case"b-or":n.precidence=12,n.associativity=t.expression.operator.leftToRight;break;case"b-xor":n.precidence=11,n.associativity=t.expression.operator.leftToRight;break;case"b-and":n.precidence=10,n.associativity=t.expression.operator.leftToRight;break;case"==":case"!=":n.precidence=9,n.associativity=t.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":n.precidence=8,n.associativity=t.expression.operator.leftToRight;break;case"~":case"+":case"-":n.precidence=6,n.associativity=t.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":n.precidence=5,n.associativity=t.expression.operator.leftToRight;break;case"not":n.precidence=3,n.associativity=t.expression.operator.rightToLeft;break;default:throw new t.Error("Failed to lookup operator: "+e+" is an unknown operator.")}return n.operator=e,n},t.expression.operator.parse=function(n,i){var r,o,s;switch(t.log.trace("Twig.expression.operator.parse: ","Handling ",n),"?"===n&&(s=i.pop()),o=i.pop(),"not"!==n&&(r=i.pop()),"in"!==n&&"not in"!==n&&(r&&Array.isArray(r)&&(r=r.length),o&&Array.isArray(o)&&(o=o.length)),n){case":":break;case"?:":t.lib.boolval(r)?i.push(r):i.push(o);break;case"?":void 0===r&&(r=o,o=s,s=void 0),t.lib.boolval(r)?i.push(o):i.push(s);break;case"+":o=parseFloat(o),r=parseFloat(r),i.push(r+o);break;case"-":o=parseFloat(o),r=parseFloat(r),i.push(r-o);break;case"*":o=parseFloat(o),r=parseFloat(r),i.push(r*o);break;case"/":o=parseFloat(o),r=parseFloat(r),i.push(r/o);break;case"//":o=parseFloat(o),r=parseFloat(r),i.push(Math.floor(r/o));break;case"%":o=parseFloat(o),r=parseFloat(r),i.push(r%o);break;case"~":i.push((null!=r?r.toString():"")+(null!=o?o.toString():""));break;case"not":case"!":i.push(!t.lib.boolval(o));break;case"<":i.push(r<o);break;case"<=":i.push(r<=o);break;case">":i.push(r>o);break;case">=":i.push(r>=o);break;case"===":i.push(r===o);break;case"==":i.push(r==o);break;case"!==":i.push(r!==o);break;case"!=":i.push(r!=o);break;case"or":i.push(t.lib.boolval(r)||t.lib.boolval(o));break;case"b-or":i.push(r|o);break;case"b-xor":i.push(r^o);break;case"and":i.push(t.lib.boolval(r)&&t.lib.boolval(o));break;case"b-and":i.push(r&o);break;case"**":i.push(Math.pow(r,o));break;case"not in":i.push(!e(r,o));break;case"in":i.push(e(r,o));break;case"..":i.push(t.functions.range(r,o));break;default:throw new t.Error("Failed to parse operator: "+n+" is an unknown operator.")}},t}},function(t,e,n){t.exports=function(t){"use strict";function e(e,n,i){return n?t.expression.parseAsync.call(e,n,i):t.Promise.resolve(!1)}for(t.expression={},n(23)(t),t.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if"],t.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},t.expression.set={operations:[t.expression.type.filter,t.expression.type.operator.unary,t.expression.type.operator.binary,t.expression.type.array.end,t.expression.type.object.end,t.expression.type.parameter.end,t.expression.type.subexpression.end,t.expression.type.comma,t.expression.type.test],expressions:[t.expression.type._function,t.expression.type.bool,t.expression.type.string,t.expression.type.variable,t.expression.type.number,t.expression.type._null,t.expression.type.context,t.expression.type.parameter.start,t.expression.type.array.start,t.expression.type.object.start,t.expression.type.subexpression.start,t.expression.type.operator.unary]},t.expression.set.operations_extended=t.expression.set.operations.concat([t.expression.type.key.period,t.expression.type.key.brackets,t.expression.type.slice]),t.expression.fn={compile:{push:function(t,e,n){n.push(t)},push_both:function(t,e,n){n.push(t),e.push(t)}},parse:{push:function(t,e,n){e.push(t)},push_value:function(t,e,n){e.push(t.value)}}},t.expression.definitions=[{type:t.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*(\s?as)?)/,next:t.expression.set.operations.concat([t.expression.type.parameter.start]),compile:function(t,e,n){t.filter=t.match[2],t.modifier=t.match[1],delete t.match,delete t.value,n.push(t)},parse:function(n,i,r){var o=i.pop();return e(this,n.params,r).then(function(e){var r=t.test(n.filter,o,e);"not"==n.modifier?i.push(!r):i.push(r)})}},{type:t.expression.type.comma,regex:/^,/,next:t.expression.set.expressions.concat([t.expression.type.array.end,t.expression.type.object.end]),compile:function(e,n,i){var r,o=n.length-1;for(delete e.match,delete e.value;o>=0;o--){if((r=n.pop()).type===t.expression.type.object.start||r.type===t.expression.type.parameter.start||r.type===t.expression.type.array.start){n.push(r);break}i.push(r)}i.push(e)}},{type:t.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:t.expression.set.operations,compile:function(t,e,n){t.value=Number(t.value),n.push(t)},parse:t.expression.fn.parse.push_value},{type:t.expression.type.operator.binary,regex:/(^\?\:|^(b\-and)|^(b\-or)|^(b\-xor)|^[\+\-~%\?]|^[\:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[\(|\s+]|^(or)[\(|\s+]|^(in)[\(|\s+]|^(not in)[\(|\s+]|^\.\.)/,next:t.expression.set.expressions,transform:function(t,e){switch(t[0]){case"and(":case"or(":case"in(":case"not in(":return e[e.length-1].value=t[2],t[0];default:return""}},compile:function(e,n,i){delete e.match,e.value=e.value.trim();var r=e.value,o=t.expression.operator.lookup(r,e);for(t.log.trace("Twig.expression.compile: ","Operator: ",o," from ",r);n.length>0&&(n[n.length-1].type==t.expression.type.operator.unary||n[n.length-1].type==t.expression.type.operator.binary)&&(o.associativity===t.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===t.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){var s=n.pop();i.push(s)}if(":"===r){if(!n[n.length-1]||"?"!==n[n.length-1].value){var a=i.pop();if(a.type===t.expression.type.string||a.type===t.expression.type.variable)e.key=a.value;else if(a.type===t.expression.type.number)e.key=a.value.toString();else{if(!a.expression||a.type!==t.expression.type.parameter.end&&a.type!=t.expression.type.subexpression.end)throw new t.Error("Unexpected value before ':' of "+a.type+" = "+a.value);e.params=a.params}return void i.push(e)}}else n.push(o)},parse:function(e,n,i){if(e.key)n.push(e);else{if(e.params)return t.expression.parseAsync.call(this,e.params,i).then(function(t){e.key=t,n.push(e),i.loop||delete e.params});t.expression.operator.parse(e.value,n)}}},{type:t.expression.type.operator.unary,regex:/(^not\s+)/,next:t.expression.set.expressions,compile:function(e,n,i){delete e.match,e.value=e.value.trim();var r=e.value,o=t.expression.operator.lookup(r,e);for(t.log.trace("Twig.expression.compile: ","Operator: ",o," from ",r);n.length>0&&(n[n.length-1].type==t.expression.type.operator.unary||n[n.length-1].type==t.expression.type.operator.binary)&&(o.associativity===t.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===t.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){var s=n.pop();i.push(s)}n.push(o)},parse:function(e,n,i){t.expression.operator.parse(e.value,n)}},{type:t.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:t.expression.set.operations_extended,compile:function(e,n,i){var r=e.value;delete e.match,r='"'===r.substring(0,1)?r.replace('\\"','"'):r.replace("\\'","'"),e.value=r.substring(1,r.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),t.log.trace("Twig.expression.compile: ","String value: ",e.value),i.push(e)},parse:t.expression.fn.parse.push_value},{type:t.expression.type.subexpression.start,regex:/^\(/,next:t.expression.set.expressions.concat([t.expression.type.subexpression.end]),compile:function(t,e,n){t.value="(",n.push(t),e.push(t)},parse:t.expression.fn.parse.push},{type:t.expression.type.subexpression.end,regex:/^\)/,next:t.expression.set.operations_extended,validate:function(e,n){for(var i=n.length-1,r=!1,o=!1,s=0;!r&&i>=0;){var a=n[i];(r=a.type===t.expression.type.subexpression.start)&&o&&(o=!1,r=!1),a.type===t.expression.type.parameter.start?s++:a.type===t.expression.type.parameter.end?s--:a.type===t.expression.type.subexpression.end&&(o=!0),i--}return r&&0===s},compile:function(e,n,i){var r,o=e;for(r=n.pop();n.length>0&&r.type!=t.expression.type.subexpression.start;)i.push(r),r=n.pop();for(var s=[];e.type!==t.expression.type.subexpression.start;)s.unshift(e),e=i.pop();s.unshift(e),void 0===(r=n[n.length-1])||r.type!==t.expression.type._function&&r.type!==t.expression.type.filter&&r.type!==t.expression.type.test&&r.type!==t.expression.type.key.brackets?(o.expression=!0,s.pop(),s.shift(),o.params=s,i.push(o)):(o.expression=!1,r.params=s)},parse:function(e,n,i){if(e.expression)return t.expression.parseAsync.call(this,e.params,i).then(function(t){n.push(t)});throw new t.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:t.expression.type.parameter.start,regex:/^\(/,next:t.expression.set.expressions.concat([t.expression.type.parameter.end]),validate:function(e,n){var i=n[n.length-1];return i&&t.indexOf(t.expression.reservedWords,i.value.trim())<0},compile:t.expression.fn.compile.push_both,parse:t.expression.fn.parse.push},{type:t.expression.type.parameter.end,regex:/^\)/,next:t.expression.set.operations_extended,compile:function(e,n,i){var r,o=e;for(r=n.pop();n.length>0&&r.type!=t.expression.type.parameter.start;)i.push(r),r=n.pop();for(var s=[];e.type!==t.expression.type.parameter.start;)s.unshift(e),e=i.pop();s.unshift(e),void 0===(e=i[i.length-1])||e.type!==t.expression.type._function&&e.type!==t.expression.type.filter&&e.type!==t.expression.type.test&&e.type!==t.expression.type.key.brackets?(o.expression=!0,s.pop(),s.shift(),o.params=s,i.push(o)):(o.expression=!1,e.params=s)},parse:function(e,n,i){var r=[],o=!1,s=null;if(e.expression)return t.expression.parseAsync.call(this,e.params,i).then(function(t){n.push(t)});for(;n.length>0;){if((s=n.pop())&&s.type&&s.type==t.expression.type.parameter.start){o=!0;break}r.unshift(s)}if(!o)throw new t.Error("Expected end of parameter set.");n.push(r)}},{type:t.expression.type.slice,regex:/^\[(\d*\:\d*)\]/,next:t.expression.set.operations_extended,compile:function(t,e,n){var i=t.match[1].split(":"),r=i[0]?parseInt(i[0]):void 0,o=i[1]?parseInt(i[1]):void 0;t.value="slice",t.params=[r,o],o||(t.params=[r]),n.push(t)},parse:function(e,n,i){var r=n.pop(),o=e.params;n.push(t.filter.call(this,e.value,r,o))}},{type:t.expression.type.array.start,regex:/^\[/,next:t.expression.set.expressions.concat([t.expression.type.array.end]),compile:t.expression.fn.compile.push_both,parse:t.expression.fn.parse.push},{type:t.expression.type.array.end,regex:/^\]/,next:t.expression.set.operations_extended,compile:function(e,n,i){for(var r,o=n.length-1;o>=0&&(r=n.pop()).type!==t.expression.type.array.start;o--)i.push(r);i.push(e)},parse:function(e,n,i){for(var r=[],o=!1,s=null;n.length>0;){if((s=n.pop()).type&&s.type==t.expression.type.array.start){o=!0;break}r.unshift(s)}if(!o)throw new t.Error("Expected end of array.");n.push(r)}},{type:t.expression.type.object.start,regex:/^\{/,next:t.expression.set.expressions.concat([t.expression.type.object.end]),compile:t.expression.fn.compile.push_both,parse:t.expression.fn.parse.push},{type:t.expression.type.object.end,regex:/^\}/,next:t.expression.set.operations_extended,compile:function(e,n,i){for(var r,o=n.length-1;o>=0&&(!(r=n.pop())||r.type!==t.expression.type.object.start);o--)i.push(r);i.push(e)},parse:function(e,n,i){for(var r={},o=!1,s=null,a=!1,l=null;n.length>0;){if((s=n.pop())&&s.type&&s.type===t.expression.type.object.start){o=!0;break}if(s&&s.type&&(s.type===t.expression.type.operator.binary||s.type===t.expression.type.operator.unary)&&s.key){if(!a)throw new t.Error("Missing value for key '"+s.key+"' in object definition.");r[s.key]=l,void 0===r._keys&&(r._keys=[]),r._keys.unshift(s.key),l=null,a=!1}else a=!0,l=s}if(!o)throw new t.Error("Unexpected end of object.");n.push(r)}},{type:t.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:t.expression.set.operations_extended.concat([t.expression.type.parameter.start]),compile:function(t,e,n){t.value=t.match[1],n.push(t)},parse:function(n,i,r){var o=this,s=i.pop();return e(this,n.params,r).then(function(e){return t.filter.call(o,n.value,s,e)}).then(function(t){i.push(t)})}},{type:t.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:t.expression.type.parameter.start,validate:function(e,n){return e[1]&&t.indexOf(t.expression.reservedWords,e[1])<0},transform:function(t,e){return"("},compile:function(t,e,n){var i=t.match[1];t.fn=i,delete t.match,delete t.value,n.push(t)},parse:function(n,i,r){var o,s=this,a=n.fn;return e(this,n.params,r).then(function(e){if(t.functions[a])o=t.functions[a].apply(s,e);else{if("function"!=typeof r[a])throw new t.Error(a+" function does not exist and is not defined in the context");o=r[a].apply(r,e)}return o}).then(function(t){i.push(t)})}},{type:t.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:t.expression.set.operations_extended.concat([t.expression.type.parameter.start]),compile:t.expression.fn.compile.push,validate:function(e,n){return t.indexOf(t.expression.reservedWords,e[0])<0},parse:function(e,n,i){return t.expression.resolveAsync.call(this,i[e.value],i).then(function(t){n.push(t)})}},{type:t.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:t.expression.set.operations_extended.concat([t.expression.type.parameter.start]),compile:function(t,e,n){t.key=t.match[1],delete t.match,delete t.value,n.push(t)},parse:function(n,i,r,o){var s,a=this,l=n.key,u=i.pop();return e(this,n.params,r).then(function(e){if(null===u||void 0===u){if(a.options.strict_variables)throw new t.Error("Can't access a key "+l+" on an null or undefined object.");s=void 0}else{var n=function(t){return t.substr(0,1).toUpperCase()+t.substr(1)};s="object"==typeof u&&l in u?u[l]:void 0!==u["get"+n(l)]?u["get"+n(l)]:void 0!==u["is"+n(l)]?u["is"+n(l)]:void 0}return t.expression.resolveAsync.call(a,s,r,e,o,u)}).then(function(t){i.push(t)})}},{type:t.expression.type.key.brackets,regex:/^\[([^\]\:]*)\]/,next:t.expression.set.operations_extended.concat([t.expression.type.parameter.start]),compile:function(e,n,i){var r=e.match[1];delete e.value,delete e.match,e.stack=t.expression.compile({value:r}).stack,i.push(e)},parse:function(n,i,r,o){var s,a,l=this,u=null;return e(this,n.params,r).then(function(e){return u=e,t.expression.parseAsync.call(l,n.stack,r)}).then(function(e){if(null===(s=i.pop())||void 0===s){if(l.options.strict_variables)throw new t.Error("Can't access a key "+e+" on an null or undefined object.");return null}return a="object"==typeof s&&e in s?s[e]:null,t.expression.resolveAsync.call(l,a,s,u,o)}).then(function(t){i.push(t)})}},{type:t.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:t.expression.set.operations,compile:function(t,e,n){delete t.match,t.value=null,n.push(t)},parse:t.expression.fn.parse.push_value},{type:t.expression.type.context,regex:/^_context/,next:t.expression.set.operations_extended.concat([t.expression.type.parameter.start]),compile:t.expression.fn.compile.push,parse:function(t,e,n){e.push(n)}},{type:t.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:t.expression.set.operations,compile:function(t,e,n){t.value="true"===t.match[0].toLowerCase(),delete t.match,n.push(t)},parse:t.expression.fn.parse.push_value}],t.expression.resolveAsync=function(e,n,i,r,o){if("function"!=typeof e)return t.Promise.resolve(e);var s=t.Promise.resolve(i);return r&&r.type===t.expression.type.parameter.end&&(s=s.then(function(){return r.params&&t.expression.parseAsync.call(this,r.params,n,!0)}).then(function(t){return r.cleanup=!0,t})),s.then(function(t){return e.apply(o||n,t||[])})},t.expression.resolve=function(e,n,i,r,o){return t.async.potentiallyAsync(this,!1,function(){return t.expression.resolveAsync.call(this,e,n,i,r,o)})},t.expression.handler={},t.expression.extendType=function(e){t.expression.type[e]="Twig.expression.type."+e},t.expression.extend=function(e){if(!e.type)throw new t.Error("Unable to extend logic definition. No type provided for "+e);t.expression.handler[e.type]=e};t.expression.definitions.length>0;)t.expression.extend(t.expression.definitions.shift());return t.expression.tokenize=function(e){var n,i,r,o,s,a,l=[],u=0,c=null,h=[];for(a=function(){for(var e=arguments.length-2,i=new Array(e);e-- >0;)i[e]=arguments[e];if(t.log.trace("Twig.expression.tokenize","Matched a ",n," regular expression of ",i),c&&t.indexOf(c,n)<0)return h.push(n+" cannot follow a "+l[l.length-1].type+" at template:"+u+" near '"+i[0].substring(0,20)+"...'"),i[0];var r=t.expression.handler[n];return r.validate&&!r.validate(i,l)?i[0]:(h=[],l.push({type:n,value:i[0],match:i}),s=!0,c=o,u+=i[0].length,r.transform?r.transform(i,l):"")},t.log.debug("Twig.expression.tokenize","Tokenizing expression ",e);e.length>0;){for(n in e=e.trim(),t.expression.handler){if(o=t.expression.handler[n].next,i=t.expression.handler[n].regex,t.log.trace("Checking type ",n," on ",e),s=!1,t.lib.isArray(i))for(r=i.length;r-- >0;)e=e.replace(i[r],a);else e=e.replace(i,a);if(s)break}if(!s)throw h.length>0?new t.Error(h.join(" OR ")):new t.Error("Unable to parse '"+e+"' at template position"+u)}return t.log.trace("Twig.expression.tokenize","Tokenized to ",l),l},t.expression.compile=function(e){var n=e.value,i=t.expression.tokenize(n),r=null,o=[],s=[],a=null;for(t.log.trace("Twig.expression.compile: ","Compiling ",n);i.length>0;)r=i.shift(),a=t.expression.handler[r.type],t.log.trace("Twig.expression.compile: ","Compiling ",r),a.compile&&a.compile(r,s,o),t.log.trace("Twig.expression.compile: ","Stack is",s),t.log.trace("Twig.expression.compile: ","Output is",o);for(;s.length>0;)o.push(s.pop());return t.log.trace("Twig.expression.compile: ","Final output is",o),e.stack=o,delete e.value,e},t.expression.parse=function(e,n,i,r){var o=this;t.lib.isArray(e)||(e=[e]);var s=[],a=[],l=t.expression.type.operator.binary;return t.async.potentiallyAsync(this,r,function(){return t.async.forEach(e,function(i,r){var u,c=null,h=null;if(!i.cleanup)return e.length>r+1&&(h=e[r+1]),(c=t.expression.handler[i.type]).parse&&(u=c.parse.call(o,i,s,n,h)),i.type===l&&n.loop&&a.push(i),u}).then(function(){for(var t=a.length,e=null;t-- >0;)(e=a[t]).params&&e.key&&delete e.key;if(i){var n=s.splice(0);s.push(n)}return s.pop()})})},t}},function(t,e){t.exports=function(t){return t.compiler={module:{}},t.compiler.compile=function(e,n){var i,r=JSON.stringify(e.tokens),o=e.id;if(n.module){if(void 0===t.compiler.module[n.module])throw new t.Error("Unable to find module type "+n.module);i=t.compiler.module[n.module](o,r,n.twig)}else i=t.compiler.wrap(o,r);return i},t.compiler.module={amd:function(e,n,i){return'define(["'+i+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+t.compiler.wrap(e,n)+"\n\treturn templates;\n});"},node:function(e,n){return'var twig = require("twig").twig;\nexports.template = '+t.compiler.wrap(e,n)},cjs2:function(e,n,i){return'module.declare([{ twig: "'+i+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+t.compiler.wrap(e,n)+"\n});"}},t.compiler.wrap=function(t,e){return'twig({id:"'+t.replace('"','\\"')+'", data:'+e+", precompiled: true});\n"},t}},function(t,e){t.exports=function(t){"use strict";function e(e,n){if(e.options.rethrow)throw"string"==typeof n&&(n=new t.Error(n)),"TwigException"!=n.type||n.file||(n.file=e.id),n;if(t.log.error("Error parsing twig template "+e.id+": "),n.stack?t.log.error(n.stack):t.log.error(n.toString()),t.debug)return n.toString()}return t.trace=!1,t.debug=!1,t.cache=!0,t.noop=function(){},t.placeholders={parent:"{{|PARENT|}}"},t.hasIndexOf=Array.prototype.hasOwnProperty("indexOf"),t.indexOf=function(e,n){if(t.hasIndexOf)return e.indexOf(n);if(void 0===e||null===e)throw new TypeError;var i=Object(e),r=i.length>>>0;if(0===r)return-1;var o=0;if(arguments.length>0&&((o=Number(arguments[1]))!=o?o=0:0!==o&&o!==1/0&&o!==-1/0&&(o=(o>0||-1)*Math.floor(Math.abs(o)))),o>=r)return-1;for(var s=o>=0?o:Math.max(r-Math.abs(o),0);s<r;s++)if(s in i&&i[s]===n)return s;return e==n?0:-1},t.forEach=function(t,e,n){if(Array.prototype.forEach)return t.forEach(e,n);var i,r;if(null==t)throw new TypeError(" this is null or not defined");var o=Object(t),s=o.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(n&&(i=n),r=0;r<s;){var a;r in o&&(a=o[r],e.call(i,a,r,o)),r++}},t.merge=function(e,n,i){return t.forEach(Object.keys(n),function(t){(!i||t in e)&&(e[t]=n[t])}),e},t.attempt=function(t,e){try{return t()}catch(t){return e(t)}},t.Error=function(t,e){this.message=t,this.name="TwigException",this.type="TwigException",this.file=e},t.Error.prototype.toString=function(){return this.name+": "+this.message},t.log={trace:function(){t.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){t.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?void 0!==console.error?t.log.error=function(){console.error.apply(console,arguments)}:void 0!==console.log&&(t.log.error=function(){console.log.apply(console,arguments)}):t.log.error=function(){},t.ChildContext=function(e){return t.lib.copy(e)},t.token={},t.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},t.token.definitions=[{type:t.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:t.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:t.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:t.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:t.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:t.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:t.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:t.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:t.token.type.output,open:"{{",close:"}}"},{type:t.token.type.logic,open:"{%",close:"%}"},{type:t.token.type.comment,open:"{#",close:"#}"}],t.token.strings=['"',"'"],t.token.findStart=function(e){var n,i,r,o,s={position:null,def:null},a=null,l=t.token.definitions.length;for(n=0;n<l;n++)i=t.token.definitions[n],r=e.indexOf(i.open),o=e.indexOf(i.close),t.log.trace("Twig.token.findStart: ","Searching for ",i.open," found at ",r),r>=0&&i.open.length!==i.close.length&&o<0||(r>=0&&(null===s.position||r<s.position)?(s.position=r,s.def=i,a=o):r>=0&&null!==s.position&&r===s.position&&(i.open.length>s.def.open.length?(s.position=r,s.def=i,a=o):i.open.length===s.def.open.length&&(i.close.length,s.def.close.length,o>=0&&o<a&&(s.position=r,s.def=i,a=o))));return s},t.token.findEnd=function(e,n,i){for(var r,o,s=null,a=!1,l=0,u=null,c=null,h=null,f=null,p=null,d=null;!a;){if(u=null,c=null,!((h=e.indexOf(n.close,l))>=0))throw new t.Error("Unable to find closing bracket '"+n.close+"' opened near template position "+i);if(s=h,a=!0,n.type===t.token.type.comment)break;if(n.type===t.token.type.raw)break;for(o=t.token.strings.length,r=0;r<o;r+=1)(p=e.indexOf(t.token.strings[r],l))>0&&p<h&&(null===u||p<u)&&(u=p,c=t.token.strings[r]);if(null!==u)for(f=u+1,s=null,a=!1;;){if((d=e.indexOf(c,f))<0)throw"Unclosed string in template";if("\\"!==e.substr(d-1,1)){l=d+1;break}f=d+1}}return s},t.tokenize=function(e){for(var n=[],i=0,r=null,o=null;e.length>0;)if(r=t.token.findStart(e),t.log.trace("Twig.tokenize: ","Found token: ",r),null!==r.position){if(r.position>0&&n.push({type:t.token.type.raw,value:e.substring(0,r.position)}),e=e.substr(r.position+r.def.open.length),i+=r.position+r.def.open.length,o=t.token.findEnd(e,r.def,i),t.log.trace("Twig.tokenize: ","Token ends at ",o),n.push({type:r.def.type,value:e.substring(0,o).trim()}),"\n"===e.substr(o+r.def.close.length,1))switch(r.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":o+=1}e=e.substr(o+r.def.close.length),i+=o+r.def.close.length}else n.push({type:t.token.type.raw,value:e}),e="";return n},t.compile=function(e){var n=this;return t.attempt(function(){for(var i=[],r=[],o=[],s=null,a=null,l=null,u=null,c=null,h=null,f=null,p=null,d=null,g=null,v=null,m=null,y=function(e){t.expression.compile.call(n,e),r.length>0?o.push(e):i.push(e)},_=function(e){if(a=t.logic.compile.call(n,e),g=a.type,v=t.logic.handler[g].open,m=t.logic.handler[g].next,t.log.trace("Twig.compile: ","Compiled logic token to ",a," next is: ",m," open is : ",v),void 0!==v&&!v){if(u=r.pop(),f=t.logic.handler[u.type],t.indexOf(f.next,g)<0)throw new Error(g+" not expected after a "+u.type);u.output=u.output||[],u.output=u.output.concat(o),o=[],d={type:t.token.type.logic,token:u},r.length>0?o.push(d):i.push(d)}void 0!==m&&m.length>0?(t.log.trace("Twig.compile: ","Pushing ",a," to logic stack."),r.length>0&&((u=r.pop()).output=u.output||[],u.output=u.output.concat(o),r.push(u),o=[]),r.push(a)):void 0!==v&&v&&(d={type:t.token.type.logic,token:a},r.length>0?o.push(d):i.push(d))};e.length>0;){switch(s=e.shift(),c=i[i.length-1],h=o[o.length-1],p=e[0],t.log.trace("Compiling token ",s),s.type){case t.token.type.raw:r.length>0?o.push(s):i.push(s);break;case t.token.type.logic:_.call(n,s);break;case t.token.type.comment:break;case t.token.type.output:y.call(n,s);break;case t.token.type.logic_whitespace_pre:case t.token.type.logic_whitespace_post:case t.token.type.logic_whitespace_both:case t.token.type.output_whitespace_pre:case t.token.type.output_whitespace_post:case t.token.type.output_whitespace_both:switch(s.type!==t.token.type.output_whitespace_post&&s.type!==t.token.type.logic_whitespace_post&&(c&&c.type===t.token.type.raw&&(i.pop(),null===c.value.match(/^\s*$/)&&(c.value=c.value.trim(),i.push(c))),h&&h.type===t.token.type.raw&&(o.pop(),null===h.value.match(/^\s*$/)&&(h.value=h.value.trim(),o.push(h)))),s.type){case t.token.type.output_whitespace_pre:case t.token.type.output_whitespace_post:case t.token.type.output_whitespace_both:y.call(n,s);break;case t.token.type.logic_whitespace_pre:case t.token.type.logic_whitespace_post:case t.token.type.logic_whitespace_both:_.call(n,s)}s.type!==t.token.type.output_whitespace_pre&&s.type!==t.token.type.logic_whitespace_pre&&p&&p.type===t.token.type.raw&&(e.shift(),null===p.value.match(/^\s*$/)&&(p.value=p.value.trim(),e.unshift(p)))}t.log.trace("Twig.compile: "," Output: ",i," Logic Stack: ",r," Pending Output: ",o)}if(r.length>0)throw l=r.pop(),new Error("Unable to find an end tag for "+l.type+", expecting one of "+l.next);return i},function(e){if(n.options.rethrow)throw"TwigException"!=e.type||e.file||(e.file=n.id),e;t.log.error("Error compiling twig template "+n.id+": "),e.stack?t.log.error(e.stack):t.log.error(e.toString())})},t.parse=function(n,i,r){var o,s=this,a=[],l=null,u=!0,c=!0;function h(t){a.push(t)}function f(t){void 0!==t.chain&&(c=t.chain),void 0!==t.context&&(i=t.context),void 0!==t.output&&a.push(t.output)}if(o=t.async.forEach(n,function(e){switch(t.log.debug("Twig.parse: ","Parsing token: ",e),e.type){case t.token.type.raw:a.push(t.filters.raw(e.value));break;case t.token.type.logic:return t.logic.parseAsync.call(s,e.token,i,c).then(f);case t.token.type.comment:break;case t.token.type.output_whitespace_pre:case t.token.type.output_whitespace_post:case t.token.type.output_whitespace_both:case t.token.type.output:return t.log.debug("Twig.parse: ","Output token: ",e.stack),t.expression.parseAsync.call(s,e.stack,i).then(h)}}).then(function(){return a=t.output.call(s,a),u=!1,a}).catch(function(t){r&&e(s,t),l=t}),r)return o;if(null!==l)return e(this,l);if(u)throw new t.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},t.prepare=function(e){var n,i;return t.log.debug("Twig.prepare: ","Tokenizing ",e),i=t.tokenize.call(this,e),t.log.debug("Twig.prepare: ","Compiling ",i),n=t.compile.call(this,i),t.log.debug("Twig.prepare: ","Compiled ",n),n},t.output=function(e){var n=this.options.autoescape;if(!n)return e.join("");var i="string"==typeof n?n:"html",r=0,o=e.length,s="",a=new Array(o);for(r=0;r<o;r++)(s=e[r])&&!0!==s.twig_markup&&s.twig_markup!=i&&(s=t.filters.escape(s,[i])),a[r]=s;return a.length<1?"":t.Markup(a.join(""),!0)},t.Templates={loaders:{},parsers:{},registry:{}},t.validateId=function(e){if("prototype"===e)throw new t.Error(e+" is not a valid twig identifier");if(t.cache&&t.Templates.registry.hasOwnProperty(e))throw new t.Error("There is already a template with the ID "+e);return!0},t.Templates.registerLoader=function(e,n,i){if("function"!=typeof n)throw new t.Error("Unable to add loader for "+e+": Invalid function reference given.");i&&(n=n.bind(i)),this.loaders[e]=n},t.Templates.unRegisterLoader=function(t){this.isRegisteredLoader(t)&&delete this.loaders[t]},t.Templates.isRegisteredLoader=function(t){return this.loaders.hasOwnProperty(t)},t.Templates.registerParser=function(e,n,i){if("function"!=typeof n)throw new t.Error("Unable to add parser for "+e+": Invalid function regerence given.");i&&(n=n.bind(i)),this.parsers[e]=n},t.Templates.unRegisterParser=function(t){this.isRegisteredParser(t)&&delete this.parsers[t]},t.Templates.isRegisteredParser=function(t){return this.parsers.hasOwnProperty(t)},t.Templates.save=function(e){if(void 0===e.id)throw new t.Error("Unable to save template with no id");t.Templates.registry[e.id]=e},t.Templates.load=function(e){return t.Templates.registry.hasOwnProperty(e)?t.Templates.registry[e]:null},t.Templates.loadRemote=function(e,n,i,r){var o=void 0===n.id?e:n.id,s=t.Templates.registry[o];return t.cache&&void 0!==s?("function"==typeof i&&i(s),s):(n.parser=n.parser||"twig",n.id=o,void 0===n.async&&(n.async=!0),(this.loaders[n.method]||this.loaders.fs).call(this,e,n,i,r))},t.Template=function(e){var n,i,r,o=e.data,s=e.id,a=e.blocks,l=e.macros||{},u=e.base,c=e.path,h=e.url,f=e.name,p=e.method,d=e.options;this.id=s,this.method=p,this.base=u,this.path=c,this.url=h,this.name=f,this.macros=l,this.options=d,this.reset(a),n="String",i=o,r=Object.prototype.toString.call(i).slice(8,-1),this.tokens=void 0!==i&&null!==i&&r===n?t.prepare.call(this,o):o,void 0!==s&&t.Templates.save(this)},t.Template.prototype.reset=function(e){t.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:e||{}},this.extend=null,this.parseStack=[]},t.Template.prototype.render=function(e,n,i){var r=this;return this.context=e||{},this.reset(),n&&n.blocks&&(this.blocks=n.blocks),n&&n.macros&&(this.macros=n.macros),t.async.potentiallyAsync(this,i,function(){return t.parseAsync.call(this,this.tokens,this.context).then(function(e){var i,o;return r.extend?(r.options.allowInlineIncludes&&(i=t.Templates.load(r.extend))&&(i.options=r.options),i||(o=t.path.parsePath(r,r.extend),i=t.Templates.loadRemote(o,{method:r.getLoaderMethod(),base:r.base,async:!1,id:o,options:r.options})),r.parent=i,r.parent.renderAsync(r.context,{blocks:r.blocks})):n?"blocks"==n.output?r.blocks:"macros"==n.output?r.macros:e:e})})},t.Template.prototype.importFile=function(e){var n,i;if(!this.url&&this.options.allowInlineIncludes){if(e=this.path?t.path.parsePath(this,e):e,!(i=t.Templates.load(e))&&!(i=t.Templates.loadRemote(n,{id:e,method:this.getLoaderMethod(),async:!1,path:e,options:this.options})))throw new t.Error("Unable to find the template "+e);return i.options=this.options,i}return n=t.path.parsePath(this,e),t.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:n})},t.Template.prototype.importBlocks=function(e,n){var i=this.importFile(e),r=this.context,o=this;n=n||!1,i.render(r),t.forEach(Object.keys(i.blocks),function(t){(n||void 0===o.blocks[t])&&(o.blocks[t]=i.blocks[t],o.importedBlocks.push(t))})},t.Template.prototype.importMacros=function(e){var n=t.path.parsePath(this,e);return t.Templates.loadRemote(n,{method:this.getLoaderMethod(),async:!1,id:n})},t.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},t.Template.prototype.compile=function(e){return t.compiler.compile(this,e)},t.Markup=function(t,e){if("string"!=typeof t||t.length<1)return t;var n=new String(t);return n.twig_markup=void 0===e||e,n},t}},function(t,e,n){
/**
 * Twig.js
 *
 * @copyright 2011-2016 John Roepke and the Twig.js Contributors
 * @license   Available under the BSD 2-Clause License
 * @link      https://github.com/twigjs/twig.js
 */
var i={VERSION:"1.12.0"};n(26)(i),n(25)(i),n(24)(i),n(22)(i),n(21)(i),n(20)(i),n(11)(i),n(10)(i),n(8)(i),n(7)(i),n(6)(i),n(5)(i),n(4)(i),n(3)(i),n(2)(i),t.exports=i.exports}])}).call(this,n(134),"/")},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return a});var i=n(35),r=n.n(i),o=n(30),s=n.n(o),a=function(){function t(){r()(this,t)}return s()(t,null,[{key:"trigger",value:function(t,e){try{var n=new CustomEvent(e);t.dispatchEvent(n)}catch(n){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!1,!1,{detail:null}),t.dispatchEvent(i)}}},{key:"toButton",value:function(e){e.addEventListener("keypress",function(n){switch(n.key){case"Enter":case" ":n.preventDefault(),t.trigger(e,"click")}})}}]),t}()}).call(this,n(52))},function(t,e,n){"use strict";var i=n(0),r=n(13),o=n(32),s=n(9),a=function(t){o.a.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};i.a.inherits(a,o.a),a.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},a.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(s.a.CLEAR)},a.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},a.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},a.prototype.get=function(t){var e=this.entries_[t];return r.a.assert(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},a.prototype.remove=function(t){var e=this.entries_[t];return r.a.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},a.prototype.getCount=function(){return this.count_},a.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},a.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},a.prototype.peekLast=function(){return this.oldest_.value_},a.prototype.peekLastKey=function(){return this.oldest_.key_},a.prototype.peekFirstKey=function(){return this.newest_.key_},a.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},a.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},a.prototype.set=function(t,e){r.a.assert(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},a.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e.a=a},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";var i=n(0),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=i.a.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=r},function(t,e,n){"use strict";var i=n(0),r=n(115),o=n.n(r),s=n(1),a=n(12),l=function(t){this.rbush_=o()(t),this.items_={}};l.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[i.a.getUid(e)]=n},l.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[r]=l,this.items_[i.a.getUid(a)]=l}this.rbush_.load(n)},l.prototype.remove=function(t){var e=i.a.getUid(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},l.prototype.update=function(t,e){var n=this.items_[i.a.getUid(e)],r=[n.minX,n.minY,n.maxX,n.maxY];s.a.equals(r,t)||(this.remove(e),this.insert(t,e))},l.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},l.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},l.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},l.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},l.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},l.prototype.isEmpty=function(){return a.a.isEmpty(this.items_)},l.prototype.clear=function(){this.rbush_.clear(),this.items_={}},l.prototype.getExtent=function(t){var e=this.rbush_.data;return s.a.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},l.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]},e.a=l},function(t,e,n){var i=n(41).f,r=n(59),o=n(31)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){var i=n(31)("unscopables"),r=Array.prototype;void 0==r[i]&&n(60)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){"use strict";var i=n(25),r=n(41),o=n(46),s=n(31)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(55);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(26);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var i={linearRing:function(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=s*a-o*l,o=a,s=l}return r/2},linearRings:function(t,e,n,r){var o,s,a=0;for(o=0,s=n.length;o<s;++o){var l=n[o];a+=i.linearRing(t,e,l,r),e=l}return a},linearRingss:function(t,e,n,r){var o,s,a=0;for(o=0,s=n.length;o<s;++o){var l=n[o];a+=i.linearRings(t,e,l,r),e=l[l.length-1]}return a}};e.a=i},function(t,e,n){"use strict";var i={coordinate:function(t,e,n,i){var r,o;for(r=0,o=n.length;r<o;++r)t[e++]=n[r];return e},coordinates:function(t,e,n,i){var r,o;for(r=0,o=n.length;r<o;++r){var s,a=n[r];for(s=0;s<i;++s)t[e++]=a[s]}return e},coordinatess:function(t,e,n,r,o){var s,a,l=o||[],u=0;for(s=0,a=n.length;s<a;++s){var c=i.coordinates(t,e,n[s],r);l[u++]=c,e=c}return l.length=u,l},coordinatesss:function(t,e,n,r,o){var s,a,l=o||[],u=0;for(s=0,a=n.length;s<a;++s){var c=i.coordinatess(t,e,n[s],r,l[u]);l[u++]=c,e=c[c.length-1]}return l.length=u,l}};e.a=i},function(t,e,n){"use strict";var i=n(11),r={lineString:function(t,e,n,i,o,s,a){var l=void 0!==a?a:[];return s||(n=r.radialDistance(t,e,n,i,o,l,0),t=l,e=0,i=2),l.length=r.douglasPeucker(t,e,n,i,o,l,0),l},douglasPeucker:function(t,e,n,r,o,s,a){var l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c,h=[e,n-r],f=0;h.length>0;){var p=h.pop(),d=h.pop(),g=0,v=t[d],m=t[d+1],y=t[p],_=t[p+1];for(c=d+r;c<p;c+=r){var x=t[c],E=t[c+1],b=i.a.squaredSegmentDistance(x,E,v,m,y,_);b>g&&(f=c,g=b)}g>o&&(u[(f-e)/r]=1,d+r<f&&h.push(d,f),f+r<p&&h.push(f,p))}for(c=0;c<l;++c)u[c]&&(s[a++]=t[e+c*r],s[a++]=t[e+c*r+1]);return a},douglasPeuckers:function(t,e,n,i,o,s,a,l){var u,c;for(u=0,c=n.length;u<c;++u){var h=n[u];a=r.douglasPeucker(t,e,h,i,o,s,a),l.push(a),e=h}return a},douglasPeuckerss:function(t,e,n,i,o,s,a,l){var u,c;for(u=0,c=n.length;u<c;++u){var h=n[u],f=[];a=r.douglasPeuckers(t,e,h,i,o,s,a,f),l.push(f),e=h[h.length-1]}return a},radialDistance:function(t,e,n,r,o,s,a){if(n<=e+r){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var l=t[e],u=t[e+1];s[a++]=l,s[a++]=u;var c=l,h=u;for(e+=r;e<n;e+=r)c=t[e],h=t[e+1],i.a.squaredDistance(l,u,c,h)>o&&(s[a++]=c,s[a++]=h,l=c,u=h);return c==l&&h==u||(s[a++]=c,s[a++]=h),a},snap:function(t,e){return e*Math.round(t/e)},quantize:function(t,e,n,i,o,s,a){if(e==n)return a;var l,u,c=r.snap(t[e],o),h=r.snap(t[e+1],o);e+=i,s[a++]=c,s[a++]=h;do{if(l=r.snap(t[e],o),u=r.snap(t[e+1],o),(e+=i)==n)return s[a++]=l,s[a++]=u,a}while(l==c&&u==h);for(;e<n;){var f,p;if(f=r.snap(t[e],o),p=r.snap(t[e+1],o),e+=i,f!=l||p!=u){var d=l-c,g=u-h,v=f-c,m=p-h;d*m==g*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(g<0&&m<g||g==m||g>0&&m>g)?(l=f,u=p):(s[a++]=l,s[a++]=u,c=l,h=u,l=f,u=p)}}return s[a++]=l,s[a++]=u,a},quantizes:function(t,e,n,i,o,s,a,l){var u,c;for(u=0,c=n.length;u<c;++u){var h=n[u];a=r.quantize(t,e,h,i,o,s,a),l.push(a),e=h}return a},quantizess:function(t,e,n,i,o,s,a,l){var u,c;for(u=0,c=n.length;u<c;++u){var h=n[u],f=[];a=r.quantizes(t,e,h,i,o,s,a,f),l.push(f),e=h[h.length-1]}return a}};e.a=r},function(t,e,n){"use strict";t.exports=r;var i=n(407);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],l(r,t.leaf?i(o):o);return r}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function v(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!v(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],v(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):g(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!v(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],v(t,s=e.leaf?n(o):o)){if(e.leaf||g(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,l=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;s||a.leaf||!g(a,l)?i?(n++,a=i.children[n],s=!1):a=null:(u.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=m(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=m([])).leaf=!1,r.height=i;var l,u,c,h,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(y(t,e,n,p,this.compareMinX),l=e;l<=n;l+=p)for(y(t,l,c=Math.min(l+p-1,n),f,this.compareMinY),u=l;u<=c;u+=f)h=Math.min(u+f-1,c),r.children.push(this._build(t,u,h,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,f;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)l=h(s=e.children[r]),(u=p(t,s)-l)<f?(f=u,c=l<c?l:c,a=s):u===f&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),l(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=m(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,l,u,c,f;for(u=c=1/0,i=e;i<=n-e;i++)s=d(r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox)),l=h(r)+h(o),s<u?(u=s,f=i,c=l<c?l:c):s===u&&l<c&&(c=l,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,u=a(t,0,e,s),c=a(t,n-e,n,s),h=f(u)+f(c);for(r=e;r<n-e;r++)o=t.children[r],l(u,t.leaf?s(o):o),h+=f(u);for(r=n-e-1;r>=e;r--)o=t.children[r],l(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)l(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(198),r=n.n(i),o=n(268),s=n.n(o),a=n(35),l=n.n(a),u=n(30),c=n.n(u),h=new(function(){function t(){if(l()(this,t),!t.isSupported())throw new Error("Geolocation is not supported on this platform");this.client=navigator.geolocation,this.config=new Map}return c()(t,null,[{key:"isSupported",value:function(){return"geolocation"in navigator}}]),c()(t,[{key:"locate",value:function(){var t=s()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case 5:return t.abrupt("return",this.updateLocation());case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"updateLocation",value:function(){var t=this;return new Promise(function(e,n){t.client.getCurrentPosition(function(n){var i=history.state||{};Object.assign(i,{lastLocation:{timestamp:n.timestamp,coords:{latitude:n.coords.latitude,longitude:n.coords.longitude}}}),history.replaceState(history.state,"",window.location),t.config.set("enabled",!0),t.config.set("last_location",n),e(n)},function(e){if(e.code!=e.__proto__.PERMISSION_DENIED)throw new Error("Cannot use location services right now");t.config.set("enabled",!1),n(e)},{maximumAge:12e4})})}},{key:"lastLocation",get:function(){return!this.config.has("last_location")&&history.state.lastLocation&&this.config.set("last_location",history.state.lastLocation),this.config.get("last_location")}},{key:"lastUpdate",get:function(){var t=this.lastLocation;return t?t.timestamp:null}},{key:"enabled",get:function(){return this.config.get("enabled")}}]),t}())},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(32),s=n(9),a=function(){o.a.call(this),this.revision_=0};i.a.inherits(a,o.a),a.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)r.a.unlistenByKey(t[e]);else r.a.unlistenByKey(t)},a.prototype.changed=function(){++this.revision_,this.dispatchEvent(s.a.CHANGE)},a.prototype.dispatchEvent,a.prototype.getRevision=function(){return this.revision_},a.prototype.on=function(t,e,n){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),s=0;s<i;++s)o[s]=r.a.listen(this,t[s],e,n);return o}return r.a.listen(this,t,e,n)},a.prototype.once=function(t,e,n){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),s=0;s<i;++s)o[s]=r.a.listenOnce(this,t[s],e,n);return o}return r.a.listenOnce(this,t,e,n)},a.prototype.un=function(t,e,n){if(Array.isArray(t))for(var i=0,o=t.length;i<o;++i)r.a.unlisten(this,t[i],e,n);else r.a.unlisten(this,t,e,n)},e.a=a},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";var i=n(0),r=n(18),o=n(34),s=n(11),a=n(12),l=function(t){r.a.call(this);var e=a.a.assign({},t);e[o.a.OPACITY]=void 0!==t.opacity?t.opacity:1,e[o.a.VISIBLE]=void 0===t.visible||t.visible,e[o.a.Z_INDEX]=void 0!==t.zIndex?t.zIndex:0,e[o.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[o.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0},this.type};i.a.inherits(l,r.a),l.prototype.getType=function(){return this.type},l.prototype.getLayerState=function(){return this.state_.opacity=s.a.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},l.prototype.getLayersArray=function(t){},l.prototype.getLayerStatesArray=function(t){},l.prototype.getExtent=function(){return this.get(o.a.EXTENT)},l.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},l.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},l.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},l.prototype.getSourceState=function(){},l.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},l.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},l.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},l.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},l.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},l.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},l.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},l.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e.a=l},function(t,e,n){"use strict";var i=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.snapToPixel_=t.snapToPixel};i.prototype.getOpacity=function(){return this.opacity_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getSnapToPixel=function(){return this.snapToPixel_},i.prototype.getAnchor=function(){},i.prototype.getImage=function(t){},i.prototype.getHitDetectionImage=function(t){},i.prototype.getImageState=function(){},i.prototype.getImageSize=function(){},i.prototype.getHitDetectionImageSize=function(){},i.prototype.getOrigin=function(){},i.prototype.getSize=function(){},i.prototype.setOpacity=function(t){this.opacity_=t},i.prototype.setRotateWithView=function(t){this.rotateWithView_=t},i.prototype.setRotation=function(t){this.rotation_=t},i.prototype.setScale=function(t){this.scale_=t},i.prototype.setSnapToPixel=function(t){this.snapToPixel_=t},i.prototype.listenImageChange=function(t,e){},i.prototype.load=function(){},i.prototype.unlistenImageChange=function(t,e){},e.a=i},function(t,e,n){"use strict";var i=n(0),r=n(67),o=n(11),s=n(73),a=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};a.prototype.getHTML=function(){return this.html_},a.prototype.intersectsAnyTileRange=function(t,e,n){if(!this.tileRanges_)return!0;var i,a,l,u;for(u in t){var c;if(u in this.tileRanges_)for(l=t[u],i=0,a=this.tileRanges_[u].length;i<a;++i){if((c=this.tileRanges_[u][i]).intersects(l))return!0;var h=e.getTileRangeForExtentAndZ(s.a.extentFromProjection(n),parseInt(u,10)),f=h.getWidth();if(l.minX<h.minX||l.maxX>h.maxX){if(c.intersects(new r.a(o.a.modulo(l.minX,f),o.a.modulo(l.maxX,f),l.minY,l.maxY)))return!0;if(l.getWidth()>f&&c.intersects(h))return!0}}}return!1};var l=a,u=n(18),c=n(20),h=n(54),f=function(t){u.a.call(this),this.projection_=c.a.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:h.a.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX};i.a.inherits(f,u.a),f.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof l)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof l){this.attributions_=t;var e=t.map(function(t){return t.getHTML()});return function(t){return e}}return this.attributions_=t.map(function(t){return new l({html:t})}),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new l({html:t})],function(e){return[t]})},f.prototype.forEachFeatureAtCoordinate=i.a.nullFunction,f.prototype.getAttributions=function(){return this.attributions_},f.prototype.getAttributions2=function(){return this.attributions2_},f.prototype.getLogo=function(){return this.logo_},f.prototype.getProjection=function(){return this.projection_},f.prototype.getResolutions=function(){},f.prototype.getState=function(){return this.state_},f.prototype.getWrapX=function(){return this.wrapX_},f.prototype.refresh=function(){this.changed()},f.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},f.prototype.setLogo=function(t){this.logo_=t},f.prototype.setState=function(t){this.state_=t,this.changed()},e.a=f},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setDate(n.getDate()+r),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t).getTime(),r=Number(e);return new Date(n+r)}},function(t,e,n){var i=n(88),r=n(89);t.exports=function(t){var e=i(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),r(n)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t).getTime(),r=i(e).getTime();return n<r?-1:n>r?1:0}},function(t,e,n){var i=n(79);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},,function(t,e){t.exports={check_schedules:"Kontrollera ppettiderna",choose:"- Vlj -",gallery:{close:"Stng galleriet",show_picture:"Visa bild"},load_more:"Ladda fler resultat",map:"Karta",search:{total:"Skningen gav %d resultat."},status:{closed:"Stngt",open:"ppet",opens_at_time:"ppnar kl. %s",self_service:"Merppet"},tomorrow:"Imorgon"}},function(t,e,n){"use strict";var i=n(0),r=n(83),o=function(t,e,n,i,o){r.a.call(this,t,e,o),this.originalEvent=n,this.pixel=e.getEventPixel(n),this.coordinate=e.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==i&&i};i.a.inherits(o,r.a),o.prototype.preventDefault=function(){r.a.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){r.a.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e.a=o},function(t,e,n){"use strict";var i=n(0),r=n(18),o=n(1),s=n(19),a=n(29),l=n(20),u=n(42),c=n(3),h=function(){r.a.call(this),this.extent_=o.a.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=c.a.create()};i.a.inherits(h,r.a),h.prototype.clone=function(){},h.prototype.closestPointXY=function(t,e,n,i){},h.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},h.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},h.prototype.computeExtent=function(t){},h.prototype.containsXY=s.a.FALSE,h.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),o.a.returnOrUpdate(this.extent_,t)},h.prototype.rotate=function(t,e){},h.prototype.scale=function(t,e,n){},h.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},h.prototype.getSimplifiedGeometry=function(t){},h.prototype.getType=function(){},h.prototype.applyTransform=function(t){},h.prototype.intersectsExtent=function(t){},h.prototype.translate=function(t,e){},h.prototype.transform=function(t,e){var n=this.tmpTransform_,i=(t=l.a.get(t)).getUnits()==u.a.TILE_PIXELS?function(i,r,s){var u=t.getExtent(),h=t.getWorldExtent(),f=o.a.getHeight(h)/o.a.getHeight(u);return c.a.compose(n,h[0],h[3],f,-f,0,0,0),a.a.transform2D(i,0,i.length,s,n,r),l.a.getTransform(t,e)(i,r,s)}:l.a.getTransform(t,e);return this.applyTransform(i),this},e.a=h},function(t,e,n){"use strict";var i=n(0),r=n(58),o=n(33),s=n(15),a=n(2),l=n(9),u=function(t){var e=t||{};this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen";var n=void 0!==e.label?e.label:"";this.labelNode_="string"==typeof n?document.createTextNode(n):n;var i=void 0!==e.labelActive?e.labelActive:"";this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;var s=e.tipLabel?e.tipLabel:"Toggle full-screen",c=document.createElement("button");c.className=this.cssClassName_+"-"+u.isFullScreen(),c.setAttribute("type","button"),c.title=s,c.appendChild(this.labelNode_),a.a.listen(c,l.a.CLICK,this.handleClick_,this);var h=this.cssClassName_+" "+o.a.CLASS_UNSELECTABLE+" "+o.a.CLASS_CONTROL+" "+(u.isFullScreenSupported()?"":o.a.CLASS_UNSUPPORTED),f=document.createElement("div");f.className=h,f.appendChild(c),r.a.call(this,{element:f,target:e.target}),this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source};i.a.inherits(u,r.a),u.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},u.prototype.handleFullScreen_=function(){if(u.isFullScreenSupported()){var t,e=this.getMap();e&&(u.isFullScreen()?u.exitFullScreen():(t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?u.requestFullScreenWithKeys(t):u.requestFullScreen(t)))}},u.prototype.handleFullScreenChange_=function(){var t=this.element.firstElementChild,e=this.getMap();u.isFullScreen()?(t.className=this.cssClassName_+"-true",s.a.replaceNode(this.labelActiveNode_,this.labelNode_)):(t.className=this.cssClassName_+"-false",s.a.replaceNode(this.labelNode_,this.labelActiveNode_)),e&&e.updateSize()},u.prototype.setMap=function(t){r.a.prototype.setMap.call(this,t),t&&this.listenerKeys.push(a.a.listen(document,u.getChangeType_(),this.handleFullScreenChange_,this))},u.isFullScreenSupported=function(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)},u.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},u.requestFullScreen=function(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},u.requestFullScreenWithKeys=function(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):u.requestFullScreen(t)},u.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},u.getChangeType_=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}(),e.a=u},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(1),s=n(37),a=n(7),l=n(57),u=n(112),c=n(11),h={point:function(t,e,n,i,r,o,s){var a,l,u=t[e],h=t[e+1],f=t[n]-u,p=t[n+1]-h;if(0===f&&0===p)l=e;else{var d=((r-u)*f+(o-h)*p)/(f*f+p*p);if(d>1)l=n;else{if(d>0){for(a=0;a<i;++a)s[a]=c.a.lerp(t[e+a],t[n+a],d);return void(s.length=i)}l=e}}for(a=0;a<i;++a)s[a]=t[l+a];s.length=i},getMaxSquaredDelta:function(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],l=t[e+1],u=c.a.squaredDistance(o,s,a,l);u>r&&(r=u),o=a,s=l}return r},getsMaxSquaredDelta:function(t,e,n,i,r){var o,s;for(o=0,s=n.length;o<s;++o){var a=n[o];r=h.getMaxSquaredDelta(t,e,a,i,r),e=a}return r},getssMaxSquaredDelta:function(t,e,n,i,r){var o,s;for(o=0,s=n.length;o<s;++o){var a=n[o];r=h.getsMaxSquaredDelta(t,e,a,i,r),e=a[a.length-1]}return r},getClosestPoint:function(t,e,n,i,r,o,s,a,l,u,f){if(e==n)return u;var p,d;if(0===r){if((d=c.a.squaredDistance(s,a,t[e],t[e+1]))<u){for(p=0;p<i;++p)l[p]=t[e+p];return l.length=i,d}return u}for(var g=f||[NaN,NaN],v=e+i;v<n;)if(h.point(t,v-i,v,i,s,a,g),(d=c.a.squaredDistance(s,a,g[0],g[1]))<u){for(u=d,p=0;p<i;++p)l[p]=g[p];l.length=i,v+=i}else v+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/r|0,1);if(o&&(h.point(t,n-i,e,i,s,a,g),(d=c.a.squaredDistance(s,a,g[0],g[1]))<u)){for(u=d,p=0;p<i;++p)l[p]=g[p];l.length=i}return u},getsClosestPoint:function(t,e,n,i,r,o,s,a,l,u,c){var f,p,d=c||[NaN,NaN];for(f=0,p=n.length;f<p;++f){var g=n[f];u=h.getClosestPoint(t,e,g,i,r,o,s,a,l,u,d),e=g}return u},getssClosestPoint:function(t,e,n,i,r,o,s,a,l,u,c){var f,p,d=c||[NaN,NaN];for(f=0,p=n.length;f<p;++f){var g=n[f];u=h.getsClosestPoint(t,e,g,i,r,o,s,a,l,u,d),e=g[g.length-1]}return u}},f=h,p=n(113),d=n(86),g=n(114),v=function(t,e){l.a.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};i.a.inherits(v,l.a),v.prototype.clone=function(){var t=new v(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},v.prototype.closestPointXY=function(t,e,n,i){return i<o.a.closestSquaredDistanceXY(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},v.prototype.getArea=function(){return u.a.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},v.prototype.getCoordinates=function(){return d.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},v.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=g.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new v(null);return n.setFlatCoordinates(s.a.XY,e),n},v.prototype.getType=function(){return a.a.LINEAR_RING},v.prototype.intersectsExtent=function(t){},v.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=p.a.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(s.a.XY,null)},v.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};var m=v,y=n(152),_=n(63),x={linearRings:function(t,e,n,i,o,s,a){for(var l,u,c,h,f,p,d,g=o[s+1],v=[],m=0,y=n.length;m<y;++m){var x=n[m];for(h=t[x-i],p=t[x-i+1],l=e;l<x;l+=i)f=t[l],d=t[l+1],(g<=p&&d<=g||p<=g&&g<=d)&&(c=(g-p)/(d-p)*(f-h)+h,v.push(c)),h=f,p=d}var E=NaN,b=-1/0;for(v.sort(r.a.numberSafeCompareFunction),h=v[0],l=1,u=v.length;l<u;++l){f=v[l];var T=Math.abs(f-h);T>b&&(c=(h+f)/2,_.a.linearRingsContainsXY(t,e,n,i,c,g)&&(E=c,b=T)),h=f}return isNaN(E)&&(E=o[s]),a?(a.push(E,g,b),a):[E,g,b]},linearRingss:function(t,e,n,i,r){var o,s,a=[];for(o=0,s=n.length;o<s;++o){var l=n[o];a=x.linearRings(t,e,l,i,r,2*o,a),e=l[l.length-1]}return a}},E=x,b={forEach:function(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],s=r.call(o,a,l))return s;a[0]=l[0],a[1]=l[1]}return!1}},T={lineString:function(t,e,n,i,r){var s=o.a.extendFlatCoordinates(o.a.createEmpty(),t,e,n,i);return!!o.a.intersects(r,s)&&(!!o.a.containsExtent(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]||b.forEach(t,e,n,i,function(t,e){return o.a.intersectsSegment(r,t,e)}))},lineStrings:function(t,e,n,i,r){var o,s;for(o=0,s=n.length;o<s;++o){if(T.lineString(t,e,n[o],i,r))return!0;e=n[o]}return!1},linearRing:function(t,e,n,i,r){return!!(T.lineString(t,e,n,i,r)||_.a.linearRingContainsXY(t,e,n,i,r[0],r[1])||_.a.linearRingContainsXY(t,e,n,i,r[0],r[3])||_.a.linearRingContainsXY(t,e,n,i,r[2],r[1])||_.a.linearRingContainsXY(t,e,n,i,r[2],r[3]))},linearRings:function(t,e,n,i,r){if(!T.linearRing(t,e,n[0],i,r))return!1;if(1===n.length)return!0;var o,s;for(o=1,s=n.length;o<s;++o)if(_.a.linearRingContainsExtent(t,n[o-1],n[o],i,r))return!1;return!0},linearRingss:function(t,e,n,i,r){var o,s;for(o=0,s=n.length;o<s;++o){var a=n[o];if(T.linearRings(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}},w=T,S=n(75),C=function(t,e){l.a.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};i.a.inherits(C,l.a),C.prototype.appendLinearRing=function(t){this.flatCoordinates?r.a.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},C.prototype.clone=function(){var t=new C(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},C.prototype.closestPointXY=function(t,e,n,i){return i<o.a.closestSquaredDistanceXY(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},C.prototype.containsXY=function(t,e){return _.a.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},C.prototype.getArea=function(){return u.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},C.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),S.a.orientLinearRings(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,d.a.coordinatess(e,0,this.ends_,this.stride)},C.prototype.getEnds=function(){return this.ends_},C.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=o.a.getCenter(this.getExtent());this.flatInteriorPoint_=E.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},C.prototype.getInteriorPoint=function(){return new y.a(this.getFlatInteriorPoint(),s.a.XYM)},C.prototype.getLinearRingCount=function(){return this.ends_.length},C.prototype.getLinearRing=function(t){if(t<0||this.ends_.length<=t)return null;var e=new m(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},C.prototype.getLinearRings=function(){var t,e,n=this.layout,i=this.flatCoordinates,r=this.ends_,o=[],s=0;for(t=0,e=r.length;t<e;++t){var a=r[t],l=new m(null);l.setFlatCoordinates(n,i.slice(s,a)),o.push(l),s=a}return o},C.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;S.a.linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=S.a.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},C.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=g.a.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n);var i=new C(null);return i.setFlatCoordinates(s.a.XY,e,n),i},C.prototype.getType=function(){return a.a.POLYGON},C.prototype.intersectsExtent=function(t){return w.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},C.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=p.a.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(s.a.XY,null,this.ends_)},C.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},C.circular=function(t,e,n,i){var o,a=i||32,l=[];for(o=0;o<a;++o)r.a.extend(l,t.offset(e,n,2*Math.PI*o/a));l.push(l[0],l[1]);var u=new C(null);return u.setFlatCoordinates(s.a.XY,l,[l.length]),u},C.fromExtent=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n],a=new C(null);return a.setFlatCoordinates(s.a.XY,o,[o.length]),a},C.fromCircle=function(t,e,n){for(var i=e||32,r=t.getStride(),o=t.getLayout(),s=new C(null,o),a=r*(i+1),l=new Array(a),u=0;u<a;u++)l[u]=0;var c=[l.length];return s.setFlatCoordinates(o,l,c),C.makeRegular(s,t.getCenter(),t.getRadius(),n),s},C.makeRegular=function(t,e,n,i){for(var r,o,s=t.getFlatCoordinates(),a=t.getLayout(),l=t.getStride(),u=t.getEnds(),h=s.length/l-1,f=i||0,p=0;p<=h;++p)o=p*l,r=f+2*c.a.modulo(p,h)*Math.PI/h,s[o]=e[0]+n*Math.cos(r),s[o+1]=e[1]+n*Math.sin(r);t.setFlatCoordinates(a,s,u)},e.a=C},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=i(t),o=r.getDay(),s=(o<n?7:0)+o-n;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r}},function(t,e,n){var i=n(90);t.exports=function(t,e){var n=i(t),r=i(e),o=n.getTime()-6e4*n.getTimezoneOffset(),s=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((o-s)/864e5)}},function(t,e,n){var i=n(6),r=n(160);t.exports=function(t,e){var n=i(t),o=Number(e),s=n.getMonth()+o,a=new Date(0);a.setFullYear(n.getFullYear(),s,1),a.setHours(0,0,0,0);var l=r(a);return n.setMonth(s,Math.min(l,n.getDate())),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()-r.getTime()}},function(t,e,n){var i=n(61),r=n(48),o=n(95);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(79),r=n(31)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(5),r=n(80),o=n(23),s=n(177),a="["+s+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(t,e,n){var r={},a=o(function(){return!!s[t]()||""!=""[t]()}),l=r[t]=a?e(h):s[t];n&&(r[n]=l),i(i.P+i.F*a,"String",r)},h=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=c},function(t,e,n){var i=n(31)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(60),r=n(55),o=n(23),s=n(80),a=n(31);t.exports=function(t,e,n){var l=a(t),u=n(s,l,""[t]),c=u[0],h=u[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){var i=n(77),r=n(251),o=n(186),s=n(28),a=n(48),l=n(188),u={},c={};(e=t.exports=function(t,e,n,h,f){var p,d,g,v,m=f?function(){return t}:l(t),y=i(n,h,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>_;_++)if((v=e?y(s(d=t[_])[0],d[1]):y(t[_]))===u||v===c)return v}else for(g=m.call(t);!(d=g.next()).done;)if((v=r(g,y,d.value,e))===u||v===c)return v}).BREAK=u,e.RETURN=c},function(t,e,n){var i=n(28),r=n(78),o=n(31)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i=n(25).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(25),r=n(5),o=n(55),s=n(110),a=n(85),l=n(145),u=n(109),c=n(26),h=n(23),f=n(143),p=n(105),d=n(178);t.exports=function(t,e,n,g,v,m){var y=i[t],_=y,x=v?"set":"add",E=_&&_.prototype,b={},T=function(t){var e=E[t];o(E,t,"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(m||E.forEach&&!h(function(){(new _).entries().next()}))){var w=new _,S=w[x](m?{}:-0,1)!=w,C=h(function(){w.has(1)}),I=f(function(t){new _(t)}),R=!m&&h(function(){for(var t=new _,e=5;e--;)t[x](e,e);return!t.has(-0)});I||((_=e(function(e,n){u(e,_,t);var i=d(new y,e,_);return void 0!=n&&l(n,v,i[x],i),i})).prototype=E,E.constructor=_),(C||R)&&(T("delete"),T("has"),v&&T("get")),(R||S)&&T(x),m&&E.clear&&delete E.clear}else _=g.getConstructor(e,t,v,x),s(_.prototype,n),a.NEED=!0;return p(_,t),b[t]=_,r(r.G+r.W+r.F*(_!=y),b),m||g.setStrong(_,t,v),_}},function(t,e,n){for(var i,r=n(25),o=n(60),s=n(92),a=s("typed_array"),l=s("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[f[h++]])?(o(i.prototype,a,!0),o(i.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return b});var i=n(35),r=n.n(i),o=n(30),s=n.n(o),a=n(273),l=n(157),u=n(275),c=(n(156),n(269)),h=n(20),f=n(132),p=n(154),d=n(153),g=n(270),v=n(152),m=n(87),y=n(200),_=n(274),x=n(271),E=n(1),b=(n(197),function(t){function e(t){var e=Math.round(1e4*t[0])/1e4,n=Math.round(1e4*t[1])/1e4;return e&&n?h.a.transform([e,n],"EPSG:4326","EPSG:3857"):null}return function(){function n(t,e){r()(this,n),this._element=t,this._config=e}return s()(n,null,[{key:"openMap",value:function(t){var e=Math.ceil(9e3*Math.random()+999),i=document.createElement("div");i.className="map-view map-popup",i.id="map-view-"+e;var r=document.createElement("div");r.className="map-hide-container",r.id="map-hide-container-"+e,r.appendChild(i),document.body.appendChild(r);var o=new n(i,t);return o.show(),o}}]),s()(n,[{key:"show",value:function(){var n=this._config.controls||[new p.a,new f.a,new d.a],i=new a.a({target:this._element,controls:n,layers:[new u.a({source:new c.a({layer:"sat"})})],view:new l.a({center:e(this.initialPosition),zoom:Math.min(15,18),maxZoom:18})});this._config.fullscreen&&t(this._element).find(".ol-full-screen-false").trigger("click"),this._map=i;var r=[{coords:this.initialPosition}];this._config.userLocation&&r.push({coords:this._config.userLocation,role:"user"}),this.addPins(r)}},{key:"addPins",value:function(t,n){var i=new Array(t.length),r=t.map(function(t,n){var r=t.role||"library",o=e(t.coords),s=new g.a({geometry:new v.a(o),name:r});switch(i[n]=o,r){case"library":s.setStyle(new m.a({image:new y.a({anchor:[24,48],anchorXUnits:"pixels",anchorYUnits:"pixels",src:"/images/icons/map-marker-2-48.png"})}));break;case"user":s.setStyle(new m.a({image:new y.a({anchor:[16,32],anchorXUnits:"pixels",anchorYUnits:"pixels",src:"/images/marker-circle-small.png"})}))}return s}),o=new _.a({features:r}),s=new x.a({source:o});if(this._map.addLayer(s),t.length>1){var a=E.a.boundingExtent(i);this._map.getView().fit(a)}}},{key:"initialPosition",get:function(){return this._config.pos||[]}}]),n}()}(t))}).call(this,n(52))},function(t,e,n){"use strict";var i=n(0),r=function(t){var e=i.a.VERSION?i.a.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};i.a.inherits(r,Error),e.a=r},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(37),s=n(7),a=n(57),l=n(113),u=n(11),c=function(t,e){a.a.call(this),this.setCoordinates(t,e)};i.a.inherits(c,a.a),c.prototype.clone=function(){var t=new c(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},c.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=u.a.squaredDistance(t,e,r[0],r[1]);if(o<i){var s,a=this.stride;for(s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i},c.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},c.prototype.computeExtent=function(t){return r.a.createOrUpdateFromCoordinate(this.flatCoordinates,t)},c.prototype.getType=function(){return s.a.POINT},c.prototype.intersectsExtent=function(t){return r.a.containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},c.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l.a.coordinate(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(o.a.XY,null)},c.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()},e.a=c},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(58),s=n(33),a=n(15),l=n(2),u=n(9),c=n(44),h=n(12),f=function(t){var e=t||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.collapseLabel?e.collapseLabel:"";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;var a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=i,h.appendChild(c),l.a.listen(h,u.a.CLICK,this.handleClick_,this);var p=n+" "+s.a.CLASS_UNSELECTABLE+" "+s.a.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),d=document.createElement("div");d.className=p,d.appendChild(this.ulElement_),d.appendChild(h);var g=e.render?e.render:f.render;o.a.call(this,{element:d,render:g,target:e.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}};i.a.inherits(f,o.a),f.prototype.getSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(c.a.visibleAtResolution(a,r)){var l=a.layer.getSource();if(l){var u=l.getAttributions2();if(u){var h=u(t);if(h)if(Array.isArray(h))for(var f=0,p=h.length;f<p;++f)h[f]in e||(n.push(h[f]),e[h[f]]=!0);else h in e||(n.push(h),e[h]=!0)}}}}return n},f.render=function(t){this.updateElement_(t.frameState)},f.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t);if(!r.a.equals(e,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var n=0,i=e.length;n<i;++n){var o=document.createElement("LI");o.innerHTML=e[n],this.ulElement_.appendChild(o)}0===e.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&e.length>0&&this.element.classList.remove("ol-logo-only");var s=e.length>0||!h.a.isEmpty(t.logos);this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),this.renderedAttributions_=e,this.insertLogos_(t)}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},f.prototype.insertLogos_=function(t){var e,n,i,r,o=t.logos,s=this.logoElements_;for(e in s)e in o||(a.a.removeNode(s[e]),delete s[e]);for(r in o){var l=o[r];l instanceof HTMLElement&&(this.logoLi_.appendChild(l),s[r]=l),r in s||((n=new Image).src=r,""===l?i=n:((i=document.createElement("a")).href=l,i.appendChild(n)),this.logoLi_.appendChild(i),s[r]=i)}this.logoLi_.style.display=h.a.isEmpty(o)?"none":""},f.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},f.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?a.a.replaceNode(this.collapseLabel_,this.label_):a.a.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},f.prototype.getCollapsible=function(){return this.collapsible_},f.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},f.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},f.prototype.getCollapsed=function(){return this.collapsed_},e.a=f},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(9),s=n(58),a=n(33),l=n(39),u=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,l=void 0!==e.zoomInLabel?e.zoomInLabel:"+",c=void 0!==e.zoomOutLabel?e.zoomOutLabel:"",h=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",f=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=n+"-in",p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),r.a.listen(p,o.a.CLICK,u.prototype.handleClick_.bind(this,i));var d=document.createElement("button");d.className=n+"-out",d.setAttribute("type","button"),d.title=f,d.appendChild("string"==typeof c?document.createTextNode(c):c),r.a.listen(d,o.a.CLICK,u.prototype.handleClick_.bind(this,-i));var g=n+" "+a.a.CLASS_UNSELECTABLE+" "+a.a.CLASS_CONTROL,v=document.createElement("div");v.className=g,v.appendChild(p),v.appendChild(d),s.a.call(this,{element:v,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250};i.a.inherits(u,s.a),u.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},u.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:l.a.easeOut})):e.setResolution(i)}}},e.a=u},function(t,e,n){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(39),s=n(32),a=n(9),l=function(t,e,n){s.a.call(this);var i=n||{};this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={}};i.a.inherits(l,s.a),l.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},l.prototype.getKey=function(){return this.key+"/"+this.tileCoord},l.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.a.LOADED)return t;t=t.interimTile}while(t);return this},l.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.a.LOADED){t.interimTile=null;break}t.getState()==r.a.LOADING?e=t:t.getState()==r.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},l.prototype.getTileCoord=function(){return this.tileCoord},l.prototype.getState=function(){return this.state},l.prototype.setState=function(t){this.state=t,this.changed()},l.prototype.load=function(){},l.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:o.a.easeIn(i/this.transition_)},l.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},l.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)};var u=l,c=n(15),h=n(2),f=function(t,e,n,i,r,o){u.call(this,t,e,o),this.crossOrigin_=i,this.src_=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.imageListenerKeys_=null,this.tileLoadFunction_=r};i.a.inherits(f,u),f.prototype.disposeInternal=function(){this.state==r.a.LOADING&&(this.unlistenImage_(),this.image_=f.getBlankImage()),this.interimTile&&this.interimTile.dispose(),this.state=r.a.ABORT,this.changed(),u.prototype.disposeInternal.call(this)},f.prototype.getImage=function(){return this.image_},f.prototype.getKey=function(){return this.src_},f.prototype.handleImageError_=function(){this.state=r.a.ERROR,this.unlistenImage_(),this.image_=f.getBlankImage(),this.changed()},f.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=r.a.LOADED:this.state=r.a.EMPTY,this.unlistenImage_(),this.changed()},f.prototype.load=function(){this.state==r.a.ERROR&&(this.state=r.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==r.a.IDLE&&(this.state=r.a.LOADING,this.changed(),this.imageListenerKeys_=[h.a.listenOnce(this.image_,a.a.ERROR,this.handleImageError_,this),h.a.listenOnce(this.image_,a.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},f.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.a.unlistenByKey),this.imageListenerKeys_=null},f.getBlankImage=function(){var t=c.a.createCanvasContext2D(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas};var p=f,d=n(101),g=n(51),v=function(t){d.a.call(this,t)};i.a.inherits(v,d.a),v.prototype.expireCache=function(t){for(var e,n;this.canExpireCache()&&!((n=(e=this.peekLast()).tileCoord[0].toString())in t&&t[n].contains(e.tileCoord));)this.pop().dispose()},v.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=g.a.fromKey(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(g.a.getKey(t.tileCoord)),t.dispose())},this)}};var m=v,y=n(20),_=n(1),x=n(11),E={calculateSourceResolution:function(t,e,n,i){var r=y.a.transform(n,e,t),o=y.a.getPointResolution(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var l=t.getExtent();if(!l||_.a.containsCoordinate(l,r)){var u=y.a.getPointResolution(t,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o},enlargeClipPoint_:function(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]},render:function(t,e,n,i,r,o,s,a,l,u,h){var f=c.a.createCanvasContext2D(Math.round(n*t),Math.round(n*e));if(0===l.length)return f.canvas;f.scale(n,n);var p=_.a.createEmpty();l.forEach(function(t,e,n){_.a.extend(p,t.extent)});var d=_.a.getWidth(p),g=_.a.getHeight(p),v=c.a.createCanvasContext2D(Math.round(n*d/i),Math.round(n*g/i)),m=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=_.a.getWidth(t.extent),s=_.a.getHeight(t.extent);v.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*m,r*m,o*m,s*m)});var y=_.a.getTopLeft(s);return a.getTriangles().forEach(function(t,e,r){var s=t.source,a=t.target,l=s[0][0],u=s[0][1],c=s[1][0],h=s[1][1],d=s[2][0],g=s[2][1],m=(a[0][0]-y[0])/o,_=-(a[0][1]-y[1])/o,b=(a[1][0]-y[0])/o,T=-(a[1][1]-y[1])/o,w=(a[2][0]-y[0])/o,S=-(a[2][1]-y[1])/o,C=l,I=u;l=0,u=0;var R=[[c-=C,h-=I,0,0,b-m],[d-=C,g-=I,0,0,w-m],[0,0,c,h,T-_],[0,0,d,g,S-_]],A=x.a.solveLinearSystem(R);if(A){f.save(),f.beginPath();var L=(m+b+w)/3,k=(_+T+S)/3,O=E.enlargeClipPoint_(L,k,m,_),D=E.enlargeClipPoint_(L,k,b,T),P=E.enlargeClipPoint_(L,k,w,S);f.moveTo(D[0],D[1]),f.lineTo(O[0],O[1]),f.lineTo(P[0],P[1]),f.clip(),f.transform(A[0],A[2],A[1],A[3],m,_),f.translate(p[0]-C,p[3]-I),f.scale(i/n,-i/n),f.drawImage(v.canvas,0,0),f.restore()}}),h&&(f.save(),f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-y[0])/o,s=-(i[0][1]-y[1])/o,a=(i[1][0]-y[0])/o,l=-(i[1][1]-y[1])/o,u=(i[2][0]-y[0])/o,c=-(i[2][1]-y[1])/o;f.beginPath(),f.moveTo(a,l),f.lineTo(r,s),f.lineTo(u,c),f.closePath(),f.stroke()}),f.restore()),f.canvas}},b=E,T=function(t,e,n,r,o){this.sourceProj_=t,this.targetProj_=e;var s={},a=y.a.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&_.a.getWidth(r)==_.a.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?_.a.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?_.a.getWidth(this.targetProj_.getExtent()):null;var l=_.a.getTopLeft(n),u=_.a.getTopRight(n),c=_.a.getBottomRight(n),h=_.a.getBottomLeft(n),f=this.transformInv_(l),p=this.transformInv_(u),d=this.transformInv_(c),g=this.transformInv_(h);if(this.addQuad_(l,u,c,h,f,p,d,g,i.a.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach(function(t,e,n){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}},this)}s={}};T.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},T.prototype.addQuad_=function(t,e,n,r,o,s,a,l,u){var c=_.a.boundingExtent([o,s,a,l]),h=this.sourceWorldWidth_?_.a.getWidth(c)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,d=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=_.a.boundingExtent([t,e,n,r]);d|=_.a.getWidth(g)/this.targetWorldWidth_>i.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!p&&this.sourceProj_.isGlobal()&&h&&(d|=h>i.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(d||!this.maxSourceExtent_||_.a.intersects(c,this.maxSourceExtent_)){if(!(d||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;d=!0}if(u>0){if(!d){var v,m=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(m);v=p?(x.a.modulo(o[0],f)+x.a.modulo(a[0],f))/2-x.a.modulo(y[0],f):(o[0]+a[0])/2-y[0];var E=(o[1]+a[1])/2-y[1];d=v*v+E*E>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var b=[(e[0]+n[0])/2,(e[1]+n[1])/2],T=this.transformInv_(b),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],S=this.transformInv_(w);this.addQuad_(t,e,b,w,o,s,T,S,u-1),this.addQuad_(w,b,n,r,S,T,a,l,u-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],I=this.transformInv_(C),R=[(n[0]+r[0])/2,(n[1]+r[1])/2],A=this.transformInv_(R);this.addQuad_(t,C,R,r,o,I,A,l,u-1),this.addQuad_(C,e,n,R,I,s,a,A,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,o,a,l),this.addTriangle_(t,e,n,o,s,a)}},T.prototype.calculateSourceExtent=function(){var t=_.a.createEmpty();return this.triangles_.forEach(function(e,n,i){var r=e.source;_.a.extendCoordinate(t,r[0]),_.a.extendCoordinate(t,r[1]),_.a.extendCoordinate(t,r[2])}),t},T.prototype.getTriangles=function(){return this.triangles_};var w=T,S=function(t,e,n,o,s,a,l,c,h,f,p){u.call(this,s,r.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=o,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=o.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),v=this.sourceTileGrid_.getExtent(),m=g?_.a.getIntersection(d,g):d;if(0!==_.a.getArea(m)){var y=t.getExtent();y&&(v=v?_.a.getIntersection(v,y):y);var E=o.getResolution(this.wrappedTileCoord_[0]),T=_.a.getCenter(m),S=b.calculateSourceResolution(t,n,T,E);if(!isFinite(S)||S<=0)this.state=r.a.EMPTY;else{var C=void 0!==f?f:i.a.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;if(this.triangulation_=new w(t,n,m,v,S*C),0!==this.triangulation_.getTriangles().length){this.sourceZ_=e.getZForResolution(S);var I=this.triangulation_.calculateSourceExtent();if(v&&(t.canWrapX()?(I[1]=x.a.clamp(I[1],v[1],v[3]),I[3]=x.a.clamp(I[3],v[1],v[3])):I=_.a.getIntersection(I,v)),_.a.getArea(I)){for(var R=e.getTileRangeForExtentAndZ(I,this.sourceZ_),A=R.minX;A<=R.maxX;A++)for(var L=R.minY;L<=R.maxY;L++){var k=h(this.sourceZ_,A,L,l);k&&this.sourceTiles_.push(k)}0===this.sourceTiles_.length&&(this.state=r.a.EMPTY)}else this.state=r.a.EMPTY}else this.state=r.a.EMPTY}}else this.state=r.a.EMPTY};i.a.inherits(S,u),S.prototype.disposeInternal=function(){this.state==r.a.LOADING&&this.unlistenSources_(),u.prototype.disposeInternal.call(this)},S.prototype.getImage=function(){return this.canvas_},S.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==r.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})},this),this.sourceTiles_.length=0,0===t.length)this.state=r.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=b.render(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=r.a.LOADED}this.changed()},S.prototype.load=function(){if(this.state==r.a.IDLE){this.state=r.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var o,s=e.getState();s!=r.a.IDLE&&s!=r.a.LOADING||(t++,o=h.a.listen(e,a.a.CHANGE,function(n){var i=e.getState();i!=r.a.LOADED&&i!=r.a.ERROR&&i!=r.a.EMPTY||(h.a.unlistenByKey(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(o))},this),this.sourceTiles_.forEach(function(t,e,n){t.getState()==r.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},S.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.a.unlistenByKey),this.sourcesListenerKeys_=null};var C=S,I=n(13),R={createFromTemplate:function(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=s[0],n=e.getFullTileRange(t);return I.a.assert(n,55),(n.getHeight()+s[2]).toString()}):void 0}},createFromTemplates:function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=R.createFromTemplate(t[r],e);return R.createFromTileUrlFunctions(i)},createFromTileUrlFunctions:function(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=g.a.hash(e),o=x.a.modulo(r,t.length);return t[o](e,n,i)}}},nullTileUrlFunction:function(t,e,n){},expandUrl:function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}},A=R,L=n(27),k=n(53),O=n(121),D=n(73),P=function(t){O.a.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new m(t.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:t.transition}};i.a.inherits(P,O.a),P.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},P.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},P.prototype.forEachLoadedTile=function(t,e,n,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var s,a,l,u=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)a=g.a.getKeyZXY(e,c,h),l=!1,o.containsKey(a)&&(l=(s=o.get(a)).getState()===r.a.LOADED)&&(l=!1!==i(s)),l||(u=!1);return u},P.prototype.getGutter=function(t){return 0},P.prototype.getKey=function(){return this.key_},P.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},P.prototype.getOpaque=function(t){return this.opaque_},P.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},P.prototype.getTile=function(t,e,n,i,r){},P.prototype.getTileGrid=function(){return this.tileGrid},P.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:D.a.getForProjection(t)},P.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!y.a.equivalent(e,t)?null:this.tileCache},P.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},P.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=k.a.toSize(i.getTileSize(t),this.tmpSize);return 1==r?o:k.a.scale(o,r,this.tmpSize)},P.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=D.a.wrapX(i,t,n)),g.a.withinExtentAndZ(t,i)?t:null},P.prototype.refresh=function(){this.tileCache.clear(),this.changed()},P.prototype.useTile=i.a.nullFunction,P.Event=function(t,e){L.a.call(this,t),this.tile=e},i.a.inherits(P.Event,L.a);var M=P,N="tileloadstart",F="tileloadend",j="tileloaderror",U=function(t){M.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):A.nullTileUrlFunction,this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),t.tileUrlFunction&&this.setTileUrlFunction(t.tileUrlFunction),this.tileLoadingKeys_={}};i.a.inherits(U,M),U.prototype.fixedTileUrlFunction,U.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},U.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},U.prototype.getUrls=function(){return this.urls},U.prototype.handleTileChange=function(t){var e,n=t.target,o=i.a.getUid(n),s=n.getState();s==r.a.LOADING?(this.tileLoadingKeys_[o]=!0,e=N):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=s==r.a.ERROR?j:s==r.a.LOADED||s==r.a.ABORT?F:void 0),void 0!=e&&this.dispatchEvent(new M.Event(e,n))},U.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},U.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},U.prototype.setUrl=function(t){var e=this.urls=A.expandUrl(t);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):A.createFromTemplates(e,this.tileGrid),t)},U.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):A.createFromTemplates(t,this.tileGrid),e)},U.prototype.useTile=function(t,e,n){var i=g.a.getKeyZXY(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)};var G=U,B=function(t){G.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:B.defaultTileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1};i.a.inherits(B,G),B.prototype.canExpireCache=function(){if(!i.a.ENABLE_RASTER_REPROJECTION)return G.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},B.prototype.expireCache=function(t,e){if(i.a.ENABLE_RASTER_REPROJECTION){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[r];o.expireCache(o==n?e:{})}}else G.prototype.expireCache.call(this,t,e)},B.prototype.getGutter=function(t){return i.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!y.a.equivalent(this.getProjection(),t)?0:this.getGutterInternal()},B.prototype.getGutterInternal=function(){return 0},B.prototype.getOpaque=function(t){return!(i.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!y.a.equivalent(this.getProjection(),t))&&G.prototype.getOpaque.call(this,t)},B.prototype.getTileGridForProjection=function(t){if(!i.a.ENABLE_RASTER_REPROJECTION)return G.prototype.getTileGridForProjection.call(this,t);var e=this.getProjection();if(!this.tileGrid||e&&!y.a.equivalent(e,t)){var n=i.a.getUid(t).toString();return n in this.tileGridForProjection||(this.tileGridForProjection[n]=D.a.getForProjection(t)),this.tileGridForProjection[n]}return this.tileGrid},B.prototype.getTileCacheForProjection=function(t){if(!i.a.ENABLE_RASTER_REPROJECTION)return G.prototype.getTileCacheForProjection.call(this,t);var e=this.getProjection();if(!e||y.a.equivalent(e,t))return this.tileCache;var n=i.a.getUid(t).toString();return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new m(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},B.prototype.createTile_=function(t,e,n,i,o,s){var l=[t,e,n],u=this.getTileCoordForTileUrlFunction(l,o),c=u?this.tileUrlFunction(u,i,o):void 0,f=new this.tileClass(l,void 0!==c?r.a.IDLE:r.a.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,h.a.listen(f,a.a.CHANGE,this.handleTileChange,this),f},B.prototype.getTile=function(t,e,n,r,o){var s=this.getProjection();if(i.a.ENABLE_RASTER_REPROJECTION&&s&&o&&!y.a.equivalent(s,o)){var a,l=this.getTileCacheForProjection(o),u=[t,e,n],c=g.a.getKey(u);l.containsKey(c)&&(a=l.get(c));var h=this.getKey();if(a&&a.key==h)return a;var f=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(u,o),v=new C(s,f,o,p,u,d,this.getTilePixelRatio(r),this.getGutterInternal(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return v.key=h,a?(v.interimTile=a,v.refreshInterimChain(),l.replace(c,v)):l.set(c,v),v}return this.getTileInternal(t,e,n,r,s||o)},B.prototype.getTileInternal=function(t,e,n,i,o){var s=null,a=g.a.getKeyZXY(t,e,n),l=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=l){var u=s;s=this.createTile_(t,e,n,i,o,l),u.getState()==r.a.IDLE?s.interimTile=u.interimTile:s.interimTile=u,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,n,i,o,l),this.tileCache.set(a,s);return s},B.prototype.setRenderReprojectionEdges=function(t){if(i.a.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},B.prototype.setTileGridForProjection=function(t,e){if(i.a.ENABLE_RASTER_REPROJECTION){var n=y.a.get(t);if(n){var r=i.a.getUid(n).toString();r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},B.defaultTileLoadFunction=function(t,e){t.getImage().src=e};var W=B,H=function(t){var e=t||{},n=void 0!==e.projection?e.projection:"EPSG:3857",i=void 0!==e.tileGrid?e.tileGrid:D.a.createXYZ({extent:D.a.extentFromProjection(n),maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});W.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})};i.a.inherits(H,W),e.a=H},function(t,e,n){"use strict";var i=n(0),r=n(11),o={createExtent:function(t){return function(e){return e?[r.a.clamp(e[0],t[0],t[2]),r.a.clamp(e[1],t[1],t[3])]:void 0}},none:function(t){return t}},s=n(18),a=n(14),l={createSnapToResolutions:function(t){return function(e,n,i){if(void 0!==e){var o=a.a.linearFindNearest(t,e,i);o=r.a.clamp(o+n,0,t.length-1);var s=Math.floor(o);if(o!=s&&s<t.length-1){var l=t[s]/t[s+1];return t[s]/Math.pow(l,o-s)}return t[s]}}},createSnapToPower:function(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),l=Math.max(a+r,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}},u=n(74),c=n(17),h="center",f="resolution",p="rotation",d=n(13),g=n(64),v=n(39),m=n(1),y=n(7),_=n(133),x=n(57),E=n(12),b=n(20),T=n(42),w=function(t){s.a.call(this);var e=E.a.assign({},t);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=b.a.createProjection(e.projection,"EPSG:3857"),this.applyOptions_(e)};i.a.inherits(w,s.a),w.prototype.applyOptions_=function(t){var e={};e[h]=void 0!==t.center?t.center:null;var n=w.createResolutionConstraint_(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=w.createCenterConstraint_(t),o=n.constraint,s=w.createRotationConstraint_(t);this.constraints_={center:i,resolution:o,rotation:s},void 0!==t.resolution?e[f]=t.resolution:void 0!==t.zoom&&(e[f]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[f]=r.a.clamp(Number(this.getResolution()||e[f]),this.minResolution_,this.maxResolution_))),e[p]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},w.prototype.getUpdatedOptions_=function(t){var e=E.a.assign({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),E.a.assign({},e,t)},w.prototype.animate=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenter(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&e(!0))}for(var o=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),l=this.getRotation(),u=[],h=0;h<n;++h){var f=arguments[h],p={start:o,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||v.a.inAndOut};if(f.center&&(p.sourceCenter=s,p.targetCenter=f.center,s=p.targetCenter),void 0!==f.zoom?(p.sourceResolution=a,p.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),a=p.targetResolution):f.resolution&&(p.sourceResolution=a,p.targetResolution=f.resolution,a=p.targetResolution),void 0!==f.rotation){p.sourceRotation=l;var d=r.a.modulo(f.rotation-l+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=l+d,l=p.targetRotation}p.callback=e,w.isNoopAnimation(p)?p.complete=!0:o+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(c.a.ANIMATING,1),this.updateAnimations_()},w.prototype.getAnimating=function(){return this.hints_[c.a.ANIMATING]>0},w.prototype.getInteracting=function(){return this.hints_[c.a.INTERACTING]>0},w.prototype.cancelAnimations=function(){this.setHint(c.a.ANIMATING,-this.hints_[c.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&n[0].callback(!1)}this.animations_.length=0},w.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,s=0,a=i.length;s<a;++s){var l=i[s];if(!l.complete){var u=t-l.start,d=l.duration>0?u/l.duration:1;d>=1?(l.complete=!0,d=1):o=!1;var g=l.easing(d);if(l.sourceCenter){var v=l.sourceCenter[0],m=l.sourceCenter[1],y=v+g*(l.targetCenter[0]-v),_=m+g*(l.targetCenter[1]-m);this.set(h,[y,_])}if(l.sourceResolution&&l.targetResolution){var x=1===g?l.targetResolution:l.sourceResolution+g*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(h,this.calculateCenterZoom(x,l.anchor)),this.set(f,x)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var E=1===g?r.a.modulo(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+g*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(h,this.calculateCenterRotate(E,l.anchor)),this.set(p,E)}if(e=!0,!l.complete)break}}if(o){this.animations_[n]=null,this.setHint(c.a.ANIMATING,-1);var b=i[0].callback;b&&b(!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},w.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],g.a.rotate(n,t-this.getRotation()),g.a.add(n,e)),n},w.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},w.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+i.a.getUid(this)+'"]',n=document.querySelector(e);if(n){var r=getComputedStyle(n);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},w.prototype.constrainCenter=function(t){return this.constraints_.center(t)},w.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},w.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},w.prototype.getCenter=function(){return this.get(h)},w.prototype.getConstraints=function(){return this.constraints_},w.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},w.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();d.a.assert(n,1);var i=this.getResolution();d.a.assert(void 0!==i,2);var r=this.getRotation();return d.a.assert(void 0!==r,3),m.a.getForViewAndSize(n,i,r,e)},w.prototype.getMaxResolution=function(){return this.maxResolution_},w.prototype.getMinResolution=function(){return this.minResolution_},w.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},w.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},w.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},w.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},w.prototype.getProjection=function(){return this.projection_},w.prototype.getResolution=function(){return this.get(f)},w.prototype.getResolutions=function(){return this.resolutions_},w.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=m.a.getWidth(t)/n[0],r=m.a.getHeight(t)/n[1];return Math.max(i,r)},w.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},w.prototype.getRotation=function(){return this.get(p)},w.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},w.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},w.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},w.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=a.a.linearFindNearest(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},w.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},w.prototype.fit=function(t,e){var n,r=e||{},o=r.size;o||(o=this.getSizeFromViewport_()),t instanceof x.a?t.getType()===y.a.CIRCLE?(t=t.getExtent(),(n=_.a.fromExtent(t)).rotate(this.getRotation(),m.a.getCenter(t))):n=t:(d.a.assert(Array.isArray(t),24),d.a.assert(!m.a.isEmpty(t),25),n=_.a.fromExtent(t));var s,a=void 0!==r.padding?r.padding:[0,0,0,0],l=void 0===r.constrainResolution||r.constrainResolution,u=void 0!==r.nearest&&r.nearest;s=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),p=Math.sin(-h),g=1/0,v=1/0,E=-1/0,b=-1/0,T=n.getStride(),w=0,S=c.length;w<S;w+=T){var C=c[w]*f-c[w+1]*p,I=c[w]*p+c[w+1]*f;g=Math.min(g,C),v=Math.min(v,I),E=Math.max(E,C),b=Math.max(b,I)}var R=this.getResolutionForExtent([g,v,E,b],[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);if(R=isNaN(R)?s:Math.max(R,s),l){var A=this.constrainResolution(R,0,0);!u&&A<R&&(A=this.constrainResolution(A,-1,0)),R=A}p=-p;var L=(g+E)/2,k=(v+b)/2,O=[(L+=(a[1]-a[3])/2*R)*f-(k+=(a[0]-a[2])/2*R)*p,k*f+L*p],D=r.callback?r.callback:i.a.nullFunction;void 0!==r.duration?this.animate({resolution:R,center:O,duration:r.duration,easing:r.easing},D):(this.setResolution(R),this.setCenter(O),setTimeout(D.bind(void 0,!0),0))},w.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,l=this.getResolution(),u=(s+=(e[0]/2-n[0])*l)*r-(a+=(n[1]-e[1]/2)*l)*(o=-o),c=a*r+s*o;this.setCenter([u,c])},w.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},w.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},w.prototype.setCenter=function(t){this.set(h,t),this.getAnimating()&&this.cancelAnimations()},w.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},w.prototype.setResolution=function(t){this.set(f,t),this.getAnimating()&&this.cancelAnimations()},w.prototype.setRotation=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},w.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},w.createCenterConstraint_=function(t){return void 0!==t.extent?o.createExtent(t.extent):o.none},w.createResolutionConstraint_=function(t){var e,n,r,o=void 0!==t.minZoom?t.minZoom:i.a.DEFAULT_MIN_ZOOM,s=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var u=t.resolutions;n=u[o],r=void 0!==u[s]?u[s]:u[u.length-1],e=l.createSnapToResolutions(u)}else{var c=b.a.createProjection(t.projection,"EPSG:3857"),h=c.getExtent(),f=(h?Math.max(m.a.getWidth(h),m.a.getHeight(h)):360*b.a.METERS_PER_UNIT[T.a.DEGREES]/c.getMetersPerUnit())/i.a.DEFAULT_TILE_SIZE/Math.pow(2,i.a.DEFAULT_MIN_ZOOM),p=f/Math.pow(2,28-i.a.DEFAULT_MIN_ZOOM);void 0!==(n=t.maxResolution)?o=0:n=f/Math.pow(a,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,s):f/Math.pow(a,s):p),s=o+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,s-o),e=l.createSnapToPower(a,n,s-o)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:a}},w.createRotationConstraint_=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?u.a.createSnapToZero():!1===e?u.a.none:"number"==typeof e?u.a.createSnapToN(e):u.a.none}return u.a.disable},w.isNoopAnimation=function(t){return!(t.sourceCenter&&t.targetCenter&&!g.a.equals(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation},e.a=w},function(t,e,n){"use strict";var i=n(43),r=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};r.getKey=function(t,e,n){return e+":"+t+":"+(n?i.a.asString(n):"null")},r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,n=0;for(t in this.cache_)e=this.cache_[t],0!=(3&n++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},r.prototype.get=function(t,e,n){var i=r.getKey(t,e,n);return i in this.cache_?this.cache_[i]:null},r.prototype.set=function(t,e,n,i){var o=r.getKey(t,e,n);this.cache_[o]=i,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var o=r,s={};s.iconImageCache=new o,e.a=s},function(t,e){t.exports=function(t){return t instanceof Date}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getFullYear(),r=e.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}},function(t,e,n){var i=n(122);t.exports=function(t,e){var n=Number(e);return i(t,7*n)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t).getTime(),r=i(e).getTime();return n>r?-1:n<r?1:0}},function(t,e,n){var i=n(6),r=n(209),o=n(125);t.exports=function(t,e){var n=i(t),s=i(e),a=o(n,s),l=Math.abs(r(n,s));return n.setMonth(n.getMonth()-a*l),a*(l-(o(n,s)===-a))}},function(t,e,n){var i=n(138);t.exports=function(t,e){var n=i(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var i=n(301),r=n(302);t.exports={distanceInWords:i(),format:r()}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setHours(23,59,59,999),e}},function(t,e,n){var i=n(6),r=n(89),o=n(124);t.exports=function(t){var e=i(t),n=r(e).getTime()-o(e).getTime();return Math.round(n/6048e5)+1}},function(t,e,n){var i=n(135);t.exports=function(t,e,n){var r=i(t,n),o=i(e,n);return r.getTime()===o.getTime()}},function(t,e,n){var i=n(26),r=n(25).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(47),r=n(25),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(93)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){e.f=n(31)},function(t,e,n){var i=n(170)("keys"),r=n(92);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(79);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(25).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(26),r=n(28),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(77)(Function.call,n(68).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var i=n(26),r=n(176).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){"use strict";var i=n(81),r=n(80);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";var i=n(93),r=n(5),o=n(55),s=n(60),a=n(106),l=n(250),u=n(105),c=n(98),h=n(31)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,v,m){l(n,e,d);var y,_,x,E=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},b=e+" Iterator",T="values"==g,w=!1,S=t.prototype,C=S[h]||S["@@iterator"]||g&&S[g],I=C||E(g),R=g?T?E("entries"):I:void 0,A="Array"==e&&S.entries||C;if(A&&(x=c(A.call(new t)))!==Object.prototype&&x.next&&(u(x,b,!0),i||"function"==typeof x[h]||s(x,h,p)),T&&C&&"values"!==C.name&&(w=!0,I=function(){return C.call(this)}),i&&!m||!f&&!w&&S[h]||s(S,h,I),a[e]=I,a[b]=p,g)if(y={values:T?I:E("values"),keys:v?I:E("keys"),entries:R},m)for(_ in y)_ in S||o(S,_,y[_]);else r(r.P+r.F*(f||w),e,y);return y}},function(t,e,n){var i=n(184),r=n(80);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(26),r=n(79),o=n(31)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(31)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(106),r=n(31)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(41),r=n(91);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(141),r=n(31)("iterator"),o=n(106);t.exports=n(47).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(62),r=n(95),o=n(48);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var i=n(107),r=n(254),o=n(106),s=n(61);t.exports=n(182)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(28);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i,r,o,s=n(77),a=n(243),l=n(175),u=n(169),c=n(25),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},i(v),v},p=function(t){delete m[t]},"process"==n(79)(h)?i=function(t){h.nextTick(s(y,t,1))}:g&&g.now?i=function(t){g.now(s(y,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=_,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var i=n(25),r=n(46),o=n(93),s=n(149),a=n(60),l=n(110),u=n(23),c=n(109),h=n(81),f=n(48),p=n(261),d=n(97).f,g=n(41).f,v=n(189),m=n(105),y="prototype",_="Wrong index!",x=i.ArrayBuffer,E=i.DataView,b=i.Math,T=i.RangeError,w=i.Infinity,S=x,C=b.abs,I=b.pow,R=b.floor,A=b.log,L=b.LN2,k=r?"_b":"buffer",O=r?"_l":"byteLength",D=r?"_o":"byteOffset";function P(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,l=(1<<a)-1,u=l>>1,c=23===e?I(2,-24)-I(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===w?(r=t!=t?1:0,i=l):(i=R(A(t)/L),t*(o=I(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?c/o:c*I(2,1-u))*o>=2&&(i++,o/=2),i+u>=l?(r=0,i=l):i+u>=1?(r=(t*o-1)*I(2,e),i+=u):(r=t*I(2,u-1)*I(2,e),i=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function M(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;a>0;c=256*c+t[l],l--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=e;a>0;i=256*i+t[l],l--,a-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:u?-w:w;i+=I(2,e),c-=s}return(u?-1:1)*i*I(2,c-e)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function F(t){return[255&t]}function j(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return P(t,52,8)}function B(t){return P(t,23,4)}function W(t,e,n){g(t[y],e,{get:function(){return this[n]}})}function H(t,e,n,i){var r=p(+n);if(r+e>t[O])throw T(_);var o=t[k]._b,s=r+t[D],a=o.slice(s,s+e);return i?a:a.reverse()}function Y(t,e,n,i,r,o){var s=p(+n);if(s+e>t[O])throw T(_);for(var a=t[k]._b,l=s+t[D],u=i(+r),c=0;c<e;c++)a[l+c]=u[o?c:e-c-1]}if(s.ABV){if(!u(function(){x(1)})||!u(function(){new x(-1)})||u(function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name})){for(var z,q=(x=function(t){return c(this,x),new S(p(t))})[y]=S[y],X=d(S),V=0;X.length>V;)(z=X[V++])in x||a(x,z,S[z]);o||(q.constructor=x)}var K=new E(new x(2)),Z=E[y].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||l(E[y],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else x=function(t){c(this,x,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[O]=e},E=function(t,e,n){c(this,E,"DataView"),c(t,x,"DataView");var i=t[O],r=h(e);if(r<0||r>i)throw T("Wrong offset!");if(r+(n=void 0===n?i-r:f(n))>i)throw T("Wrong length!");this[k]=t,this[D]=r,this[O]=n},r&&(W(x,"byteLength","_l"),W(E,"buffer","_b"),W(E,"byteLength","_l"),W(E,"byteOffset","_o")),l(E[y],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(H(this,4,t,arguments[1]))},getUint32:function(t){return N(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return M(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return M(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Y(this,1,t,F,e)},setUint8:function(t,e){Y(this,1,t,F,e)},setInt16:function(t,e){Y(this,2,t,j,e,arguments[2])},setUint16:function(t,e){Y(this,2,t,j,e,arguments[2])},setInt32:function(t,e){Y(this,4,t,U,e,arguments[2])},setUint32:function(t,e){Y(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){Y(this,4,t,B,e,arguments[2])},setFloat64:function(t,e){Y(this,8,t,G,e,arguments[2])}});m(x,"ArrayBuffer"),m(E,"DataView"),a(E[y],s.VIEW,!0),e.ArrayBuffer=x,e.DataView=E},,,function(t,e){t.exports={status:{open:"Auki",closed:"Kiinni",self_service:"Itsepalvelu",opens_at_time:"Aukeaa klo %s"},gallery:{close:"Sulje galleria",show_picture:"Nyt kuva"},search:{total:"Haku palautti %d tulosta."},map:"Kartta",tomorrow:"Huomenna",check_schedules:"Tarkista aukiolot",load_more:"Lataa lis tuloksia",choose:"- Valitse -"}},function(t,e,n){"use strict";var i=n(36),r=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_};var o=r,s=n(0),a=n(21),l=n(18),u=n(39),c="active",h=n(11),f=function(t){l.a.call(this),this.map_=null,this.setActive(!0),this.handleEvent=t.handleEvent};s.a.inherits(f,l.a),f.prototype.getActive=function(){return this.get(c)},f.prototype.getMap=function(){return this.map_},f.prototype.setActive=function(t){this.set(c,t)},f.prototype.setMap=function(t){this.map_=t},f.pan=function(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:u.a.linear,center:r}):t.setCenter(r)}},f.rotate=function(t,e,n,i){e=t.constrainRotation(e,0),f.rotateWithoutConstraints(t,e,n,i)},f.rotateWithoutConstraints=function(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:u.a.easeOut}):t.rotate(e,n)}},f.zoom=function(t,e,n,i,r){e=t.constrainResolution(e,0,r),f.zoomWithoutConstraints(t,e,n,i)},f.zoomByDelta=function(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=h.a.clamp(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==o&&o!==r){var a=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*a[0]-r*l[0])/(o-r),(o*a[1]-r*l[1])/(o-r)]}f.zoomWithoutConstraints(t,o,n,i)},f.zoomWithoutConstraints=function(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:u.a.easeOut});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}};var p=f,d=function(t){var e=t||{};this.delta_=e.delta?e.delta:1,p.call(this,{handleEvent:d.handleEvent}),this.duration_=void 0!==e.duration?e.duration:250};s.a.inherits(d,p),d.handleEvent=function(t){var e=!1,n=t.originalEvent;if(t.type==a.a.DBLCLICK){var i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,s=i.getView();p.zoomByDelta(s,o,r,this.duration_),t.preventDefault(),e=!0}return!e};var g=d,v=n(17),m=n(64),y=n(13),_=n(19),x=n(22),E={altKeyOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},altShiftKeysOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}};E.always=_.a.TRUE,E.click=function(t){return t.type==a.a.CLICK},E.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(x.a.WEBKIT&&x.a.MAC&&e.ctrlKey)},E.never=_.a.FALSE,E.pointerMove=function(t){return"pointermove"==t.type},E.singleClick=function(t){return t.type==a.a.SINGLECLICK},E.doubleClick=function(t){return t.type==a.a.DBLCLICK},E.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},E.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(x.a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},E.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},E.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},E.mouseOnly=function(t){return y.a.assert(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},E.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button};var b=E,T=n(76),w=n(12),S=function(t){var e=t||{},n=e.handleEvent?e.handleEvent:S.handleEvent;p.call(this,{handleEvent:n}),this.handleDownEvent_=e.handleDownEvent?e.handleDownEvent:S.handleDownEvent,this.handleDragEvent_=e.handleDragEvent?e.handleDragEvent:S.handleDragEvent,this.handleMoveEvent_=e.handleMoveEvent?e.handleMoveEvent:S.handleMoveEvent,this.handleUpEvent_=e.handleUpEvent?e.handleUpEvent:S.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};s.a.inherits(S,p),S.centroid=function(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]},S.prototype.isPointerDraggingEvent_=function(t){var e=t.type;return e===a.a.POINTERDOWN||e===a.a.POINTERDRAG||e===a.a.POINTERUP},S.prototype.updateTrackedPointers_=function(t){if(this.isPointerDraggingEvent_(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==a.a.POINTERUP?delete this.trackedPointers_[n]:t.type==a.a.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=w.a.getValues(this.trackedPointers_)}},S.handleDragEvent=s.a.nullFunction,S.handleUpEvent=_.a.FALSE,S.handleDownEvent=_.a.FALSE,S.handleMoveEvent=s.a.nullFunction,S.handleEvent=function(t){if(!(t instanceof T.a))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==a.a.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==a.a.POINTERUP){var n=this.handleUpEvent_(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==a.a.POINTERDOWN){var i=this.handleDownEvent_(t);this.handlingDownUpSequence=i,e=this.shouldStopEvent(i)}else t.type==a.a.POINTERMOVE&&this.handleMoveEvent_(t);return!e},S.prototype.shouldStopEvent=function(t){return t};var C=S,I=function(t){C.call(this,{handleDownEvent:I.handleDownEvent_,handleDragEvent:I.handleDragEvent_,handleUpEvent:I.handleUpEvent_});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=e.condition?e.condition:b.noModifierKeys,this.noKinetic_=!1};s.a.inherits(I,C),I.handleDragEvent_=function(t){var e=this.targetPointers,n=C.centroid(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),s=o.getState(),a=[i,r];m.a.scale(a,s.resolution),m.a.rotate(a,s.rotation),m.a.add(a,s.center),a=o.constrainCenter(a),o.setCenter(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},I.handleUpEvent_=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:u.a.easeOut})}return n.setHint(v.a.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},I.handleDownEvent_=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,this.handlingDownUpSequence||e.setHint(v.a.INTERACTING,1),e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},I.prototype.shouldStopEvent=_.a.FALSE;var R=I,A=n(74),L=function(t){var e=t||{};C.call(this,{handleDownEvent:L.handleDownEvent_,handleDragEvent:L.handleDragEvent_,handleUpEvent:L.handleUpEvent_}),this.condition_=e.condition?e.condition:b.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250};s.a.inherits(L,C),L.handleDragEvent_=function(t){if(b.mouseOnly(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==A.a.disable){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=n.getRotation();p.rotateWithoutConstraints(n,a-s)}this.lastAngle_=o}}},L.handleUpEvent_=function(t){if(!b.mouseOnly(t))return!0;var e=t.map.getView();e.setHint(v.a.INTERACTING,-1);var n=e.getRotation();return p.rotate(e,n,void 0,this.duration_),!1},L.handleDownEvent_=function(t){return!(!b.mouseOnly(t)||!b.mouseActionButton(t)||!this.condition_(t)||(t.map.getView().setHint(v.a.INTERACTING,1),this.lastAngle_=void 0,0))},L.prototype.shouldStopEvent=_.a.FALSE;var k=L,O=n(1),D=n(27),P=n(72),M=n(133),N=function(t){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null};s.a.inherits(N,P.a),N.prototype.disposeInternal=function(){this.setMap(null)},N.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},N.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},N.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},N.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new M.a([n])},N.prototype.getGeometry=function(){return this.geometry_};var F=N,j=function(t){C.call(this,{handleDownEvent:j.handleDownEvent_,handleDragEvent:j.handleDragEvent_,handleUpEvent:j.handleUpEvent_});var e=t||{};this.box_=new F(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,this.startPixel_=null,this.condition_=e.condition?e.condition:b.always,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:j.defaultBoxEndCondition};s.a.inherits(j,C),j.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},j.handleDragEvent_=function(t){b.mouseOnly(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new j.Event(j.EventType_.BOXDRAG,t.coordinate,t)))},j.prototype.getGeometry=function(){return this.box_.getGeometry()},j.prototype.onBoxEnd=s.a.nullFunction,j.handleUpEvent_=function(t){return!b.mouseOnly(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd(t),this.dispatchEvent(new j.Event(j.EventType_.BOXEND,t.coordinate,t))),!1)},j.handleDownEvent_=function(t){return!(!b.mouseOnly(t)||!b.mouseActionButton(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new j.Event(j.EventType_.BOXSTART,t.coordinate,t)),0))},j.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},j.Event=function(t,e,n){D.a.call(this,t),this.coordinate=e,this.mapBrowserEvent=n},s.a.inherits(j.Event,D.a);var U=j,G=function(t){var e=t||{},n=e.condition?e.condition:b.shiftKeyOnly;this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out,U.call(this,{condition:n,className:e.className||"ol-dragzoom"})};s.a.inherits(G,U),G.prototype.onBoxEnd=function(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),o=O.a.createOrUpdateFromCoordinates([t.getPixelFromCoordinate(O.a.getBottomLeft(i)),t.getPixelFromCoordinate(O.a.getTopRight(i))]),s=e.getResolutionForExtent(o,n);O.a.scaleFromCenter(r,1/s),i=r}var a=e.constrainResolution(e.getResolutionForExtent(i,n)),l=O.a.getCenter(i);l=e.constrainCenter(l),e.animate({resolution:a,center:l,duration:this.duration_,easing:u.a.easeOut})};var B=G,W=n(9),H=37,Y=38,z=39,q=40,X=function(t){p.call(this,{handleEvent:X.handleEvent});var e=t||{};this.defaultCondition_=function(t){return b.noModifierKeys(t)&&b.targetNotEditable(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128};s.a.inherits(X,p),X.handleEvent=function(t){var e=!1;if(t.type==W.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==q||n==H||n==z||n==Y)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,s=0;n==q?s=-r:n==H?o=-r:n==z?o=r:s=r;var a=[o,s];m.a.rotate(a,i.getRotation()),p.pan(i,a,this.duration_),t.preventDefault(),e=!0}}return!e};var V=X,K=function(t){p.call(this,{handleEvent:K.handleEvent});var e=t||{};this.condition_=e.condition?e.condition:b.targetNotEditable,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100};s.a.inherits(K,p),K.handleEvent=function(t){var e=!1;if(t.type==W.a.KEYDOWN||t.type==W.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=i.getView();p.zoomByDelta(o,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e};var Z=K,$=function(t){p.call(this,{handleEvent:$.handleEvent});var e=t||{};this.delta_=0,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=e.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};s.a.inherits($,p),$.handleEvent=function(t){var e=t.type;if(e!==W.a.WHEEL&&e!==W.a.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==W.a.WHEEL?(n=r.deltaY,x.a.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=x.a.DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==W.a.MOUSEWHEEL&&(n=-r.wheelDeltaY,x.a.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?$.Mode_.TRACKPAD:$.Mode_.WHEEL),this.mode_===$.Mode_.TRACKPAD){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(v.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=s.getMinResolution(),c=s.getMaxResolution(),h=0;if(a<l?(a=Math.max(a,l/this.trackpadZoomBuffer_),h=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var f=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(f))}return s.setResolution(a),0===h&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,n>0?-1:1),easing:u.a.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),h>0?s.animate({resolution:l,easing:u.a.easeOut,anchor:this.lastAnchor_,duration:500}):h<0&&s.animate({resolution:c,easing:u.a.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),p),!1},$.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(v.a.INTERACTING,-1)},$.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=s.a.MOUSEWHEELZOOM_MAXDELTA,i=h.a.clamp(this.delta_,-n,n);p.zoomByDelta(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},$.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},$.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};var J=$,Q=function(t){C.call(this,{handleDownEvent:Q.handleDownEvent_,handleDragEvent:Q.handleDragEvent_,handleUpEvent:Q.handleUpEvent_});var e=t||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250};s.a.inherits(Q,C),Q.handleDragEvent_=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==A.a.disable){var l=s.getViewport().getBoundingClientRect(),u=C.centroid(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=s.getCoordinateFromPixel(u),this.rotating_){var c=a.getRotation();s.render(),p.rotateWithoutConstraints(a,c+e,this.anchor_)}}},Q.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(v.a.INTERACTING,-1),this.rotating_){var n=e.getRotation();p.rotate(e,n,this.anchor_,this.duration_)}return!1}return!0},Q.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(v.a.INTERACTING,1),!0}return!1},Q.prototype.shouldStopEvent=_.a.FALSE;var tt=Q,et=function(t){C.call(this,{handleDownEvent:et.handleDownEvent_,handleDragEvent:et.handleDragEvent_,handleUpEvent:et.handleUpEvent_});var e=t||{};this.constrainResolution_=e.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1};s.a.inherits(et,C),et.handleDragEvent_=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView(),u=l.getResolution(),c=l.getMaxResolution(),h=l.getMinResolution(),f=u*e;f>c?(e=c/u,f=c):f<h&&(e=h/u,f=h),1!=e&&(this.lastScaleDelta_=e);var d=a.getViewport().getBoundingClientRect(),g=C.centroid(this.targetPointers);g[0]-=d.left,g[1]-=d.top,this.anchor_=a.getCoordinateFromPixel(g),a.render(),p.zoomWithoutConstraints(l,f,this.anchor_)},et.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(v.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;p.zoom(e,n,this.anchor_,this.duration_,i)}return!1}return!0},et.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(v.a.INTERACTING,1),!0}return!1},et.prototype.shouldStopEvent=_.a.FALSE;var nt=et,it={defaults:function(t){var e=t||{},n=new i.a,r=new o(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new k),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new g({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new R({kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new tt),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new nt({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new V),n.push(new Z({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new J({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new B({duration:e.zoomDuration})),n}};e.a=it},function(t,e,n){t.exports=n(394)},function(t,e,n){var i=n(404),r=n(405),o=n(406);t.exports=function(t){return i(t)||r(t)||o()}},function(t,e,n){"use strict";var i=n(0),r=n(24),o=n(13),s=n(43),a=n(2),l=n(9),u="fraction",c=n(15),h=n(32),f=n(158),p=function(t,e,n,i,o,s){h.a.call(this),this.hitDetectionImage_=null,this.image_=t||new Image,null!==i&&(this.image_.crossOrigin=i),this.canvas_=s?document.createElement("CANVAS"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=o,this.size_=n,this.src_=e,this.tainting_=!1,this.imageState_==r.a.LOADED&&this.determineTainting_()};i.a.inherits(p,h.a),p.get=function(t,e,n,i,r,o){var s=f.a.iconImageCache,a=s.get(e,i,o);return a||(a=new p(t,e,n,i,r,o),s.set(e,i,o,a)),a},p.prototype.determineTainting_=function(){var t=c.a.createCanvasContext2D(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}},p.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l.a.CHANGE)},p.prototype.handleImageError_=function(){this.imageState_=r.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},p.prototype.handleImageLoad_=function(){this.imageState_=r.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},p.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},p.prototype.getImageState=function(){return this.imageState_},p.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.tainting_){var e=this.size_[0],n=this.size_[1],i=c.a.createCanvasContext2D(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},p.prototype.getSize=function(){return this.size_},p.prototype.getSrc=function(){return this.src_},p.prototype.load=function(){if(this.imageState_==r.a.IDLE){this.imageState_=r.a.LOADING,this.imageListenerKeys_=[a.a.listenOnce(this.image_,l.a.ERROR,this.handleImageError_,this),a.a.listenOnce(this.image_,l.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},p.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,s=0,a=n.length;s<a;s+=4)n[s]*=i,n[s+1]*=r,n[s+2]*=o;t.putImageData(e,0,0)}},p.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.a.unlistenByKey),this.imageListenerKeys_=null};var d=p,g="bottom-left",v="bottom-right",m="top-left",y="top-right",_=n(120),x=function(t){var e=t||{};this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:m,this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:u,this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:u,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var n=void 0!==e.img?e.img:null,a=void 0!==e.imgSize?e.imgSize:null,l=e.src;o.a.assert(!(void 0!==l&&n),4),o.a.assert(!n||n&&a,5),void 0!==l&&0!==l.length||!n||(l=n.src||i.a.getUid(n).toString()),o.a.assert(void 0!==l&&l.length>0,6);var c=void 0!==e.src?r.a.IDLE:r.a.LOADED;this.color_=void 0!==e.color?s.a.asArray(e.color):null,this.iconImage_=d.get(n,l,a,this.crossOrigin_,c,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:m,this.origin_=null,this.size_=void 0!==e.size?e.size:null;var h=void 0!==e.opacity?e.opacity:1,f=void 0!==e.rotateWithView&&e.rotateWithView,p=void 0!==e.rotation?e.rotation:0,g=void 0!==e.scale?e.scale:1,v=void 0===e.snapToPixel||e.snapToPixel;_.a.call(this,{opacity:h,rotation:p,scale:g,snapToPixel:v,rotateWithView:f})};i.a.inherits(x,_.a),x.prototype.clone=function(){return new x({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},x.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==u||this.anchorYUnits_==u){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==u&&(t[0]*=e[0]),this.anchorYUnits_==u&&(t[1]*=e[1])}if(this.anchorOrigin_!=m){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=y&&this.anchorOrigin_!=v||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=g&&this.anchorOrigin_!=v||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},x.prototype.getColor=function(){return this.color_},x.prototype.getImage=function(t){return this.iconImage_.getImage(t)},x.prototype.getImageSize=function(){return this.iconImage_.getSize()},x.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},x.prototype.getImageState=function(){return this.iconImage_.getImageState()},x.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},x.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=m){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=y&&this.offsetOrigin_!=v||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=g&&this.offsetOrigin_!=v||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},x.prototype.getSrc=function(){return this.iconImage_.getSrc()},x.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},x.prototype.listenImageChange=function(t,e){return a.a.listen(this.iconImage_,l.a.CHANGE,t,e)},x.prototype.load=function(){this.iconImage_.load()},x.prototype.unlistenImageChange=function(t,e){a.a.unlisten(this.iconImage_,l.a.CHANGE,t,e)},e.a=x},function(t,e,n){var i=n(123);t.exports=function(t,e){var n=Number(e);return i(t,36e5*n)}},function(t,e,n){var i=n(88),r=n(203);t.exports=function(t,e){var n=Number(e);return r(t,i(t)+n)}},function(t,e,n){var i=n(6),r=n(124),o=n(136);t.exports=function(t,e){var n=i(t),s=Number(e),a=o(n,r(n)),l=new Date(0);return l.setFullYear(s,0,4),l.setHours(0,0,0,0),(n=r(l)).setDate(n.getDate()+a),n}},function(t,e,n){var i=n(123);t.exports=function(t,e){var n=Number(e);return i(t,6e4*n)}},function(t,e,n){var i=n(137);t.exports=function(t,e){var n=Number(e);return i(t,3*n)}},function(t,e,n){var i=n(123);t.exports=function(t,e){var n=Number(e);return i(t,1e3*n)}},function(t,e,n){var i=n(137);t.exports=function(t,e){var n=Number(e);return i(t,12*n)}},function(t,e,n){var i=n(88);t.exports=function(t,e){return i(t)-i(e)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return Math.floor(e.getMonth()/3)+1}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getFullYear()-r.getFullYear()}},function(t,e,n){var i=n(6),r=n(136),o=n(125);t.exports=function(t,e){var n=i(t),s=i(e),a=o(n,s),l=Math.abs(r(n,s));return n.setDate(n.getDate()-a*l),a*(l-(o(n,s)===-a))}},function(t,e,n){var i=n(202);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(162),r=n(6),o=n(164),s=n(163),a=n(165),l=43200;t.exports=function(t,e,n){var u=n||{},c=i(t,e),h=u.locale,f=a.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(f=h.distanceInWords.localize);var p,d,g={addSuffix:Boolean(u.addSuffix),comparison:c};c>0?(p=r(t),d=r(e)):(p=r(e),d=r(t));var v,m=o(d,p),y=d.getTimezoneOffset()-p.getTimezoneOffset(),_=Math.round(m/60)-y;if(_<2)return u.includeSeconds?m<5?f("lessThanXSeconds",5,g):m<10?f("lessThanXSeconds",10,g):m<20?f("lessThanXSeconds",20,g):m<40?f("halfAMinute",null,g):f(m<60?"lessThanXMinutes":"xMinutes",1,g):0===_?f("lessThanXMinutes",1,g):f("xMinutes",_,g);if(_<45)return f("xMinutes",_,g);if(_<90)return f("aboutXHours",1,g);if(_<1440)return f("aboutXHours",Math.round(_/60),g);if(_<2520)return f("xDays",1,g);if(_<l)return f("xDays",Math.round(_/1440),g);if(_<86400)return f("aboutXMonths",v=Math.round(_/l),g);if((v=s(d,p))<12)return f("xMonths",Math.round(_/l),g);var x=v%12,E=Math.floor(v/12);return x<3?f("aboutXYears",E,g):x<9?f("overXYears",E,g):f("almostXYears",E+1,g)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=i(t),o=r.getDay(),s=6+(o<n?-7:0)-(o-n);return r.setDate(r.getDate()+s),r.setHours(23,59,59,999),r}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},function(t,e,n){var i=n(6),r=n(218),o=n(136);t.exports=function(t){var e=i(t);return o(e,r(e))+1}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(t,e,n){var i=n(159);t.exports=function(t){if(i(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t).getFullYear();return e%400==0||e%4==0&&e%100!=0}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t).getDay();return 0===e&&(e=7),e}},function(t,e,n){var i=n(223);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setMinutes(0,0,0),e}},function(t,e,n){var i=n(168);t.exports=function(t,e){return i(t,e,{weekStartsOn:1})}},function(t,e,n){var i=n(124);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(227);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setSeconds(0,0),e}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}},function(t,e,n){var i=n(230);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}},function(t,e,n){var i=n(232);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setMilliseconds(0),e}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getFullYear()===r.getFullYear()}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=i(t),o=r.getDay(),s=6+(o<n?-7:0)-(o-n);return r.setHours(0,0,0,0),r.setDate(r.getDate()+s),r}},function(t,e,n){var i=n(6),r=n(160);t.exports=function(t,e){var n=i(t),o=Number(e),s=n.getFullYear(),a=n.getDate(),l=new Date(0);l.setFullYear(s,o,15),l.setHours(0,0,0,0);var u=r(l);return n.setMonth(o,Math.min(a,u)),n}},function(t,e,n){t.exports=!n(46)&&!n(23)(function(){return 7!=Object.defineProperty(n(169)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(25),r=n(47),o=n(93),s=n(171),a=n(41).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(59),r=n(61),o=n(139)(!1),s=n(172)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(41),r=n(28),o=n(94);t.exports=n(46)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(61),r=n(97).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){"use strict";var i=n(94),r=n(140),o=n(127),s=n(62),a=n(126),l=Object.assign;t.exports=!l||n(23)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var f,p=a(arguments[u++]),d=c?i(p).concat(c(p)):i(p),g=d.length,v=0;g>v;)h.call(p,f=d[v++])&&(n[f]=p[f]);return n}:l},function(t,e,n){"use strict";var i=n(78),r=n(26),o=n(243),s=[].slice,a={};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),l=function(){var i=n.concat(s.call(arguments));return this instanceof l?function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)}(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(25).parseInt,r=n(142).trim,o=n(177),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},function(t,e,n){var i=n(25).parseFloat,r=n(142).trim;t.exports=1/i(n(177)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(79);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(26),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(81),r=n(80);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(96),r=n(91),o=n(105),s={};n(60)(s,n(31)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(28);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(78),r=n(62),o=n(126),s=n(48);t.exports=function(t,e,n,a,l){i(e);var u=r(t),c=o(u),h=s(u.length),f=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(f in c){a=c[f],f+=p;break}if(f+=p,l?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:h>f;f+=p)f in c&&(a=e(a,c[f],f,u));return a}},function(t,e,n){"use strict";var i=n(62),r=n(95),o=n(48);t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),l=r(e,s),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?s:r(u,s))-l,s-a),h=1;for(l<a&&a<l+c&&(h=-1,l+=c-1,a+=c-1);c-- >0;)l in n?n[a]=n[l]:delete n[a],a+=h,l+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(46)&&"g"!=/./g.flags&&n(41).f(RegExp.prototype,"flags",{configurable:!0,get:n(191)})},function(t,e,n){"use strict";var i,r,o,s,a=n(93),l=n(25),u=n(77),c=n(141),h=n(5),f=n(26),p=n(78),d=n(109),g=n(145),v=n(146),m=n(192).set,y=n(522)(),_=n(257),x=n(523),E=n(147),b=n(258),T=l.TypeError,w=l.process,S=w&&w.versions,C=S&&S.v8||"",I=l.Promise,R="process"==c(w),A=function(){},L=r=_.f,k=!!function(){try{var t=I.resolve(1),e=(t.constructor={})[n(31)("species")]=function(t){t(A,A)};return(R||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==C.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{a?(r||(2==t._h&&N(t),t._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&(c.exit(),s=!0)),n===e.promise?u(T("Promise-chain cycle")):(o=O(n))?o.call(n,l,u):l(n)):u(i)}catch(t){c&&!s&&c.exit(),u(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){m.call(l,function(){var e,n,i,r=t._v,o=M(t);if(o&&(e=x(function(){R?w.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=R||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){m.call(l,function(){var e;R?w.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=O(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,u(j,i,1),u(F,i,1))}catch(t){F.call(i,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};k||(I=function(t){d(this,I,"Promise","_h"),p(t),i.call(this);try{t(u(j,this,1),u(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(110)(I.prototype,{then:function(t,e){var n=L(v(this,I));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=R?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(j,t,1),this.reject=u(F,t,1)},_.f=L=function(t){return t===I||t===s?new o(t):r(t)}),h(h.G+h.W+h.F*!k,{Promise:I}),n(105)(I,"Promise"),n(108)("Promise"),s=n(47).Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!k),"Promise",{resolve:function(t){return b(a&&this===s?I:this,t)}}),h(h.S+h.F*!(k&&n(143)(function(t){I.all(t).catch(A)})),"Promise",{all:function(t){var e=this,n=L(e),i=n.resolve,r=n.reject,o=x(function(){var n=[],o=0,s=1;g(t,!1,function(t){var a=o++,l=!1;n.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=L(e),i=n.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(78);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},function(t,e,n){var i=n(28),r=n(26),o=n(257);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(41).f,r=n(96),o=n(110),s=n(77),a=n(109),l=n(145),u=n(182),c=n(254),h=n(108),f=n(46),p=n(85).fastKey,d=n(111),g=f?"_s":"size",v=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,i){a(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=i&&l(i,n,t[u],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),i=v(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[g]--}return!!i},forEach:function(t){d(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(d(this,e),t)}}),f&&i(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,n){var i,r,o=v(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var i=n(110),r=n(85).getWeak,o=n(28),s=n(26),a=n(109),l=n(145),u=n(70),c=n(59),h=n(111),f=u(5),p=u(6),d=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,i){a(t,u,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)});return i(u.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?g(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?g(h(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return!0===i?g(t).set(e,n):i[t._i]=n,t},ufstore:g}},function(t,e,n){var i=n(81),r=n(48);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(97),r=n(140),o=n(28),s=n(25).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(48),r=n(179),o=n(80);t.exports=function(t,e,n,s){var a=String(o(t)),l=a.length,u=void 0===n?" ":String(n),c=i(e);if(c<=l||""==u)return a;var h=c-l,f=r.call(u,Math.ceil(h/u.length));return f.length>h&&(f=f.slice(0,h)),s?f+a:a+f}},function(t,e,n){var i=n(94),r=n(61),o=n(127).f;t.exports=function(t){return function(e){for(var n,s=r(e),a=i(s),l=a.length,u=0,c=[];l>u;)o.call(s,n=a[u++])&&c.push(t?[n,s[n]]:s[n]);return c}}},,function(t,e,n){var i=n(277),r=n(278),o=n(279);t.exports=function(t,e){return i(t)||r(t,e)||o()}},function(t,e,n){t.exports=n(286).default},function(t,e){function n(t,e,n,i,r,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise(function(r,o){var s=t.apply(e,i);function a(t){n(s,r,o,a,l,"next",t)}function l(t){n(s,r,o,a,l,"throw",t)}a(void 0)})}}},function(t,e,n){"use strict";var i=n(0),r=n(156),o=function(t){var e,n=t||{};e=void 0!==n.attributions?n.attributions:[o.ATTRIBUTION];var i=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",s=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";r.a.call(this,{attributions:e,cacheSize:n.cacheSize,crossOrigin:i,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:s,wrapX:n.wrapX})};i.a.inherits(o,r.a),o.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',e.a=o},function(t,e,n){"use strict";var i=n(13),r=n(2),o=n(9),s=n(0),a=n(18),l=n(131),u=n(87),c=function(t){if(a.a.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,r.a.listen(this,a.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==t)if(t instanceof l.a||!t){var e=t;this.setGeometry(e)}else{var n=t;this.setProperties(n)}};s.a.inherits(c,a.a),c.prototype.clone=function(){var t=new c(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},c.prototype.getGeometry=function(){return this.get(this.geometryName_)},c.prototype.getId=function(){return this.id_},c.prototype.getGeometryName=function(){return this.geometryName_},c.prototype.getStyle=function(){return this.style_},c.prototype.getStyleFunction=function(){return this.styleFunction_},c.prototype.handleGeometryChange_=function(){this.changed()},c.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(r.a.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=r.a.listen(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},c.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},c.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?c.createStyleFunction(t):void 0,this.changed()},c.prototype.setId=function(t){this.id_=t,this.changed()},c.prototype.setGeometryName=function(t){r.a.unlisten(this,a.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,r.a.listen(this,a.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},c.createStyleFunction=function(t){var e,n;return"function"==typeof t?e=2==t.length?function(e){return t(this,e)}:t:(Array.isArray(t)?n=t:(i.a.assert(t instanceof u.a,41),n=[t]),e=function(){return n}),e},e.a=c},function(t,e,n){"use strict";var i=n(0),r=n(38),o=n(44),s=n(155),a=n(12),l=n(87),u=function(t){var e=t||{},n=a.a.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,o.a.call(this,n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,this.renderMode_=e.renderMode||s.a.VECTOR,this.type=r.a.VECTOR};i.a.inherits(u,o.a),u.prototype.getDeclutter=function(){return this.declutter_},u.prototype.setDeclutter=function(t){this.declutter_=t},u.prototype.getRenderBuffer=function(){return this.renderBuffer_},u.prototype.getRenderOrder=function(){return this.get(u.Property_.RENDER_ORDER)},u.prototype.getSource,u.prototype.getStyle=function(){return this.style_},u.prototype.getStyleFunction=function(){return this.styleFunction_},u.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},u.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},u.prototype.setRenderOrder=function(t){this.set(u.Property_.RENDER_ORDER,t)},u.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.a.defaultFunction,this.styleFunction_=null===t?void 0:l.a.createFunction(this.style_),this.changed()},u.prototype.getRenderMode=function(){return this.renderMode_},u.Property_={RENDER_ORDER:"renderOrder"},e.a=u},function(t,e,n){"use strict";var i=n(16);e.a=i.a,i.a.changeLanguage.bind(i.a),i.a.cloneInstance.bind(i.a),i.a.createInstance.bind(i.a),i.a.dir.bind(i.a),i.a.exists.bind(i.a),i.a.getFixedT.bind(i.a),i.a.init.bind(i.a),i.a.loadLanguages.bind(i.a),i.a.loadNamespaces.bind(i.a),i.a.loadResources.bind(i.a),i.a.off.bind(i.a),i.a.on.bind(i.a),i.a.setDefaultNamespace.bind(i.a),i.a.t.bind(i.a),i.a.use.bind(i.a)},function(t,e,n){"use strict";var i=n(0),r=n(36),o=n(45),s=n(130),a=n(22),l=n(21),u=n(76),c=n(2),h=n(32),f="pointermove",p="pointerdown",d="pointerup",g="pointerover",v="pointerout",m="pointerenter",y="pointerleave",_="pointercancel",x=function(t,e){this.dispatcher=t,this.mapping_=e};x.prototype.getEvents=function(){return Object.keys(this.mapping_)},x.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var E=x,b=function(t){var e={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};E.call(this,t,e),this.pointerMap=t.pointerMap,this.lastTouches=[]};i.a.inherits(b,E),b.POINTER_ID=1,b.POINTER_TYPE="mouse",b.DEDUP_DIST=25,b.prototype.isEventSimulatedFromTouch_=function(t){for(var e,n=this.lastTouches,i=t.clientX,r=t.clientY,o=0,s=n.length;o<s&&(e=n[o]);o++){var a=Math.abs(i-e[0]),l=Math.abs(r-e[1]);if(a<=b.DEDUP_DIST&&l<=b.DEDUP_DIST)return!0}return!1},b.prepareEvent=function(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=b.POINTER_ID,n.isPrimary=!0,n.pointerType=b.POINTER_TYPE,n},b.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){b.POINTER_ID.toString()in this.pointerMap&&this.cancel(t);var e=b.prepareEvent(t,this.dispatcher);this.pointerMap[b.POINTER_ID.toString()]=t,this.dispatcher.down(e,t)}},b.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=b.prepareEvent(t,this.dispatcher);this.dispatcher.move(e,t)}},b.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[b.POINTER_ID.toString()];if(e&&e.button===t.button){var n=b.prepareEvent(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}},b.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=b.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(e,t)}},b.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=b.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}},b.prototype.cancel=function(t){var e=b.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},b.prototype.cleanupMouse=function(){delete this.pointerMap[b.POINTER_ID.toString()]};var T=b,w=function(t){var e={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};E.call(this,t,e),this.pointerMap=t.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};i.a.inherits(w,E),w.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},w.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},w.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)},w.prototype.msPointerMove=function(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)},w.prototype.msPointerUp=function(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)},w.prototype.msPointerOut=function(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)},w.prototype.msPointerOver=function(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)},w.prototype.msPointerCancel=function(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)},w.prototype.msLostPointerCapture=function(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)},w.prototype.msGotPointerCapture=function(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)};var S=w,C=function(t){var e={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};E.call(this,t,e)};i.a.inherits(C,E),C.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)},C.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};var I=C,R=n(27),A=function(t,e,n){R.a.call(this,t),this.originalEvent=e;var i=n||{};this.buttons=this.getButtons_(i),this.pressure=this.getPressure_(i,this.buttons),this.bubbles="bubbles"in i&&i.bubbles,this.cancelable="cancelable"in i&&i.cancelable,this.view="view"in i?i.view:null,this.detail="detail"in i?i.detail:null,this.screenX="screenX"in i?i.screenX:0,this.screenY="screenY"in i?i.screenY:0,this.clientX="clientX"in i?i.clientX:0,this.clientY="clientY"in i?i.clientY:0,this.ctrlKey="ctrlKey"in i&&i.ctrlKey,this.altKey="altKey"in i&&i.altKey,this.shiftKey="shiftKey"in i&&i.shiftKey,this.metaKey="metaKey"in i&&i.metaKey,this.button="button"in i?i.button:0,this.relatedTarget="relatedTarget"in i?i.relatedTarget:null,this.pointerId="pointerId"in i?i.pointerId:0,this.width="width"in i?i.width:0,this.height="height"in i?i.height:0,this.tiltX="tiltX"in i?i.tiltX:0,this.tiltY="tiltY"in i?i.tiltY:0,this.pointerType="pointerType"in i?i.pointerType:"",this.hwTimestamp="hwTimestamp"in i?i.hwTimestamp:0,this.isPrimary="isPrimary"in i&&i.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})};i.a.inherits(A,R.a),A.prototype.getButtons_=function(t){var e;if(t.buttons||A.HAS_BUTTONS)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},A.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},A.HAS_BUTTONS=!1,function(){try{var t=new MouseEvent("click",{buttons:1});A.HAS_BUTTONS=1===t.buttons}catch(t){}}();var L=A,k=n(14),O=function(t,e){var n={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};E.call(this,t,n),this.pointerMap=t.pointerMap,this.mouseSource=e,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};i.a.inherits(O,E),O.DEDUP_TIMEOUT=2500,O.CLICK_COUNT_TIMEOUT=200,O.POINTER_TYPE="touch",O.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},O.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&T.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},O.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},O.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),O.CLICK_COUNT_TIMEOUT)},O.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},O.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},O.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.webkitRadiusX||e.radiusX||0,n.height=e.webkitRadiusY||e.radiusY||0,n.pressure=e.webkitForce||e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=O.POINTER_TYPE,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},O.prototype.processTouches_=function(t,e){var n,i,r=Array.prototype.slice.call(t.changedTouches),o=r.length;function s(){t.preventDefault()}for(n=0;n<o;++n)(i=this.touchToPointer_(t,r[n])).preventDefault=s,e.call(this,t,i)},O.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].identifier===e)return!0;return!1},O.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){var r,o,s,a=[];for(r=0;r<i;++r)o=n[r],s=this.pointerMap[o],o==T.POINTER_ID||this.findTouch_(e,o-2)||a.push(s.out);for(r=0;r<a.length;++r)this.cancelOut_(t,a[r])}},O.prototype.touchstart=function(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)},O.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},O.prototype.touchmove=function(t){t.preventDefault(),this.processTouches_(t,this.moveOverOut_)},O.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},O.prototype.touchend=function(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)},O.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},O.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)},O.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},O.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},O.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){k.a.remove(e,i)},O.DEDUP_TIMEOUT)}};var D=O,P=function(t){h.a.call(this),this.element_=t,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};i.a.inherits(P,h.a),P.prototype.registerSources=function(){if(a.a.POINTER)this.registerSource("native",new I(this));else if(a.a.MSPOINTER)this.registerSource("ms",new S(this));else{var t=new T(this);this.registerSource("mouse",t),a.a.TOUCH&&this.registerSource("touch",new D(this,t))}this.register_()},P.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))},this),this.eventSourceList_.push(n))},P.prototype.register_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.addEvents_(t.getEvents())},P.prototype.unregister_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.removeEvents_(t.getEvents())},P.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},P.prototype.addEvents_=function(t){t.forEach(function(t){c.a.listen(this.element_,t,this.eventHandler_,this)},this)},P.prototype.removeEvents_=function(t){t.forEach(function(t){c.a.unlisten(this.element_,t,this.eventHandler_,this)},this)},P.prototype.cloneEvent=function(t,e){for(var n,i={},r=0,o=P.CLONE_PROPS.length;r<o;r++)i[n=P.CLONE_PROPS[r][0]]=t[n]||e[n]||P.CLONE_PROPS[r][1];return i},P.prototype.down=function(t,e){this.fireEvent(p,t,e)},P.prototype.move=function(t,e){this.fireEvent(f,t,e)},P.prototype.up=function(t,e){this.fireEvent(d,t,e)},P.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(m,t,e)},P.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(y,t,e)},P.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(g,t,e)},P.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(v,t,e)},P.prototype.cancel=function(t,e){this.fireEvent(_,t,e)},P.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},P.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},P.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},P.prototype.makeEvent=function(t,e,n){return new L(t,n,e)},P.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},P.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},P.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,T.prepareEvent(e,this),e)},P.prototype.disposeInternal=function(){this.unregister_(),h.a.prototype.disposeInternal.call(this)},P.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];var M=P,N=function(t,e){h.a.call(this),this.map_=t,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*a.a.DEVICE_PIXEL_RATIO:a.a.DEVICE_PIXEL_RATIO,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new M(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=c.a.listen(this.pointerEventHandler_,p,this.handlePointerDown_,this),this.relayedListenerKey_=c.a.listen(this.pointerEventHandler_,f,this.relayEvent_,this)};i.a.inherits(N,h.a),N.prototype.emulateClick_=function(t){var e=new u.a(l.a.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new u.a(l.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new u.a(l.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},N.prototype.updateActivePointers_=function(t){var e=t;e.type==l.a.POINTERUP||e.type==l.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==l.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},N.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new u.a(l.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(c.a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},N.prototype.isMouseActionButton_=function(t){return 0===t.button},N.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new u.a(l.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new M(document),this.dragListenerKeys_.push(c.a.listen(this.documentPointerEventHandler_,l.a.POINTERMOVE,this.handlePointerMove_,this),c.a.listen(this.documentPointerEventHandler_,l.a.POINTERUP,this.handlePointerUp_,this),c.a.listen(this.pointerEventHandler_,l.a.POINTERCANCEL,this.handlePointerUp_,this)))},N.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new u.a(l.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},N.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new u.a(t.type,this.map_,t,e))},N.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},N.prototype.disposeInternal=function(){this.relayedListenerKey_&&(c.a.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(c.a.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(c.a.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),h.a.prototype.disposeInternal.call(this)};var F=N,j=n(83),U=n(118),G="layergroup",B="size",W="target",H="view",Y=n(18),z=n(71),q=n(10),X=n(9),V=n(13),K=n(12),Z=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};Z.DROP=1/0,Z.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,K.a.clear(this.queuedElements_)},Z.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},Z.prototype.enqueue=function(t){V.a.assert(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Z.DROP&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},Z.prototype.getCount=function(){return this.elements_.length},Z.prototype.getLeftChildIndex_=function(t){return 2*t+1},Z.prototype.getRightChildIndex_=function(t){return 2*t+2},Z.prototype.getParentIndex_=function(t){return t-1>>1},Z.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},Z.prototype.isEmpty=function(){return 0===this.elements_.length},Z.prototype.isKeyQueued=function(t){return t in this.queuedElements_},Z.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},Z.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[a]?l:a;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=o,this.siftDown_(s,t)},Z.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},Z.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==Z.DROP?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var $=Z,J=function(t,e){$.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}};i.a.inherits(J,$),J.prototype.enqueue=function(t){var e=$.prototype.enqueue.call(this,t);if(e){var n=t[0];c.a.listen(n,X.a.CHANGE,this.handleTileChange,this)}return e},J.prototype.getTilesLoading=function(){return this.tilesLoading_},J.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===q.a.LOADED||n===q.a.ERROR||n===q.a.EMPTY||n===q.a.ABORT){c.a.unlisten(e,X.a.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},J.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===q.a.ABORT?s=!0:n!==q.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()};var Q=J,tt=n(157),et=n(17),nt=n(15),it=n(1),rt=n(19),ot=n(119),st=n(54),at=function(t){var e=t||{},n=K.a.assign({},e);delete n.layers;var i=e.layers;ot.a.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},c.a.listen(this,Y.a.getChangeEventType(at.Property_.LAYERS),this.handleLayersChanged_,this),i?Array.isArray(i)?i=new r.a(i.slice(),{unique:!0}):(V.a.assert(i instanceof r.a,43),i=i):i=new r.a(void 0,{unique:!0}),this.setLayers(i)};i.a.inherits(at,ot.a),at.prototype.handleLayerChange_=function(){this.changed()},at.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(c.a.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(c.a.listen(e,o.a.ADD,this.handleLayersAdd_,this),c.a.listen(e,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(c.a.unlistenByKey);K.a.clear(this.listenerKeys_);var r,s,a,l=e.getArray();for(r=0,s=l.length;r<s;r++)a=l[r],this.listenerKeys_[i.a.getUid(a).toString()]=[c.a.listen(a,z.a.PROPERTYCHANGE,this.handleLayerChange_,this),c.a.listen(a,X.a.CHANGE,this.handleLayerChange_,this)];this.changed()},at.prototype.handleLayersAdd_=function(t){var e=t.element,n=i.a.getUid(e).toString();this.listenerKeys_[n]=[c.a.listen(e,z.a.PROPERTYCHANGE,this.handleLayerChange_,this),c.a.listen(e,X.a.CHANGE,this.handleLayerChange_,this)],this.changed()},at.prototype.handleLayersRemove_=function(t){var e=t.element,n=i.a.getUid(e).toString();this.listenerKeys_[n].forEach(c.a.unlistenByKey),delete this.listenerKeys_[n],this.changed()},at.prototype.getLayers=function(){return this.get(at.Property_.LAYERS)},at.prototype.setLayers=function(t){this.set(at.Property_.LAYERS,t)},at.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},at.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});var i,r,o,s=this.getLayerState();for(i=n,r=e.length;i<r;i++)(o=e[i]).opacity*=s.opacity,o.visible=o.visible&&s.visible,o.maxResolution=Math.min(o.maxResolution,s.maxResolution),o.minResolution=Math.max(o.minResolution,s.minResolution),void 0!==s.extent&&(void 0!==o.extent?o.extent=it.a.getIntersection(o.extent,s.extent):o.extent=s.extent);return e},at.prototype.getSourceState=function(){return st.a.READY},at.Property_={LAYERS:"layers"};var lt=at,ut="MAP_RENDERER",ct="LAYER_RENDERER",ht={mapRendererPlugins_:[],getMapRendererPlugins:function(){return ht.mapRendererPlugins_},layerRendererPlugins_:[],getLayerRendererPlugins:function(){return ht.layerRendererPlugins_},register:function(t,e){switch(t){case ut:ht.mapRendererPlugins_.push(e);break;case ct:ht.layerRendererPlugins_.push(e);break;default:throw new Error("Unsupported plugin type: "+t)}},registerMultiple:function(t,e){for(var n=0,i=e.length;n<i;++n)ht.register(t,e[n])}},ft=ht,pt="canvas",dt="webgl",gt=n(53),vt=n(3),mt=function(t){Y.a.call(this);var e=mt.createOptionsInternal(t);this.loadTilesWhileAnimating_=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:a.a.DEVICE_PIXEL_RATIO,this.logos_=e.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=vt.a.create(),this.pixelToCoordinateTransform_=vt.a.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(a.a.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[X.a.CLICK,X.a.DBLCLICK,X.a.MOUSEDOWN,X.a.TOUCHSTART,X.a.MSPOINTERDOWN,l.a.POINTERDOWN,X.a.MOUSEWHEEL,X.a.WHEEL],i=0,s=n.length;i<s;++i)c.a.listen(this.overlayContainerStopEvent_,n[i],R.a.stopPropagation);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new F(this,t.moveTolerance),l.a)c.a.listen(this.mapBrowserEventHandler_,l.a[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,c.a.listen(this.viewport_,X.a.WHEEL,this.handleBrowserEvent,this),c.a.listen(this.viewport_,X.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=e.controls||new r.a,this.interactions=e.interactions||new r.a,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=e.mapRendererPlugin.create(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Q(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},c.a.listen(this,Y.a.getChangeEventType(G),this.handleLayerGroupChanged_,this),c.a.listen(this,Y.a.getChangeEventType(H),this.handleViewChanged_,this),c.a.listen(this,Y.a.getChangeEventType(B),this.handleSizeChanged_,this),c.a.listen(this,Y.a.getChangeEventType(W),this.handleTargetChanged_,this),this.setProperties(e.values),this.controls.forEach(function(t){t.setMap(this)},this),c.a.listen(this.controls,o.a.ADD,function(t){t.element.setMap(this)},this),c.a.listen(this.controls,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),c.a.listen(this.interactions,o.a.ADD,function(t){t.element.setMap(this)},this),c.a.listen(this.interactions,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),c.a.listen(this.overlays_,o.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),c.a.listen(this.overlays_,o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)};i.a.inherits(mt,Y.a),mt.prototype.addControl=function(t){this.getControls().push(t)},mt.prototype.addInteraction=function(t){this.getInteractions().push(t)},mt.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},mt.prototype.addOverlay=function(t){this.getOverlays().push(t)},mt.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},mt.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),c.a.unlisten(this.viewport_,X.a.WHEEL,this.handleBrowserEvent,this),c.a.unlisten(this.viewport_,X.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(X.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),Y.a.prototype.disposeInternal.call(this)},mt.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:rt.a.TRUE;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},mt.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},mt.prototype.forEachLayerAtPixel=function(t,e,n,i,r){if(this.frameState_){var o=void 0!==n?n:null,s=void 0!==i?i:rt.a.TRUE,a=void 0!==r?r:null;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,o,s,a)}},mt.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:rt.a.TRUE,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},mt.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},mt.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n=t.changedTouches?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},mt.prototype.getTarget=function(){return this.get(W)},mt.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},mt.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?vt.a.apply(e.pixelToCoordinateTransform,t.slice()):null},mt.prototype.getControls=function(){return this.controls},mt.prototype.getOverlays=function(){return this.overlays_},mt.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},mt.prototype.getInteractions=function(){return this.interactions},mt.prototype.getLayerGroup=function(){return this.get(G)},mt.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},mt.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?vt.a.apply(e.coordinateToPixelTransform,t.slice(0,2)):null},mt.prototype.getRenderer=function(){return this.renderer_},mt.prototype.getSize=function(){return this.get(B)},mt.prototype.getView=function(){return this.get(H)},mt.prototype.getViewport=function(){return this.viewport_},mt.prototype.getOverlayContainer=function(){return this.overlayContainer_},mt.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},mt.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return $.DROP;if(!r.wantedTiles[e][t.getKey()])return $.DROP;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},mt.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new s.a(n,this,t);this.handleMapBrowserEvent(i)},mt.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e,n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(e=n.length-1;e>=0;e--){var i=n[e];if(i.getActive()&&!i.handleEvent(t))break}}},mt.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=16,i=n;if(t){var r=t.viewHints;r[et.a.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[et.a.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}var o,s,a=this.postRenderFunctions_;for(o=0,s=a.length;o<s;++o)a[o](this,t);a.length=0},mt.prototype.handleSizeChanged_=function(){this.render()},mt.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)c.a.unlistenByKey(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[c.a.listen(i,X.a.KEYDOWN,this.handleBrowserEvent,this),c.a.listen(i,X.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(X.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),nt.a.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(X.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},mt.prototype.handleTileChange_=function(){this.render()},mt.prototype.handleViewPropertyChanged_=function(){this.render()},mt.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(c.a.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(c.a.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",i.a.getUid(t)),this.viewPropertyListenerKey_=c.a.listen(t,z.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=c.a.listen(t,X.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},mt.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(c.a.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[c.a.listen(t,z.a.PROPERTYCHANGE,this.render,this),c.a.listen(t,X.a.CHANGE,this.render,this)]),this.render()},mt.prototype.isRendered=function(){return!!this.frameState_},mt.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},mt.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},mt.prototype.removeControl=function(t){return this.getControls().remove(t)},mt.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},mt.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},mt.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},mt.prototype.renderFrame_=function(t){var e,n,r,o=this.getSize(),s=this.getView(),a=it.a.createEmpty(),l=this.frameState_,u=null;if(void 0!==o&&gt.a.hasArea(o)&&s&&s.isDef()){var c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),f={};for(e=0,n=h.length;e<n;++e)f[i.a.getUid(h[e].layer)]=h[e];var p=(r=s.getState()).center,d=r.resolution/this.pixelRatio_;p[0]=Math.round(p[0]/d)*d,p[1]=Math.round(p[1]/d)*d,u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:this.focus_?this.focus_:p,index:this.frameIndex_++,layerStates:f,layerStatesArray:h,logos:K.a.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:c,wantedTiles:{}}}u&&(u.extent=it.a.getForViewAndSize(r.center,r.resolution,r.rotation,u.size,a)),this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),l&&(!this.previousExtent_||!it.a.isEmpty(this.previousExtent_)&&!it.a.equals(u.extent,this.previousExtent_))&&(this.dispatchEvent(new j.a(U.a.MOVESTART,this,l)),this.previousExtent_=it.a.createOrUpdateEmpty(this.previousExtent_)),this.previousExtent_&&!u.viewHints[et.a.ANIMATING]&&!u.viewHints[et.a.INTERACTING]&&!it.a.equals(u.extent,this.previousExtent_)&&(this.dispatchEvent(new j.a(U.a.MOVEEND,this,u)),it.a.clone(u.extent,this.previousExtent_))),this.dispatchEvent(new j.a(U.a.POSTRENDER,this,u)),setTimeout(this.handlePostRender.bind(this),0)},mt.prototype.setLayerGroup=function(t){this.set(G,t)},mt.prototype.setSize=function(t){this.set(B,t)},mt.prototype.setTarget=function(t){this.set(W,t)},mt.prototype.setView=function(t){this.set(H,t)},mt.prototype.skipFeature=function(t){var e=i.a.getUid(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},mt.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},mt.prototype.unskipFeature=function(t){var e=i.a.getUid(t).toString();delete this.skippedFeatureUids_[e],this.render()},mt.DEFAULT_RENDERER_TYPES=[pt,dt],mt.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",mt.createOptionsInternal=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o[mt.LOGO_URL]="https://openlayers.org/";else{var s=t.logo;"string"==typeof s?o[s]="":s instanceof HTMLElement?o[i.a.getUid(s).toString()]=s:s&&(V.a.assert("string"==typeof s.href,44),V.a.assert("string"==typeof s.src,45),o[s.src]=s.href)}var a,l,u=t.layers instanceof lt?t.layers:new lt({layers:t.layers});n[G]=u,n[W]=t.target,n[H]=void 0!==t.view?t.view:new tt.a,void 0!==t.renderer?(Array.isArray(t.renderer)?a=t.renderer:"string"==typeof t.renderer?a=[t.renderer]:V.a.assert(!1,46),a.indexOf("dom")>=0&&(a=a.concat(mt.DEFAULT_RENDERER_TYPES))):a=mt.DEFAULT_RENDERER_TYPES;var c,h,f,p=ft.getMapRendererPlugins();t:for(var d=0,g=a.length;d<g;++d)for(var v=a[d],m=0,y=p.length;m<y;++m){var _=p[m];if(_.handles(v)){l=_;break t}}if(!l)throw new Error("Unable to create a map renderer for types: "+a.join(", "));return void 0!==t.controls&&(Array.isArray(t.controls)?c=new r.a(t.controls.slice()):(V.a.assert(t.controls instanceof r.a,47),c=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?h=new r.a(t.interactions.slice()):(V.a.assert(t.interactions instanceof r.a,48),h=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?f=new r.a(t.overlays.slice()):(V.a.assert(t.overlays instanceof r.a,49),f=t.overlays):f=new r.a,{controls:c,interactions:h,keyboardEventTarget:e,logos:o,overlays:f,mapRendererPlugin:l,values:n}};var yt=mt,_t=n(153),xt=n(58),Et=n(33),bt=n(39),Tt=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=i):(this.label_=i,this.label_.classList.add("ol-compass"));var r=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),c.a.listen(o,X.a.CLICK,Tt.prototype.handleClick_,this);var s=n+" "+Et.a.CLASS_UNSELECTABLE+" "+Et.a.CLASS_CONTROL,a=document.createElement("div");a.className=s,a.appendChild(o);var l=e.render?e.render:Tt.render;this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,xt.a.call(this,{element:a,render:l,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Et.a.CLASS_HIDDEN)};i.a.inherits(Tt,xt.a),Tt.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},Tt.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:bt.a.easeOut}):t.setRotation(0))},Tt.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(Et.a.CLASS_HIDDEN);r||0!==n?r&&0!==n&&this.element.classList.remove(Et.a.CLASS_HIDDEN):this.element.classList.add(Et.a.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}};var wt=Tt,St=n(154),Ct={defaults:function(t){var e=t||{},n=new r.a;return(void 0===e.zoom||e.zoom)&&n.push(new St.a(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new wt(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new _t.a(e.attributionOptions)),n}},It=n(197),Rt=function(t,e,n,i){h.a.call(this),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state=i};i.a.inherits(Rt,h.a),Rt.prototype.changed=function(){this.dispatchEvent(X.a.CHANGE)},Rt.prototype.getExtent=function(){return this.extent},Rt.prototype.getImage=function(){},Rt.prototype.getPixelRatio=function(){return this.pixelRatio_},Rt.prototype.getResolution=function(){return this.resolution},Rt.prototype.getState=function(){return this.state},Rt.prototype.load=function(){};var At=Rt,Lt=n(24),kt=function(t,e,n,i,r){this.loader_=void 0!==r?r:null;var o=void 0!==r?Lt.a.IDLE:Lt.a.LOADED;At.call(this,t,e,n,o),this.canvas_=i,this.error_=null};i.a.inherits(kt,At),kt.prototype.getError=function(){return this.error_},kt.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Lt.a.ERROR):this.state=Lt.a.LOADED,this.changed()},kt.prototype.load=function(){this.state==Lt.a.IDLE&&(this.state=Lt.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},kt.prototype.getImage=function(){return this.canvas_};var Ot=kt,Dt=n(38),Pt=n(155),Mt=n(64),Nt=function(t,e,n,i,r){R.a.call(this,t),this.vectorContext=e,this.frameState=n,this.context=i,this.glContext=r};i.a.inherits(Nt,R.a);var Ft=Nt,jt=n(49),Ut=n(8),Gt=n(50),Bt=n(7),Wt=n(57),Ht=n(29),Yt=function(){};Yt.prototype.drawCustom=function(t,e,n){},Yt.prototype.drawGeometry=function(t){},Yt.prototype.setStyle=function(t){},Yt.prototype.drawCircle=function(t,e){},Yt.prototype.drawFeature=function(t,e){},Yt.prototype.drawGeometryCollection=function(t,e){},Yt.prototype.drawLineString=function(t,e){},Yt.prototype.drawMultiLineString=function(t,e){},Yt.prototype.drawMultiPoint=function(t,e){},Yt.prototype.drawMultiPolygon=function(t,e){},Yt.prototype.drawPoint=function(t,e){},Yt.prototype.drawPolygon=function(t,e){},Yt.prototype.drawText=function(t,e){},Yt.prototype.setFillStrokeStyle=function(t,e){},Yt.prototype.setImageStyle=function(t,e){},Yt.prototype.setTextStyle=function(t,e){};var zt=Yt,qt=function(t,e,n,i,r){zt.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.viewRotation_=r,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=vt.a.create()};i.a.inherits(qt,zt),qt.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Ht.a.transform2D(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var l,u,c=this.imageRotation_;for(this.imageRotateWithView_&&(c+=this.viewRotation_),l=0,u=r.length;l<u;l+=2){var h=r[l]-this.imageAnchorX_,f=r[l+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(h=Math.round(h),f=Math.round(f)),0!==c||1!=this.imageScale_){var p=h+this.imageAnchorX_,d=f+this.imageAnchorY_;vt.a.compose(s,p,d,this.imageScale_,this.imageScale_,c,-p,-d),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},qt.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Ht.a.transform2D(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var u=vt.a.compose(this.tmpLocalTransform_,a,l,this.textScale_,this.textScale_,s,-a,-l);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,a,l),this.textFillState_&&o.fillText(this.text_,a,l)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},qt.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=Ht.a.transform2D(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n},qt.prototype.drawRings_=function(t,e,n,i){var r,o;for(r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},qt.prototype.drawCircle=function(t){if(it.a.intersects(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Wt.a.transform2D(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},qt.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},qt.prototype.drawGeometry=function(t){switch(t.getType()){case Bt.a.POINT:this.drawPoint(t);break;case Bt.a.LINE_STRING:this.drawLineString(t);break;case Bt.a.POLYGON:this.drawPolygon(t);break;case Bt.a.MULTI_POINT:this.drawMultiPoint(t);break;case Bt.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Bt.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Bt.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Bt.a.CIRCLE:this.drawCircle(t)}},qt.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&it.a.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},qt.prototype.drawGeometryCollection=function(t){var e,n,i=t.getGeometriesArray();for(e=0,n=i.length;e<n;++e)this.drawGeometry(i[e])},qt.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},qt.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},qt.prototype.drawLineString=function(t){if(it.a.intersects(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},qt.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(it.a.intersects(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n,i,r=this.context_,o=t.getFlatCoordinates(),s=0,a=t.getEnds(),l=t.getStride();for(r.beginPath(),n=0,i=a.length;n<i;++n)s=this.moveToLineTo_(o,s,a[n],l,!1);r.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},qt.prototype.drawPolygon=function(t){if(it.a.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},qt.prototype.drawMultiPolygon=function(t){if(it.a.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e,n,i=this.context_,r=t.getOrientedFlatCoordinates(),o=0,s=t.getEndss(),a=t.getStride();for(i.beginPath(),e=0,n=s.length;e<n;++e){var l=s[e];o=this.drawRings_(r,o,l,a)}this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},qt.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},qt.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),a.a.CANVAS_LINE_DASH&&(k.a.equals(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,a.a.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},qt.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:Ut.a.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},qt.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Gt.a.asColorLike(n||Ut.a.defaultFillStyle)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:Ut.a.defaultLineCap,lineDash:o||Ut.a.defaultLineDash,lineDashOffset:s||Ut.a.defaultLineDashOffset,lineJoin:void 0!==a?a:Ut.a.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:Ut.a.defaultLineWidth),miterLimit:void 0!==u?u:Ut.a.defaultMiterLimit,strokeStyle:Gt.a.asColorLike(i||Ut.a.defaultStrokeStyle)}}else this.strokeState_=null},qt.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageSnapToPixel_=t.getSnapToPixel(),this.imageWidth_=r[0]}else this.image_=null},qt.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Gt.a.asColorLike(n||Ut.a.defaultFillStyle)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:Ut.a.defaultLineCap,lineDash:s||Ut.a.defaultLineDash,lineDashOffset:a||Ut.a.defaultLineDashOffset,lineJoin:void 0!==l?l:Ut.a.defaultLineJoin,lineWidth:void 0!==u?u:Ut.a.defaultLineWidth,miterLimit:void 0!==c?c:Ut.a.defaultMiterLimit,strokeStyle:Gt.a.asColorLike(r||Ut.a.defaultStrokeStyle)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),m=t.getText(),y=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:Ut.a.defaultFont,textAlign:void 0!==y?y:Ut.a.defaultTextAlign,textBaseline:void 0!==_?_:Ut.a.defaultTextBaseline},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""};var Xt=qt,Vt=n(117),Kt=function(t){Vt.a.call(this),this.layer_=t};i.a.inherits(Kt,Vt.a),Kt.prototype.forEachFeatureAtCoordinate=i.a.nullFunction,Kt.prototype.hasFeatureAtCoordinate=rt.a.FALSE,Kt.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},Kt.prototype.getLayer=function(){return this.layer_},Kt.prototype.handleImageChange_=function(t){t.target.getState()===Lt.a.LOADED&&this.renderIfReadyAndVisible()},Kt.prototype.loadImage=function(t){var e=t.getState();return e!=Lt.a.LOADED&&e!=Lt.a.ERROR&&c.a.listen(t,X.a.CHANGE,this.handleImageChange_,this),e==Lt.a.IDLE&&(t.load(),e=t.getState()),e==Lt.a.LOADED},Kt.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==st.a.READY&&this.changed()},Kt.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=i.a.getUid(t).toString();r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},Kt.prototype.updateLogos=function(t,e){var n=e.getLogo();void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(V.a.assert("string"==typeof n.href,44),V.a.assert("string"==typeof n.src,45),t.logos[n.src]=n.href))},Kt.prototype.updateUsedTiles=function(t,e,n,r){var o=i.a.getUid(e).toString(),s=n.toString();o in t?s in t[o]?t[o][s].extend(r):t[o][s]=r:(t[o]={},t[o][s]=r)},Kt.prototype.manageTilePyramid=function(t,e,n,r,o,s,a,l,u,c){var h=i.a.getUid(e).toString();h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,d,g,v,m,y=t.wantedTiles[h],_=t.tileQueue;for(m=n.getMinZoom();m<=a;++m)for(p=n.getTileRangeForExtentAndZ(s,m,p),d=n.getResolution(m),g=p.minX;g<=p.maxX;++g)for(v=p.minY;v<=p.maxY;++v)a-m<=l?((f=e.getTile(m,g,v,r,o)).getState()==q.a.IDLE&&(y[f.getKey()]=!0,_.isKeyQueued(f.getKey())||_.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),d])),void 0!==u&&u.call(c,f)):e.useTile(m,g,v,o)};var Zt=Kt,$t=function(t){Zt.call(this,t),this.renderedResolution,this.transform_=vt.a.create()};i.a.inherits($t,Zt),$t.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=it.a.getTopLeft(n),l=it.a.getTopRight(n),u=it.a.getBottomRight(n),c=it.a.getBottomLeft(n);vt.a.apply(e.coordinateToPixelTransform,a),vt.a.apply(e.coordinateToPixelTransform,l),vt.a.apply(e.coordinateToPixelTransform,u),vt.a.apply(e.coordinateToPixelTransform,c),t.save(),Ut.a.rotateAtOffset(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),Ut.a.rotateAtOffset(t,s,r/2,o/2)},$t.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;Ut.a.rotateAtOffset(e,-a,o/2,s/2);var l=void 0!==i?i:this.getTransform(n,0),u=new Xt(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new Ft(t,u,n,e,null);r.dispatchEvent(c),Ut.a.rotateAtOffset(e,a,o/2,s/2)}},$t.prototype.forEachLayerAtCoordinate=function(t,e,n,i){return this.forEachFeatureAtCoordinate(t,e,0,rt.a.TRUE,this)?n.call(i,this.getLayer(),null):void 0},$t.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(jt.a.POSTCOMPOSE,t,e,i)},$t.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(jt.a.PRECOMPOSE,t,e,n)},$t.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(jt.a.RENDER,t,e,n)},$t.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,s=i/n.resolution,a=-s,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return vt.a.compose(this.transform_,r,o,s,a,l,u,c)},$t.prototype.composeFrame=function(t,e,n){},$t.prototype.prepareFrame=function(t,e){};var Jt=$t,Qt=function(t){Jt.call(this,t),this.coordinateToCanvasPixelTransform=vt.a.create(),this.hitCanvasContext_=null};i.a.inherits(Qt,Jt),Qt.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!it.a.containsExtent(r,t.extent)&&it.a.intersects(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var l=s[4],u=s[5],c=i.width*s[0],h=i.height*s[3];n.drawImage(i,0,0,+i.width,+i.height,Math.round(l),Math.round(u),Math.round(c),Math.round(h)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},Qt.prototype.getImage=function(){},Qt.prototype.getImageTransform=function(){},Qt.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource(),a=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return s.forEachFeatureAtCoordinate(t,a,l,n,u,function(t){return i.call(r,t,o)})},Qt.prototype.forEachLayerAtCoordinate=function(t,e,n,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==i.a.nullFunction)return Jt.prototype.forEachLayerAtCoordinate.apply(this,arguments);var o=vt.a.apply(this.coordinateToCanvasPixelTransform,t.slice());Mt.a.scale(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=nt.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?n.call(r,this.getLayer(),s):void 0}};var te=Qt,ee=function(t){te.call(this,t),this.image_=null,this.imageTransform_=vt.a.create(),this.skippedFeatures_=[],this.vectorRenderer_=null};i.a.inherits(ee,te),ee.handles=function(t,e){return t===pt&&(e.getType()===Dt.a.IMAGE||e.getType()===Dt.a.VECTOR&&e.getRenderMode()===Pt.a.IMAGE)},ee.create=function(t,e){var n=new ee(e);if(e.getType()===Dt.a.VECTOR)for(var i=ft.getLayerRendererPlugins(),r=0,o=i.length;r<o;++r){var s=i[r];s!==ee&&s.handles(pt,e)&&n.setVectorRenderer(s.create(t,e))}return n},ee.prototype.getImage=function(){return this.image_?this.image_.getImage():null},ee.prototype.getImageTransform=function(){return this.imageTransform_},ee.prototype.prepareFrame=function(t,e){var n,r=t.pixelRatio,o=t.size,s=t.viewState,a=s.center,l=s.resolution,u=this.getLayer().getSource(),c=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=it.a.getIntersection(h,e.extent)),!c[et.a.ANIMATING]&&!c[et.a.INTERACTING]&&!it.a.isEmpty(h)){var f=s.projection;if(!i.a.ENABLE_RASTER_REPROJECTION){var p=u.getProjection();p&&(f=p)}var d=this.vectorRenderer_;if(d){var g=d.context,v=K.a.assign({},t,{size:[it.a.getWidth(h)/l,it.a.getHeight(h)/l],viewState:K.a.assign({},t.viewState,{rotation:0})}),m=Object.keys(v.skippedFeatureUids).sort();!d.prepareFrame(v,e)||!d.replayGroupChanged&&k.a.equals(m,this.skippedFeatures_)||(g.canvas.width=v.size[0]*r,g.canvas.height=v.size[1]*r,d.composeFrame(v,e,g),this.image_=new Ot(h,l,r,g.canvas),this.skippedFeatures_=m)}else(n=u.getImage(h,l,r,f))&&this.loadImage(n)&&(this.image_=n)}if(this.image_){var y=(n=this.image_).getExtent(),_=n.getResolution(),x=n.getPixelRatio(),E=r*_/(l*x),b=vt.a.compose(this.imageTransform_,r*o[0]/2,r*o[1]/2,E,E,0,x*(y[0]-a[0])/_,x*(a[1]-y[3])/_);vt.a.compose(this.coordinateToCanvasPixelTransform,r*o[0]/2-b[4],r*o[1]/2-b[5],r/l,-r/l,0,-a[0],-a[1]),this.updateLogos(t,u),this.renderedResolution=_*r/x}return!!this.image_},ee.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,i,r):te.prototype.forEachFeatureAtCoordinate.call(this,t,e,n,i,r)},ee.prototype.setVectorRenderer=function(t){this.vectorRenderer_=t};var ne=ee,ie=n(44),re=n(72),oe=n(158),se=function(t,e){re.a.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={}};i.a.inherits(se,re.a),se.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;vt.a.compose(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),vt.a.invert(vt.a.setFromArray(i,n))},se.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},se.expireIconCache_=function(t,e){oe.a.iconImageCache.expire()},se.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,s,a){var l,u=e.viewState,c=u.resolution;function h(t,n){var s=i.a.getUid(t).toString(),a=e.layerStates[i.a.getUid(n)].managed;if(!(s in e.skippedFeatureUids)||a)return r.call(o,t,a?n:null)}var f=u.projection,p=t;if(f.canWrapX()){var d=f.getExtent(),g=it.a.getWidth(d),v=t[0];(v<d[0]||v>d[2])&&(p=[v+g*Math.ceil((d[0]-v)/g),t[1]])}var m,y=e.layerStatesArray;for(m=y.length-1;m>=0;--m){var _=y[m],x=_.layer;if(ie.a.visibleAtResolution(_,c)&&s.call(a,x)){var E=this.getLayerRenderer(x);if(x.getSource()&&(l=E.forEachFeatureAtCoordinate(x.getSource().getWrapX()?p:t,e,n,h,o)),l)return l}}},se.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o){},se.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,rt.a.TRUE,this,i,r)},se.prototype.getLayerRenderer=function(t){var e=i.a.getUid(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=ft.getLayerRendererPlugins(),o=this.getType(),s=0,a=r.length;s<a;++s){var l=r[s];if(l.handles(o,t)){n=l.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=c.a.listen(n,X.a.CHANGE,this.handleLayerRendererChange_,this),n},se.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},se.prototype.getLayerRenderers=function(){return this.layerRenderers_},se.prototype.getMap=function(){return this.map_},se.prototype.getType=function(){},se.prototype.handleLayerRendererChange_=function(){this.map_.render()},se.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],c.a.unlistenByKey(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},se.prototype.renderFrame=i.a.nullFunction,se.prototype.removeUnusedLayerRenderers_=function(t,e){var n;for(n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},se.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(se.expireIconCache_)},se.prototype.scheduleRemoveUnusedLayerRenderers=function(t){var e;for(e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},se.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};var ae=se,le=function(t,e){ae.call(this,t,e),this.context_=nt.a.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Et.a.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=vt.a.create()};i.a.inherits(le,ae),le.handles=function(t){return t===pt},le.create=function(t,e){return new le(t,e)},le.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),l=new Xt(i,o,r,a,s),u=new Ft(t,l,e,i,null);n.dispatchEvent(u)}},le.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],l=-e.center[1];return vt.a.compose(this.transform_,n,i,r,o,s,a,l)},le.prototype.getType=function(){return pt},le.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchComposeEvent_(jt.a.PRECOMPOSE,t);var s=t.layerStatesArray;k.a.stableSort(s,ae.sortByZIndex),o&&(e.save(),Ut.a.rotateAtOffset(e,o,i/2,r/2));var a,l,u,c,h,f=t.viewState.resolution;for(a=0,l=s.length;a<l;++a)u=(h=s[a]).layer,c=this.getLayerRenderer(u),ie.a.visibleAtResolution(h,f)&&h.sourceState==st.a.READY&&c.prepareFrame(t,h)&&c.composeFrame(t,h,e);o&&e.restore(),this.dispatchComposeEvent_(jt.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},le.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o){var s,a,l=e.viewState.resolution,u=e.layerStatesArray,c=u.length,h=vt.a.apply(e.pixelToCoordinateTransform,t.slice());for(a=c-1;a>=0;--a){var f=u[a],p=f.layer;if(ie.a.visibleAtResolution(f,l)&&r.call(o,p)&&(s=this.getLayerRenderer(p).forEachLayerAtCoordinate(h,e,n,i)))return s}};var ue=le,ce=n(67),he=function(t){te.call(this,t),this.context=null===this.context?null:nt.a.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=it.a.createEmpty(),this.tmpTileRange_=new ce.a(0,0,0,0),this.imageTransform_=vt.a.create(),this.zDirection=0};i.a.inherits(he,te),he.handles=function(t,e){return t===pt&&e.getType()===Dt.a.TILE},he.create=function(t,e){return new he(e)},he.prototype.isDrawableTile_=function(t){var e=t.getState(),n=this.getLayer().getUseInterimTilesOnError();return e==q.a.LOADED||e==q.a.EMPTY||e==q.a.ERROR&&!n},he.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,o=t.viewState,s=o.projection,a=o.resolution,l=o.center,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),f=c.getTileGridForProjection(s),p=f.getZForResolution(a,this.zDirection),d=f.getResolution(p),g=Math.round(a/d)||1,v=t.extent;if(void 0!==e.extent&&(v=it.a.getIntersection(v,e.extent)),it.a.isEmpty(v))return!1;var m=f.getTileRangeForExtentAndZ(v,p),y=f.getTileRangeExtent(p,m),_=c.getTilePixelRatio(n),x={};x[p]={};var E,b,T,w=this.createLoadedTileFinder(c,s,x),S=this.tmpExtent,C=this.tmpTileRange_,I=!1;for(b=m.minX;b<=m.maxX;++b)for(T=m.minY;T<=m.maxY;++T){if((E=c.getTile(p,b,T,n,s)).getState()==q.a.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(I=!0):E.setState(q.a.LOADED)),this.isDrawableTile_(E)||(E=E.getInterimTile()),this.isDrawableTile_(E)){var R=i.a.getUid(this);if(E.getState()==q.a.LOADED){x[p][E.tileCoord.toString()]=E;var A=E.inTransition(R);I||!A&&-1!==this.renderedTiles.indexOf(E)||(I=!0)}if(1===E.getAlpha(R,t.time))continue}var L=f.getTileCoordChildTileRange(E.tileCoord,C,S),k=!1;L&&(k=w(p+1,L)),k||f.forEachTileCoordParentTileRange(E.tileCoord,w,null,C,S)}var O=d*n/_*g,D=t.viewHints,P=D[et.a.ANIMATING]||D[et.a.INTERACTING];if(!(this.renderedResolution&&Date.now()-t.time>16&&P)&&(I||!this.renderedExtent_||!it.a.containsExtent(this.renderedExtent_,v)||this.renderedRevision!=h||g!=this.oversampling_||!P&&O!=this.renderedResolution)){var M=this.context;if(M){var N=c.getTilePixelSize(p,n,s),F=Math.round(m.getWidth()*N[0]/g),j=Math.round(m.getHeight()*N[1]/g),U=M.canvas;U.width!=F||U.height!=j?(this.oversampling_=g,U.width=F,U.height=j):(this.renderedExtent_&&!it.a.equals(y,this.renderedExtent_)&&M.clearRect(0,0,F,j),g=this.oversampling_)}this.renderedTiles.length=0;var G,B,W,H,Y,z,X,V,K,Z,$=Object.keys(x).map(Number);for($.sort(function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0}),H=0,Y=$.length;H<Y;++H)for(var J in W=$[H],B=c.getTilePixelSize(W,n,s),G=f.getResolution(W)/d,X=_*c.getGutter(s),V=x[W])E=V[J],b=((z=f.getTileCoordExtent(E.getTileCoord(),S))[0]-y[0])/d*_/g,T=(y[3]-z[3])/d*_/g,K=B[0]*G/g,Z=B[1]*G/g,this.drawTileImage(E,t,e,b,T,K,Z,X,p===W),this.renderedTiles.push(E);this.renderedRevision=h,this.renderedResolution=d*n/_*g,this.renderedExtent_=y}var Q=this.renderedResolution/a,tt=vt.a.compose(this.imageTransform_,n*r[0]/2,n*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*n,(l[1]-this.renderedExtent_[3])/this.renderedResolution*n);return vt.a.compose(this.coordinateToCanvasPixelTransform,n*r[0]/2-tt[4],n*r[1]/2-tt[5],n/a,-n/a,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,c,p,m),this.manageTilePyramid(t,c,f,n,s,v,p,u.getPreload()),this.scheduleExpireCache(t,c),this.updateLogos(t,c),this.renderedTiles.length>0},he.prototype.drawTileImage=function(t,e,n,r,o,s,a,l,u){var c=t.getImage(this.getLayer());if(c){var h=i.a.getUid(this),f=u?t.getAlpha(h,e.time):1;1!==f||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(r,o,s,a);var p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,r,o,s,a),p&&this.context.restore(),1!==f?e.animate=!0:u&&t.endTransition(h)}},he.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},he.prototype.getLayer,he.prototype.getImageTransform=function(){return this.imageTransform_};var fe=he,pe=n(115),de=n.n(pe),ge=function(){};ge.prototype.getReplay=function(t,e){},ge.prototype.isEmpty=function(){};var ve=ge,me={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},ye=n(40),_e=n(86),xe={lineString:function(t,e,n,i){var r,o=t[e],s=t[e+1],a=0;for(r=e+i;r<n;r+=i){var l=t[r],u=t[r+1];a+=Math.sqrt((l-o)*(l-o)+(u-s)*(u-s)),o=l,s=u}return a},linearRing:function(t,e,n,i){var r=xe.lineString(t,e,n,i),o=t[n-i]-t[e],s=t[n-i+1]-t[e+1];return r+Math.sqrt(o*o+s*s)}},Ee=xe,be=n(11),Te={lineString:function(t,e,n,i,r,o,s,a){for(var l,u,c,h=[],f=t[e]>t[n-i],p=r.length,d=t[e],g=t[e+1],v=t[e+=i],m=t[e+1],y=0,_=Math.sqrt(Math.pow(v-d,2)+Math.pow(m-g,2)),x="",E=0,b=0;b<p;++b){u=f?p-b-1:b;var T=r.charAt(u),w=o(x=f?T+x:x+T)-E;E+=w;for(var S=s+w/2;e<n-i&&y+_<S;)d=v,g=m,v=t[e+=i],m=t[e+1],y+=_,_=Math.sqrt(Math.pow(v-d,2)+Math.pow(m-g,2));var C=S-y,I=Math.atan2(m-g,v-d);if(f&&(I+=I>0?-Math.PI:Math.PI),void 0!==c){var R=I-c;if(R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>a)return null}var A=C/_,L=be.a.lerp(d,v,A),k=be.a.lerp(g,m,A);c==I?(f&&(l[0]=L,l[1]=k,l[2]=w/2),l[4]=x):(E=w,l=[L,k,w/2,I,x=T],f?h.unshift(l):h.push(l),c=I),s+=w}return h}},we=0,Se=1,Ce=2,Ie=3,Re=4,Ae=5,Le=6,ke=7,Oe=8,De=9,Pe=10,Me=11,Ne=12,Fe={};Fe.ORDER=[me.POLYGON,me.CIRCLE,me.LINE_STRING,me.IMAGE,me.TEXT,me.DEFAULT],Fe.TEXT_ALIGN={},Fe.TEXT_ALIGN.left=0,Fe.TEXT_ALIGN.end=0,Fe.TEXT_ALIGN.center=.5,Fe.TEXT_ALIGN.right=1,Fe.TEXT_ALIGN.start=1,Fe.TEXT_ALIGN.top=0,Fe.TEXT_ALIGN.middle=.5,Fe.TEXT_ALIGN.hanging=.2,Fe.TEXT_ALIGN.alphabetic=.8,Fe.TEXT_ALIGN.ideographic=.8,Fe.TEXT_ALIGN.bottom=1;var je=Fe,Ue=function(t,e,n,i,r,o){zt.call(this),this.declutterTree=o,this.tmpExtent_=it.a.createEmpty(),this.tolerance=t,this.maxExtent=e,this.overlaps=r,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=vt.a.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0,this.tmpLocalTransform_=vt.a.create(),this.resetTransform_=vt.a.create()};i.a.inherits(Ue,zt),Ue.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.fillOrigin_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},Ue.prototype.replayImage_=function(t,e,n,i,r,o,s,a,l,u,c,h,f,p,d,g,v,m){var y=v||m,_=this.tmpLocalTransform_;e-=r*=f,n-=o*=f,p&&(e=Math.round(e),n=Math.round(n));var x,E,b,T,w=d+u>i.width?i.width-u:d,S=a+c>i.height?i.height-c:a,C=this.tmpExtent_,I=g[3]+w*f+g[1],R=g[0]+S*f+g[2],A=e-g[3],L=n-g[0];(y||0!==h)&&(x=[A,L],E=[A+I,L],b=[A+I,L+R],T=[A,L+R]);var k=null;if(0!==h){var O=e+r,D=n+o;k=vt.a.compose(_,O,D,1,1,h,-O,-D),it.a.createOrUpdateEmpty(C),it.a.extendCoordinate(C,vt.a.apply(_,x)),it.a.extendCoordinate(C,vt.a.apply(_,E)),it.a.extendCoordinate(C,vt.a.apply(_,b)),it.a.extendCoordinate(C,vt.a.apply(_,T))}else it.a.createOrUpdate(A,L,A+I,L+R,C);var P=t.canvas,M=C[0]<=P.width&&C[2]>=0&&C[1]<=P.height&&C[3]>=0;if(s){if(!M&&1==s[4])return;it.a.extend(s,C);var N=M?[t,k?k.slice(0):null,l,i,u,c,w,S,e,n,f]:null;N&&y&&N.push(v,m,x,E,b,T),s.push(N)}else M&&(y&&this.replayTextBackground_(t,x,E,b,T,v,m),Ut.a.drawImage(t,k,l,i,u,c,w,S,e,n,f))},Ue.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},Ue.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var l,u,c,h=[t[e],t[e+1]],f=[NaN,NaN],p=!0;for(l=e+i;l<n;l+=i)f[0]=t[l],f[1]=t[l+1],(c=it.a.coordinateRelationship(a,f))!==u?(p&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):c===ye.a.INTERSECTING?(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):p=!0,h[0]=f[0],h[1]=f[1],u=c;return(r&&p||l===e+i)&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),s},Ue.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],l=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},Ue.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==Bt.a.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var h=t.getEndss();a=0;for(var f=0,p=h.length;f<p;++f){var d=[];a=this.drawCustomCoordinates_(i,a,h[f],u,d),s.push(d)}this.instructions.push([Re,c,s,t,n,_e.a.coordinatesss])}else l==Bt.a.POLYGON||l==Bt.a.MULTI_LINE_STRING?(o=[],i=l==Bt.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),u,o),this.instructions.push([Re,c,o,t,n,_e.a.coordinatess])):l==Bt.a.LINE_STRING||l==Bt.a.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([Re,c,r,t,n,_e.a.coordinates])):l==Bt.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([Re,c,r,t,n]));this.endGeometry(t,e)},Ue.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[we,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[we,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},Ue.prototype.fill_=function(t){if(this.fillOrigin_){var e=vt.a.apply(this.renderedTransform_,this.fillOrigin_.slice());t.translate(e[0],e[1]),t.rotate(this.viewRotation_)}t.fill(),this.fillOrigin_&&t.setTransform.apply(t,Ut.a.resetTransform_)},Ue.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],a.a.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},Ue.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=Ut.a.drawImage,o=5,s=t.length;o<s;++o){var a=t[o];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),r.apply(void 0,a))}}t.length=5,it.a.createOrUpdateEmpty(t)}}},Ue.prototype.replay_=function(t,e,n,r,o,s){var a;this.pixelCoordinates_&&k.a.equals(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=Ht.a.transform2D(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),vt.a.setFromArray(this.renderedTransform_,e));for(var l,u,c,h,f,p,d,g,v,m=!K.a.isEmpty(n),y=0,_=r.length,x=0,E=0,b=0,T=null,w=null,S=this.coordinateCache_,C=this.viewRotation_,I={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:C},R=this.instructions!=r||this.overlaps?0:200;y<_;){var A,L,O,D=r[y];switch(D[0]){case we:A=D[1],m&&n[i.a.getUid(A).toString()]||!A.getGeometry()?y=D[2]:void 0===s||it.a.intersects(s,A.getGeometry().getExtent())?++y:y=D[2]+1;break;case Se:E>R&&(this.fill_(t),E=0),b>R&&(t.stroke(),b=0),E||b||(t.beginPath(),h=f=NaN),++y;break;case Ce:var P=a[x=D[1]],M=a[x+1],N=a[x+2]-P,F=a[x+3]-M,j=Math.sqrt(N*N+F*F);t.moveTo(P+j,M),t.arc(P,M,j,0,2*Math.PI,!0),++y;break;case Ie:t.closePath(),++y;break;case Re:x=D[1],l=D[2];var U=D[3],G=D[4],B=6==D.length?D[5]:void 0;I.geometry=U,I.feature=A,y in S||(S[y]=[]);var W=S[y];B?B(a,x,l,2,W):(W[0]=a[x],W[1]=a[x+1],W.length=2),G(W,I),++y;break;case Le:x=D[1],l=D[2],v=D[3],u=D[4],c=D[5],g=o?null:D[6];var H,Y,z,q=D[7],X=D[8],V=D[9],Z=D[10],$=D[11],J=D[12],Q=D[13],tt=D[14],et=D[15];for(D.length>16?(H=D[16],Y=D[17],z=D[18]):(H=Ut.a.defaultPadding,Y=z=!1),$&&(J+=C);x<l;x+=2)this.replayImage_(t,a[x],a[x+1],v,u,c,g,q,X,V,Z,J,Q,tt,et,H,Y?T:null,z?w:null);this.renderDeclutter_(g,A),++y;break;case Ae:var nt=D[1],rt=D[2],ot=D[3];g=o?null:D[4];var st=D[5],at=D[6],lt=D[7],ut=D[8],ct=D[9],ht=D[10],ft=D[11],pt=D[12],dt=D[13],gt=D[14],mt=Ee.lineString(a,nt,rt,2),yt=ut(pt);if(st||yt<=mt){var _t=this.textStates[dt].textAlign,xt=(mt-yt)*je.TEXT_ALIGN[_t],Et=Te.lineString(a,nt,rt,2,pt,ut,xt,lt);if(Et){var bt,Tt,wt,St,Ct;if(ht)for(bt=0,Tt=Et.length;bt<Tt;++bt)wt=(Ct=Et[bt])[4],St=this.getImage(wt,dt,"",ht),u=Ct[2]+ft,c=ot*St.height+2*(.5-ot)*ft-ct,this.replayImage_(t,Ct[0],Ct[1],St,u,c,g,St.height,1,0,0,Ct[3],gt,!1,St.width,Ut.a.defaultPadding,null,null);if(at)for(bt=0,Tt=Et.length;bt<Tt;++bt)wt=(Ct=Et[bt])[4],St=this.getImage(wt,dt,at,""),u=Ct[2],c=ot*St.height-ct,this.replayImage_(t,Ct[0],Ct[1],St,u,c,g,St.height,1,0,0,Ct[3],gt,!1,St.width,Ut.a.defaultPadding,null,null)}}this.renderDeclutter_(g,A),++y;break;case ke:if(void 0!==o){var It=o(A=D[1]);if(It)return It}++y;break;case Oe:R?E++:this.fill_(t),++y;break;case De:for(x=D[1],l=D[2],L=a[x],d=(O=a[x+1])+.5|0,(p=L+.5|0)===h&&d===f||(t.moveTo(L,O),h=p,f=d),x+=2;x<l;x+=2)p=(L=a[x])+.5|0,d=(O=a[x+1])+.5|0,x!=l-2&&p===h&&d===f||(t.lineTo(L,O),h=p,f=d);++y;break;case Pe:T=D,this.fillOrigin_=D[2],E&&(this.fill_(t),E=0,b&&(t.stroke(),b=0)),t.fillStyle=D[1],++y;break;case Me:w=D,b&&(t.stroke(),b=0),this.setStrokeStyle_(t,D),++y;break;case Ne:R?b++:t.stroke(),++y;break;default:++y}}E&&this.fill_(t),b&&t.stroke()},Ue.prototype.replay=function(t,e,n,i){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,void 0,void 0)},Ue.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,r,o)},Ue.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==ke?o=t:i==we&&(n[2]=t,k.a.reverseSubArray(this.hitDetectionInstructions,o,t),o=-1)},Ue.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Gt.a.asColorLike(i||Ut.a.defaultFillStyle)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Gt.a.asColorLike(r||Ut.a.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:Ut.a.defaultLineCap;var s=e.getLineDash();n.lineDash=s?s.slice():Ut.a.defaultLineDash;var a=e.getLineDashOffset();n.lineDashOffset=a||Ut.a.defaultLineDashOffset;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:Ut.a.defaultLineJoin;var u=e.getWidth();n.lineWidth=void 0!==u?u:Ut.a.defaultLineWidth;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:Ut.a.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},Ue.prototype.applyFill=function(t,e){var n=t.fillStyle,i=[Pe,n];if("string"!=typeof n){var r=e.getExtent();i.push([r[0],r[3]])}this.instructions.push(i)},Ue.prototype.applyStroke=function(t){this.instructions.push([Me,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio])},Ue.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(e.call(this,t,n),t.currentFillStyle=i)},Ue.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!k.a.equals(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},Ue.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[ke,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},Ue.prototype.finish=i.a.nullFunction,Ue.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=it.a.clone(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;it.a.buffer(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};var Ge=Ue,Be=function(t,e,n,i,r,o){Ge.call(this,t,e,n,i,r,o),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};i.a.inherits(Be,Ge),Be.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},Be.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Le,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([Le,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},Be.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Le,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([Le,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},Be.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},Be.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.snapToPixel_=t.getSnapToPixel(),this.width_=i[0]};var We=Be,He=function(t,e,n,i,r,o){Ge.call(this,t,e,n,i,r,o)};i.a.inherits(He,Ge),He.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[De,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},He.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Me,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[Se]);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push([Ne]),this.endGeometry(t,e)}},He.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Me,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[Se]);var o,s,a=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),c=0;for(o=0,s=a.length;o<s;++o)c=this.drawFlatCoordinates_(l,c,a[o],u);this.hitDetectionInstructions.push([Ne]),this.endGeometry(t,e)}},He.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push([Ne]),this.reverseHitDetectionInstructions(),this.state=null},He.prototype.applyStroke=function(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push([Ne]),t.lastStroke=this.coordinates.length),t.lastStroke=0,Ge.prototype.applyStroke.call(this,t),this.instructions.push([Se])};var Ye=He,ze=n(43),qe=n(114),Xe=function(t,e,n,i,r,o){Ge.call(this,t,e,n,i,r,o)};i.a.inherits(Xe,Ge),Xe.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=void 0!=r.strokeStyle,a=n.length,l=[Se];this.instructions.push(l),this.hitDetectionInstructions.push(l);for(var u=0;u<a;++u){var c=n[u],h=this.coordinates.length,f=this.appendFlatCoordinates(t,e,c,i,!0,!s),p=[De,h,f];if(this.instructions.push(p),this.hitDetectionInstructions.push(p),s){var d=[Ie];this.instructions.push(d),this.hitDetectionInstructions.push(d)}e=c}var g=[Oe];if(this.hitDetectionInstructions.push(g),o&&this.instructions.push(g),s){var v=[Ne];this.instructions.push(v),this.hitDetectionInstructions.push(v)}return e},Xe.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Pe,ze.a.asString(Ut.a.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Me,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var l=[Se],u=[Ce,a];this.instructions.push(l,u),this.hitDetectionInstructions.push(l,u);var c=[Oe];if(this.hitDetectionInstructions.push(c),void 0!==n.fillStyle&&this.instructions.push(c),void 0!==n.strokeStyle){var h=[Ne];this.instructions.push(h),this.hitDetectionInstructions.push(h)}this.endGeometry(t,e)}},Xe.prototype.drawPolygon=function(t,e){var n=this.state;this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Pe,ze.a.asString(Ut.a.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Me,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),r=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(r,0,i,o),this.endGeometry(t,e)},Xe.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Pe,ze.a.asString(Ut.a.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Me,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o,s,a=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),c=0;for(o=0,s=a.length;o<s;++o)c=this.drawFlatCoordinatess_(l,c,a[o],u);this.endGeometry(t,e)}},Xe.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t){var e,n,i=this.coordinates;for(e=0,n=i.length;e<n;++e)i[e]=qe.a.snap(i[e],t)}},Xe.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.applyFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)};var Ve=Xe,Ke={lineString:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d=n,g=n,v=0,m=0,y=n;for(o=n;o<i;o+=r){var _=e[o],x=e[o+1];void 0!==l&&(f=_-l,p=x-u,a=Math.sqrt(f*f+p*p),void 0!==c&&(m+=s,Math.acos((c*f+h*p)/(s*a))>t&&(m>v&&(v=m,d=y,g=o),m=0,y=o-r)),s=a,c=f,h=p),l=_,u=x}return(m+=a)>v?[y,o]:[d,g]}},Ze="line",$e=function(t,e,n,i,r,o){Ge.call(this,t,e,n,i,r,o),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Ut.a.labelCache.prune()};i.a.inherits($e,Ge),$e.measureTextWidths=function(t,e,n){var i,r,o=e.length,s=0;for(r=0;r<o;++r)i=Ut.a.measureTextWidth(t,e[r]),s=Math.max(s,i),n.push(i);return s},$e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,s,a=this.coordinates.length,l=t.getType(),u=null,c=2,h=2;if(r.placement===Ze){if(!it.a.intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(u=t.getFlatCoordinates(),h=t.getStride(),l==Bt.a.LINE_STRING)f=[u.length];else if(l==Bt.a.MULTI_LINE_STRING)f=t.getEnds();else if(l==Bt.a.POLYGON)f=t.getEnds().slice(0,1);else if(l==Bt.a.MULTI_POLYGON){var p=t.getEndss();for(f=[],o=0,s=p.length;o<s;++o)f.push(p[o][0])}this.beginGeometry(t,e);for(var d,g=r.textAlign,v=0,m=0,y=f.length;m<y;++m){if(void 0==g){var _=Ke.lineString(r.maxAngle,u,v,f[m],h);v=_[0],d=_[1]}else d=f[m];for(o=v;o<d;o+=h)this.coordinates.push(u[o],u[o+1]);c=this.coordinates.length,v=f[m],this.drawChars_(a,c,this.declutterGroup_),a=c}this.endGeometry(t,e)}else{var x=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),E=x.width/this.pixelRatio;switch(l){case Bt.a.POINT:case Bt.a.MULTI_POINT:c=(u=t.getFlatCoordinates()).length;break;case Bt.a.LINE_STRING:u=t.getFlatMidpoint();break;case Bt.a.CIRCLE:u=t.getCenter();break;case Bt.a.MULTI_LINE_STRING:c=(u=t.getFlatMidpoints()).length;break;case Bt.a.POLYGON:if(u=t.getFlatInteriorPoint(),!r.overflow&&u[2]/this.resolution<E)return;h=3;break;case Bt.a.MULTI_POLYGON:var b=t.getFlatInteriorPoints();for(u=[],o=0,s=b.length;o<s;o+=3)(r.overflow||b[o+2]/this.resolution>=E)&&u.push(b[o],b[o+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,h,!1,!1),this.beginGeometry(t,e),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),this.updateFillStyle(this.state,this.applyFill,t),this.updateStrokeStyle(this.state,this.applyStroke)),this.drawTextImage_(x,a,c),this.endGeometry(t,e)}}},$e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio,s=Ut.a.labelCache;if(!s.containsKey(o)){var l=i?this.strokeStates[i]||this.textStrokeState_:null,u=n?this.fillStates[n]||this.textFillState_:null,c=this.textStates[e]||this.textState_,h=this.pixelRatio,f=c.scale*h,p=je.TEXT_ALIGN[c.textAlign||Ut.a.defaultTextAlign],d=i&&l.lineWidth?l.lineWidth:0,g=t.split("\n"),v=g.length,m=[],y=$e.measureTextWidths(c.font,g,m),_=Ut.a.measureTextHeight(c.font),x=_*v,E=y+d,b=nt.a.createCanvasContext2D(Math.ceil(E*f),Math.ceil((x+d)*f));r=b.canvas,s.set(o,r),1!=f&&b.scale(f,f),b.font=c.font,i&&(b.strokeStyle=l.strokeStyle,b.lineWidth=d*(a.a.SAFARI?f:1),b.lineCap=l.lineCap,b.lineJoin=l.lineJoin,b.miterLimit=l.miterLimit,a.a.CANVAS_LINE_DASH&&l.lineDash.length&&(b.setLineDash(l.lineDash),b.lineDashOffset=l.lineDashOffset)),n&&(b.fillStyle=u.fillStyle),b.textBaseline="middle",b.textAlign="center";var T,w=.5-p,S=p*r.width/f+w*d;if(i)for(T=0;T<v;++T)b.strokeText(g[T],S+w*m[T],.5*(d+_)+T*_);if(n)for(T=0;T<v;++T)b.fillText(g[T],S+w*m[T],.5*(d+_)+T*_)}return s.get(o)},$e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=je.TEXT_ALIGN[i.textAlign||Ut.a.defaultTextAlign],a=je.TEXT_ALIGN[i.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=s*t.width/o+2*(.5-s)*l,c=a*t.height/o+2*(.5-a)*l;this.instructions.push([Le,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,t.width,i.padding==Ut.a.defaultPadding?Ut.a.defaultPadding:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([Le,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,!0,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},$e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||Ut.a.defaultTextAlign,scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=je.TEXT_ALIGN[r.textBaseline],h=this.textOffsetY_*u,f=this.text_,p=r.font,d=r.scale,g=i?i.lineWidth*d/2:0,v=this.widths_[p];v||(this.widths_[p]=v={}),this.instructions.push([Ae,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Ut.a.measureTextWidth(p,t)),e*d*u},h,s,g*u,f,a,1]),this.hitDetectionInstructions.push([Ae,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Ut.a.measureTextWidth(p,t)),e*d},h,s,g,f,a,1/u])},$e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){this.declutterGroup_=e;var s=t.getFill();s?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Gt.a.asColorLike(s.getColor()||Ut.a.defaultFillStyle)):r=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var l=a.getLineDash(),u=a.getLineDashOffset(),c=a.getWidth(),h=a.getMiterLimit();o.lineCap=a.getLineCap()||Ut.a.defaultLineCap,o.lineDash=l?l.slice():Ut.a.defaultLineDash,o.lineDashOffset=void 0===u?Ut.a.defaultLineDashOffset:u,o.lineJoin=a.getLineJoin()||Ut.a.defaultLineJoin,o.lineWidth=void 0===c?Ut.a.defaultLineWidth:c,o.miterLimit=void 0===h?Ut.a.defaultMiterLimit:h,o.strokeStyle=Gt.a.asColorLike(a.getColor()||Ut.a.defaultStrokeStyle)}else o=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||Ut.a.defaultFont;Ut.a.checkFont(f);var p=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Ut.a.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Ut.a.defaultPadding,n.scale=void 0===p?1:p;var d=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===m?0:m,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:i.a.getUid(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+i.a.getUid(r.fillStyle):""}else this.text_=""};var Je=$e,Qe=function(t,e,n,i,r,o,s){ve.call(this),this.declutterTree_=o,this.declutterGroup_=null,this.tolerance_=t,this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=s,this.replaysByZIndex_={},this.hitDetectionContext_=nt.a.createCanvasContext2D(1,1),this.hitDetectionTransform_=vt.a.create()};i.a.inherits(Qe,ve),Qe.circleArrayCache_={0:[[!0]]},Qe.fillCircleArrayRowToMiddle_=function(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0},Qe.getCircleArray_=function(t){if(void 0!==Qe.circleArrayCache_[t])return Qe.circleArrayCache_[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var r=t,o=0,s=0;r>=o;)Qe.fillCircleArrayRowToMiddle_(n,t+r,t+o),Qe.fillCircleArrayRowToMiddle_(n,t+o,t+r),Qe.fillCircleArrayRowToMiddle_(n,t-o,t+r),Qe.fillCircleArrayRowToMiddle_(n,t-r,t+o),Qe.fillCircleArrayRowToMiddle_(n,t-r,t-o),Qe.fillCircleArrayRowToMiddle_(n,t-o,t-r),Qe.fillCircleArrayRowToMiddle_(n,t+o,t-r),Qe.fillCircleArrayRowToMiddle_(n,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return Qe.circleArrayCache_[t]=n,n},Qe.replayDeclutter=function(t,e,n){for(var i=Object.keys(t).map(Number).sort(k.a.numberSafeCompareFunction),r={},o=0,s=i.length;o<s;++o)for(var a=t[i[o].toString()],l=0,u=a.length;l<u;){var c=a[l++],h=a[l++];c.replay(e,h,n,r)}},Qe.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=it.a.createEmpty()).push(1)),e},Qe.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},Qe.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},Qe.prototype.finish=function(){var t;for(t in this.replaysByZIndex_){var e,n=this.replaysByZIndex_[t];for(e in n)n[e].finish()}},Qe.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,l=2*(i=Math.round(i))+1,u=vt.a.compose(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(a=it.a.createEmpty(),it.a.extendCoordinate(a,t),it.a.buffer(a,e*(this.renderBuffer_+i),a));var h,f,p=Qe.getCircleArray_(i);function d(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var i=0;i<l;i++){var r;if(p[n][i]&&e[4*(i*l+n)+3]>0)return(!h||f!=me.IMAGE&&f!=me.TEXT||-1!==h.indexOf(t))&&(r=o(t)),r||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(h=this.declutterTree_.all().map(function(t){return t.value}));var g,v,m,y,_,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(k.a.numberSafeCompareFunction),g=x.length-1;g>=0;--g){var E=x[g].toString();for(m=this.replaysByZIndex_[E],v=je.ORDER.length-1;v>=0;--v)if(void 0!==(y=m[f=je.ORDER[v]]))if(!s||f!=me.IMAGE&&f!=me.TEXT){if(_=y.replayHitDetection(c,u,n,r,d,a))return _}else{var b=s[E];b?b.push(y,u.slice(0)):s[E]=[y,u.slice(0)]}}},Qe.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Ht.a.transform2D(s,0,8,2,t,s),s},Qe.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,Qe.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r),r},Qe.prototype.getReplays=function(){return this.replaysByZIndex_},Qe.prototype.isEmpty=function(){return K.a.isEmpty(this.replaysByZIndex_)},Qe.prototype.replay=function(t,e,n,i,r,o){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(k.a.numberSafeCompareFunction),t.save(),this.clip(t,e);var a,l,u,c,h,f,p=r||je.ORDER;for(a=0,l=s.length;a<l;++a){var d=s[a].toString();for(h=this.replaysByZIndex_[d],u=0,c=p.length;u<c;++u){var g=p[u];if(void 0!==(f=h[g]))if(!o||g!=me.IMAGE&&g!=me.TEXT)f.replay(t,e,n,i);else{var v=o[d];v?v.push(f,e.slice(0)):o[d]=[f,e.slice(0)]}}}t.restore()},Qe.BATCH_CONSTRUCTORS_={Circle:Ve,Default:Ge,Image:We,LineString:Ye,Polygon:Ve,Text:Je};var tn=Qe,en={defaultOrder:function(t,e){return i.a.getUid(t)-i.a.getUid(e)},getSquaredTolerance:function(t,e){var n=en.getTolerance(t,e);return n*n},getTolerance:function(t,e){return i.a.SIMPLIFY_TOLERANCE*t/e},renderCircleGeometry_:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),me.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),me.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},renderFeature:function(t,e,n,i,r,o){var s,a,l=!1;return(s=n.getImage())&&((a=s.getImageState())==Lt.a.LOADED||a==Lt.a.ERROR?s.unlistenImageChange(r,o):(a==Lt.a.IDLE&&s.load(),a=s.getImageState(),s.listenImageChange(r,o),l=!0)),en.renderFeature_(t,e,n,i),l},renderFeature_:function(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var o=r.getSimplifiedGeometry(i);n.getRenderer()?en.renderGeometry_(t,o,n,e):(0,en.GEOMETRY_RENDERERS_[o.getType()])(t,o,n,e)}},renderGeometry_:function(t,e,n,i){if(e.getType()!=Bt.a.GEOMETRY_COLLECTION)t.getReplay(n.getZIndex(),me.DEFAULT).drawCustom(e,i,n.getRenderer());else for(var r=e.getGeometries(),o=0,s=r.length;o<s;++o)en.renderGeometry_(t,r[o],n,i)},renderGeometryCollectionGeometry_:function(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r)(0,en.GEOMETRY_RENDERERS_[s[r].getType()])(t,s[r],n,i)},renderLineStringGeometry_:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),me.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),me.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},renderMultiLineStringGeometry_:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),me.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),me.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},renderMultiPolygonGeometry_:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),me.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),me.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},renderPointGeometry_:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Lt.a.LOADED)return;var o=t.getReplay(n.getZIndex(),me.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),me.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},renderMultiPointGeometry_:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Lt.a.LOADED)return;var o=t.getReplay(n.getZIndex(),me.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),me.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},renderPolygonGeometry_:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),me.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),me.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}}};en.GEOMETRY_RENDERERS_={Point:en.renderPointGeometry_,LineString:en.renderLineStringGeometry_,Polygon:en.renderPolygonGeometry_,MultiPoint:en.renderMultiPointGeometry_,MultiLineString:en.renderMultiLineStringGeometry_,MultiPolygon:en.renderMultiPolygonGeometry_,GeometryCollection:en.renderGeometryCollectionGeometry_,Circle:en.renderCircleGeometry_};var nn=en,rn=function(t){Jt.call(this,t),this.declutterTree_=t.getDeclutter()?de()(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=it.a.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=nt.a.createCanvasContext2D(),c.a.listen(Ut.a.labelCache,X.a.CLEAR,this.handleFontsChanged_,this)};i.a.inherits(rn,Jt),rn.handles=function(t,e){return t===pt&&e.getType()===Dt.a.VECTOR},rn.create=function(t,e){return new rn(e)},rn.prototype.disposeInternal=function(){c.a.unlisten(Ut.a.labelCache,X.a.CLEAR,this.handleFontsChanged_,this),Jt.prototype.disposeInternal.call(this)},rn.prototype.composeFrame=function(t,e,n){var i=t.extent,r=t.pixelRatio,o=e.managed?t.skippedFeatureUids:{},s=t.viewState,a=s.projection,l=s.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(t,0);this.preCompose(n,t,h);var f=e.extent,p=void 0!==f;p&&this.clip(n,t,f);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,v=this.getLayer(),m=0,y=0,_=1!==e.opacity,x=v.hasListener(jt.a.RENDER);if(_||x){var E=n.canvas.width,b=n.canvas.height;if(l){var T=Math.round(Math.sqrt(E*E+b*b));m=(T-E)/2,y=(T-b)/2,E=b=T}this.context.canvas.width=E,this.context.canvas.height=b,g=this.context}else g=n;var w=g.globalAlpha;_||(g.globalAlpha=e.opacity),g!=n&&g.translate(m,y);var S=t.size[0]*r,C=t.size[1]*r;if(Ut.a.rotateAtOffset(g,-l,S/2,C/2),d.replay(g,h,l,o),c.getWrapX()&&a.canWrapX()&&!it.a.containsExtent(u,i)){for(var I,R=i[0],A=it.a.getWidth(u),L=0;R<u[0];)I=A*--L,h=this.getTransform(t,I),d.replay(g,h,l,o),R+=A;for(L=0,R=i[2];R>u[2];)I=A*++L,h=this.getTransform(t,I),d.replay(g,h,l,o),R-=A;h=this.getTransform(t,0)}if(Ut.a.rotateAtOffset(g,l,S/2,C/2),g!=n){if(x&&this.dispatchRenderEvent(g,t,h),_){var k=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(g.canvas,-m,-y),n.globalAlpha=k}else n.drawImage(g.canvas,-m,-y);g.translate(-m,-y)}_||(g.globalAlpha=w)}p&&n.restore(),this.postCompose(n,t,e,h)},rn.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,n,{},function(t){var e=i.a.getUid(t).toString();if(!(e in u))return u[e]=!0,r.call(o,t,l)},null)}},rn.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},rn.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},rn.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource();this.updateLogos(t,i);var r=t.viewHints[et.a.ANIMATING],o=t.viewHints[et.a.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var l=t.extent,u=t.viewState,c=u.projection,h=u.resolution,f=t.pixelRatio,p=n.getRevision(),d=n.getRenderBuffer(),g=n.getRenderOrder();void 0===g&&(g=nn.defaultOrder);var v=it.a.buffer(l,d*h),m=u.projection.getExtent();if(i.getWrapX()&&u.projection.canWrapX()&&!it.a.containsExtent(m,t.extent)){var y=it.a.getWidth(m),_=Math.max(it.a.getWidth(v)/2,y);v[0]=m[0]-_,v[2]=m[2]+_}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==g&&it.a.containsExtent(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var x=new tn(nn.getTolerance(h,f),v,h,f,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(v,h,c);var E=function(t){var e,i=t.getStyleFunction();if(i?e=i.call(t,h):(i=n.getStyleFunction())&&(e=i(t,h)),e){var r=this.renderFeature(t,h,f,e,x);this.dirty_=this.dirty_||r}}.bind(this);if(g){var b=[];i.forEachFeatureInExtent(v,function(t){b.push(t)},this),b.sort(g);for(var T=0,w=b.length;T<w;++T)E(b[T])}else i.forEachFeatureInExtent(v,E,this);return x.finish(),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=g,this.renderedExtent_=v,this.replayGroup_=x,this.replayGroupChanged=!0,!0},rn.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=nn.renderFeature(r,t,i[s],nn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=nn.renderFeature(r,t,i,nn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this);return o};var on=rn,sn="vector",an=n(20),ln=n(42),un=function(t){this.context=null,fe.call(this,t),this.declutterTree_=t.getDeclutter()?de()(9):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=vt.a.create(),this.zDirection=t.getRenderMode()==sn?1:0,c.a.listen(Ut.a.labelCache,X.a.CLEAR,this.handleFontsChanged_,this)};i.a.inherits(un,fe),un.handles=function(t,e){return t===pt&&e.getType()===Dt.a.VECTOR_TILE},un.create=function(t,e){return new un(e)},un.IMAGE_REPLAYS={image:[me.POLYGON,me.CIRCLE,me.LINE_STRING,me.IMAGE,me.TEXT],hybrid:[me.POLYGON,me.LINE_STRING]},un.VECTOR_REPLAYS={image:[me.DEFAULT],hybrid:[me.IMAGE,me.TEXT,me.DEFAULT],vector:je.ORDER},un.prototype.disposeInternal=function(){c.a.unlisten(Ut.a.labelCache,X.a.CLEAR,this.handleFontsChanged_,this),fe.prototype.disposeInternal.call(this)},un.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getRevision();if(this.renderedLayerRevision_!=i){this.renderedTiles.length=0;var r=n.getRenderMode();this.context||r==sn||(this.context=nt.a.createCanvasContext2D()),this.context&&r==sn&&(this.context=null)}return this.renderedLayerRevision_=i,fe.prototype.prepareFrame.apply(this,arguments)},un.prototype.createReplayGroup_=function(t,e){var n=this.getLayer(),i=e.pixelRatio,r=e.viewState.projection,o=n.getRevision(),s=n.getRenderOrder()||null,a=t.getReplayState(n);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var l=n.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(r),h=c.getResolution(t.tileCoord[0]),f=c.getTileCoordExtent(t.wrappedTileCoord),p={},d=0,g=t.tileKeys.length;d<g;++d){var v=t.getTile(t.tileKeys[d]);if(v.getState()!=q.a.ERROR){var m=v.tileCoord,y=u.getTileCoordExtent(m),_=it.a.getIntersection(f,y),x=it.a.equals(y,_)?null:it.a.buffer(_,n.getRenderBuffer()*h),E=v.getProjection(),b=!1;an.a.equivalent(r,E)||(b=!0,v.setProjection(r)),a.dirty=!1;var T,w=new tn(0,_,h,i,l.getOverlaps(),this.declutterTree_,n.getRenderBuffer()),S=nn.getSquaredTolerance(h,i),C=function(t){var e,i=t.getStyleFunction();if(i?e=i.call(t,h):(i=n.getStyleFunction())&&(e=i(t,h)),e){var r=this.renderFeature(t,S,e,w);this.dirty_=this.dirty_||r,a.dirty=a.dirty||r}},I=v.getFeatures();s&&s!==a.renderedRenderOrder&&I.sort(s);for(var R=0,A=I.length;R<A;++R)T=I[R],b&&(E.getUnits()==ln.a.TILE_PIXELS&&(E.setWorldExtent(y),E.setExtent(v.getExtent())),T.getGeometry().transform(E,r)),x&&!it.a.intersects(x,T.getGeometry().getExtent())||C.call(this,T);for(var L in w.finish(),w.getReplays())p[L]=!0;v.setReplayGroup(n,t.tileCoord.toString(),w)}}a.renderedRevision=o,a.renderedRenderOrder=s}},un.prototype.drawTileImage=function(t,e,n,i,r,o,s,a,l){var u=t;this.createReplayGroup_(u,e),this.context&&(this.renderTileImage_(u,e,n),fe.prototype.drawTileImage.apply(this,arguments))},un.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var s=e.viewState.resolution,a=e.viewState.rotation;n=void 0==n?0:n;var l,u,c,h,f,p,d,g,v=this.getLayer(),m={},y=this.renderedTiles,_=v.getSource().getTileGridForProjection(e.viewState.projection);for(c=0,h=y.length;c<h;++c)if(d=(p=y[c]).wrappedTileCoord,g=_.getTileCoordExtent(d,this.tmpExtent),l=it.a.buffer(g,n*s,l),it.a.containsCoordinate(l,t))for(var x=0,E=p.tileKeys.length;x<E;++x){var b=p.getTile(p.tileKeys[x]);b.getState()!=q.a.ERROR&&(f=b.getReplayGroup(v,p.tileCoord.toString()),u=u||f.forEachFeatureAtCoordinate(t,s,a,n,{},function(t){var e=i.a.getUid(t).toString();if(!(e in m))return m[e]=!0,r.call(o,t,v)},null))}return u},un.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,l=n.getTileCoordExtent(i,this.tmpExtent),u=o.center,c=it.a.getTopLeft(l),h=e.size,f=Math.round(s*h[0]/2),p=Math.round(s*h[1]/2);return vt.a.compose(this.tmpTransform_,f,p,r/a,r/a,o.rotation,(c[0]-u[0])/r,(u[1]-c[1])/r)},un.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},un.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},un.prototype.postCompose=function(t,e,n){var i,r,o=this.getLayer(),s=o.getDeclutter()?{}:null,a=o.getSource(),l=o.getRenderMode(),u=un.VECTOR_REPLAYS[l],c=e.pixelRatio,h=e.viewState.rotation,f=e.size;h&&(i=Math.round(c*f[0]/2),r=Math.round(c*f[1]/2),Ut.a.rotateAtOffset(t,-h,i,r)),s&&this.declutterTree_.clear();for(var p=this.renderedTiles,d=a.getTileGridForProjection(e.viewState.projection),g=[],v=[],m=p.length-1;m>=0;--m){var y=p[m];if(y.getState()!=q.a.ABORT)for(var _=y.tileCoord,x=d.getTileCoordExtent(_)[0]-d.getTileCoordExtent(y.wrappedTileCoord)[0],E=void 0,b=0,T=y.tileKeys.length;b<T;++b){var w=y.getTile(y.tileKeys[b]);if(w.getState()!=q.a.ERROR){var S=w.getReplayGroup(o,_.toString());if(l==sn||S.hasReplays(u)){E||(E=this.getTransform(e,x));var C=w.tileCoord[0],I=S.getClipCoords(E);t.save(),t.globalAlpha=n.opacity;for(var R=0,A=g.length;R<A;++R){var L=g[R];C<v[R]&&(t.beginPath(),t.moveTo(I[0],I[1]),t.lineTo(I[2],I[3]),t.lineTo(I[4],I[5]),t.lineTo(I[6],I[7]),t.moveTo(L[6],L[7]),t.lineTo(L[4],L[5]),t.lineTo(L[2],L[3]),t.lineTo(L[0],L[1]),t.clip())}S.replay(t,E,h,{},u,s),t.restore(),g.push(I),v.push(C)}}}}s&&tn.replayDeclutter(s,t,h),h&&Ut.a.rotateAtOffset(t,h,i,r),fe.prototype.postCompose.apply(this,arguments)},un.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=nn.renderFeature(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=nn.renderFeature(i,t,n,e,this.handleStyleImageChange_,this);return r},un.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=un.IMAGE_REPLAYS[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,l=a[0],u=e.pixelRatio,c=i.getSource(),h=c.getTileGridForProjection(e.viewState.projection),f=h.getResolution(l),p=t.getContext(i),d=c.getTilePixelSize(l,u,e.viewState.projection);p.canvas.width=d[0],p.canvas.height=d[1];for(var g=h.getTileCoordExtent(a),v=0,m=t.tileKeys.length;v<m;++v){var y=t.getTile(t.tileKeys[v]);if(y.getState()!=q.a.ERROR){var _=u/f,x=vt.a.reset(this.tmpTransform_);vt.a.scale(x,_,-_),vt.a.translate(x,-g[0],-g[3]),y.getReplayGroup(i,t.tileCoord.toString()).replay(p,x,0,{},s)}}}};var cn=un,hn=n(4),fn=function(t){this.source_=t};fn.prototype.getType=function(){},fn.prototype.getSource=function(){return this.source_},fn.prototype.isAnimated=rt.a.FALSE;var pn=fn,dn=function(t){pn.call(this,t)};i.a.inherits(dn,pn),dn.prototype.getType=function(){return hn.a.FRAGMENT_SHADER};var gn=dn,vn=function(t){pn.call(this,t)};i.a.inherits(vn,pn),vn.prototype.getType=function(){return hn.a.VERTEX_SHADER};var mn=vn,yn={};yn.fragment=new gn(i.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),yn.vertex=new mn(i.a.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");var _n=yn,xn=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_size":"p"),this.a_position=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_radius":"g")},En={create:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},fromTransform:function(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}},bn=function(t,e){zt.call(this),this.tolerance=t,this.maxExtent=e,this.origin=it.a.getCenter(e),this.projectionMatrix_=vt.a.create(),this.offsetRotateMatrix_=vt.a.create(),this.offsetScaleMatrix_=vt.a.create(),this.tmpMat4_=En.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};i.a.inherits(bn,zt),bn.prototype.getDeleteResourcesFunction=function(t){},bn.prototype.finish=function(t){},bn.prototype.setUpProgram=function(t,e,n,i){},bn.prototype.shutDownProgram=function(t,e){},bn.prototype.drawReplay=function(t,e,n,i){},bn.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,r){},bn.prototype.drawHitDetectionReplay=function(t,e,n,i,r,o){return r?this.drawHitDetectionReplayOneByOne(t,e,n,i,o):this.drawHitDetectionReplayAll(t,e,n,i)},bn.prototype.drawHitDetectionReplayAll=function(t,e,n,i){return t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0),i(null)||void 0},bn.prototype.replay=function(t,e,n,i,r,o,s,a,l,u,c){var h,f,p,d,g,v,m,y,_=t.getGL();this.lineStringReplay&&(h=_.isEnabled(_.STENCIL_TEST),f=_.getParameter(_.STENCIL_FUNC),p=_.getParameter(_.STENCIL_VALUE_MASK),d=_.getParameter(_.STENCIL_REF),g=_.getParameter(_.STENCIL_WRITEMASK),v=_.getParameter(_.STENCIL_FAIL),m=_.getParameter(_.STENCIL_PASS_DEPTH_PASS),y=_.getParameter(_.STENCIL_PASS_DEPTH_FAIL),_.enable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilMask(255),_.stencilFunc(_.ALWAYS,1,255),_.stencilOp(_.KEEP,_.KEEP,_.REPLACE),this.lineStringReplay.replay(t,e,n,i,r,o,s,a,l,u,c),_.stencilMask(0),_.stencilFunc(_.NOTEQUAL,1,255)),t.bindBuffer(hn.a.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(hn.a.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var x=this.setUpProgram(_,t,r,o),E=vt.a.reset(this.projectionMatrix_);vt.a.scale(E,2/(n*r[0]),2/(n*r[1])),vt.a.rotate(E,-i),vt.a.translate(E,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var b=vt.a.reset(this.offsetScaleMatrix_);vt.a.scale(b,2/r[0],2/r[1]);var T,w=vt.a.reset(this.offsetRotateMatrix_);return 0!==i&&vt.a.rotate(w,-i),_.uniformMatrix4fv(x.u_projectionMatrix,!1,En.fromTransform(this.tmpMat4_,E)),_.uniformMatrix4fv(x.u_offsetScaleMatrix,!1,En.fromTransform(this.tmpMat4_,b)),_.uniformMatrix4fv(x.u_offsetRotateMatrix,!1,En.fromTransform(this.tmpMat4_,w)),_.uniform1f(x.u_opacity,s),void 0===l?this.drawReplay(_,t,a,!1):T=this.drawHitDetectionReplay(_,t,a,l,u,c),this.shutDownProgram(_,x),this.lineStringReplay&&(h||_.disable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilFunc(f,d,p),_.stencilMask(g),_.stencilOp(v,y,m)),T},bn.prototype.drawElements=function(t,e,n,i){var r=e.hasOESElementIndexUint?hn.a.UNSIGNED_INT:hn.a.UNSIGNED_SHORT,o=i-n,s=n*(e.hasOESElementIndexUint?4:2);t.drawElements(hn.a.TRIANGLES,o,r,s)};var Tn=bn,wn={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:.5,defaultTextBaseline:.5,defaultLineWidth:1,triangleIsCounterClockwise:function(t,e,n,i,r,o){var s=(n-t)*(o-e)-(r-t)*(i-e);return s<=wn.EPSILON&&s>=-wn.EPSILON?void 0:s>0}};wn.EPSILON=Number.EPSILON||2.220446049250313e-16;var Sn=wn,Cn=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:Cn.Usage_.STATIC_DRAW};Cn.prototype.getArray=function(){return this.arr_},Cn.prototype.getUsage=function(){return this.usage_},Cn.Usage_={STATIC_DRAW:hn.a.STATIC_DRAW,STREAM_DRAW:hn.a.STREAM_DRAW,DYNAMIC_DRAW:hn.a.DYNAMIC_DRAW};var In=Cn,Rn=function(t,e){Tn.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};i.a.inherits(Rn,Tn),Rn.prototype.drawCoordinates_=function(t,e,n,i){var r,o,s=this.vertices.length,a=this.indices.length,l=s/4;for(r=e,o=n;r<o;r+=i)this.vertices[s++]=t[r],this.vertices[s++]=t[r+1],this.vertices[s++]=0,this.vertices[s++]=this.radius_,this.vertices[s++]=t[r],this.vertices[s++]=t[r+1],this.vertices[s++]=1,this.vertices[s++]=this.radius_,this.vertices[s++]=t[r],this.vertices[s++]=t[r+1],this.vertices[s++]=2,this.vertices[s++]=this.radius_,this.vertices[s++]=t[r],this.vertices[s++]=t[r+1],this.vertices[s++]=3,this.vertices[s++]=this.radius_,this.indices[a++]=l,this.indices[a++]=l+1,this.indices[a++]=l+2,this.indices[a++]=l+2,this.indices[a++]=l+3,this.indices[a++]=l,l+=4},Rn.prototype.drawCircle=function(t,e){var n=t.getRadius(),i=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var r=t.getFlatCoordinates();r=Ht.a.translate(r,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},Rn.prototype.finish=function(t){this.verticesBuffer=new In(this.vertices),this.indicesBuffer=new In(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Rn.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Rn.prototype.setUpProgram=function(t,e,n,i){var r,o;r=_n.fragment,o=_n.vertex;var s,a=e.getProgram(r,o);return this.defaultLocations_?s=this.defaultLocations_:(s=new xn(t,a),this.defaultLocations_=s),e.useProgram(a),t.enableVertexAttribArray(s.a_position),t.vertexAttribPointer(s.a_position,2,hn.a.FLOAT,!1,16,0),t.enableVertexAttribArray(s.a_instruction),t.vertexAttribPointer(s.a_instruction,1,hn.a.FLOAT,!1,16,8),t.enableVertexAttribArray(s.a_radius),t.vertexAttribPointer(s.a_radius,1,hn.a.FLOAT,!1,16,12),t.uniform2fv(s.u_size,n),t.uniform1f(s.u_pixelRatio,i),s},Rn.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},Rn.prototype.drawReplay=function(t,e,n,i){var r,o,s,a;if(K.a.isEmpty(n))for(s=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],a=this.styles_[r],this.setFillStyle_(t,a[0]),this.setStrokeStyle_(t,a[1],a[2]),this.drawElements(t,e,o,s),s=o;else this.drawReplaySkipping_(t,e,n)},Rn.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,o){var s,a,l,u,c,h,f;for(f=this.startIndices.length-2,l=this.startIndices[f+1],s=this.styleIndices_.length-1;s>=0;--s)for(u=this.styles_[s],this.setFillStyle_(t,u[0]),this.setStrokeStyle_(t,u[1],u[2]),c=this.styleIndices_[s];f>=0&&this.startIndices[f]>=c;){if(a=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[i.a.getUid(h).toString()]&&h.getGeometry()&&(void 0===o||it.a.intersects(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,l);var p=r(h);if(p)return p}f--,l=a}},Rn.prototype.drawReplaySkipping_=function(t,e,n){var r,o,s,a,l,u,c,h;for(c=this.startIndices.length-2,s=o=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a[0]),this.setStrokeStyle_(t,a[1],a[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)h=this.startIndices[c],u=this.startIndicesFeature[c],n[i.a.getUid(u).toString()]&&(o!==s&&this.drawElements(t,e,o,s),s=h),c--,o=h;o!==s&&this.drawElements(t,e,o,s),o=s=l}},Rn.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},Rn.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},Rn.prototype.setFillStrokeStyle=function(t,e){var n,i;if(e){var r=e.getLineDash();this.state_.lineDash=r||Sn.defaultLineDash;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||Sn.defaultLineDashOffset,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?Sn.defaultStrokeStyle:ze.a.asArray(n).map(function(t,e){return 3!=e?t/255:t})||Sn.defaultStrokeStyle,i=void 0!==(i=e.getWidth())?i:Sn.defaultLineWidth}else n=[0,0,0,0],i=0;var s=t?t.getColor():[0,0,0,0];s=s instanceof CanvasGradient||s instanceof CanvasPattern?Sn.defaultFillStyle:ze.a.asArray(s).map(function(t,e){return 3!=e?t/255:t})||Sn.defaultFillStyle,this.state_.strokeColor&&k.a.equals(this.state_.strokeColor,n)&&this.state_.fillColor&&k.a.equals(this.state_.fillColor,s)&&this.state_.lineWidth===i||(this.state_.changed=!0,this.state_.fillColor=s,this.state_.strokeColor=n,this.state_.lineWidth=i,this.styles_.push([s,n,i]))};var An=Rn,Ln={};Ln.fragment=new gn(i.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Ln.vertex=new mn(i.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");var kn=Ln,On=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_image":"l"),this.a_position=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_rotateWithView":"g")},Dn="webglcontextlost",Pn="webglcontextrestored",Mn=function(t,e){this.canvas_=t,this.gl_=e,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=k.a.includes(i.a.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&e.getExtension("OES_element_index_uint"),c.a.listen(this.canvas_,Dn,this.handleWebGLContextLost,this),c.a.listen(this.canvas_,Pn,this.handleWebGLContextRestored,this)};i.a.inherits(Mn,re.a),Mn.prototype.bindBuffer=function(t,e){var n=this.getGL(),r=e.getArray(),o=String(i.a.getUid(e));if(o in this.bufferCache_){var s=this.bufferCache_[o];n.bindBuffer(t,s.buffer)}else{var a,l=n.createBuffer();n.bindBuffer(t,l),t==hn.a.ARRAY_BUFFER?a=new Float32Array(r):t==hn.a.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),n.bufferData(t,a,e.getUsage()),this.bufferCache_[o]={buf:e,buffer:l}}},Mn.prototype.deleteBuffer=function(t){var e=this.getGL(),n=String(i.a.getUid(t)),r=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(r.buffer),delete this.bufferCache_[n]},Mn.prototype.disposeInternal=function(){c.a.unlistenAll(this.canvas_);var t=this.getGL();if(!t.isContextLost()){var e;for(e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(e in this.programCache_)t.deleteProgram(this.programCache_[e]);for(e in this.shaderCache_)t.deleteShader(this.shaderCache_[e]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},Mn.prototype.getCanvas=function(){return this.canvas_},Mn.prototype.getGL=function(){return this.gl_},Mn.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},Mn.prototype.getShader=function(t){var e=String(i.a.getUid(t));if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),r=n.createShader(t.getType());return n.shaderSource(r,t.getSource()),n.compileShader(r),this.shaderCache_[e]=r,r},Mn.prototype.getProgram=function(t,e){var n=i.a.getUid(t)+"/"+i.a.getUid(e);if(n in this.programCache_)return this.programCache_[n];var r=this.getGL(),o=r.createProgram();return r.attachShader(o,this.getShader(t)),r.attachShader(o,this.getShader(e)),r.linkProgram(o),this.programCache_[n]=o,o},Mn.prototype.handleWebGLContextLost=function(){K.a.clear(this.bufferCache_),K.a.clear(this.shaderCache_),K.a.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},Mn.prototype.handleWebGLContextRestored=function(){},Mn.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=Mn.createEmptyTexture(t,1,1),i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=i},Mn.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},Mn.createTexture_=function(t,e,n){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_WRAP_T,n),i},Mn.createEmptyTexture=function(t,e,n,i,r){var o=Mn.createTexture_(t,i,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o},Mn.createTexture=function(t,e,n,i){var r=Mn.createTexture_(t,n,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),r};var Nn=Mn,Fn=function(t,e){Tn.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};i.a.inherits(Fn,Tn),Fn.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,i=this.getTextures(!0),r=t.getGL();return function(){var o,s;if(!r.isContextLost())for(o=0,s=i.length;o<s;++o)r.deleteTexture(i[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},Fn.prototype.drawCoordinates=function(t,e,n,i){var r,o,s,a,l,u,c=this.anchorX,h=this.anchorY,f=this.height,p=this.imageHeight,d=this.imageWidth,g=this.opacity,v=this.originX,m=this.originY,y=this.rotateWithView?1:0,_=-this.rotation,x=this.scale,E=this.width,b=Math.cos(_),T=Math.sin(_),w=this.indices.length,S=this.vertices.length;for(r=e;r<n;r+=i)l=t[r]-this.origin[0],u=t[r+1]-this.origin[1],o=S/8,s=-x*c,a=-x*(f-h),this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=s*b-a*T,this.vertices[S++]=s*T+a*b,this.vertices[S++]=v/d,this.vertices[S++]=(m+f)/p,this.vertices[S++]=g,this.vertices[S++]=y,s=x*(E-c),a=-x*(f-h),this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=s*b-a*T,this.vertices[S++]=s*T+a*b,this.vertices[S++]=(v+E)/d,this.vertices[S++]=(m+f)/p,this.vertices[S++]=g,this.vertices[S++]=y,s=x*(E-c),a=x*h,this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=s*b-a*T,this.vertices[S++]=s*T+a*b,this.vertices[S++]=(v+E)/d,this.vertices[S++]=m/p,this.vertices[S++]=g,this.vertices[S++]=y,s=-x*c,a=x*h,this.vertices[S++]=l,this.vertices[S++]=u,this.vertices[S++]=s*b-a*T,this.vertices[S++]=s*T+a*b,this.vertices[S++]=v/d,this.vertices[S++]=m/p,this.vertices[S++]=g,this.vertices[S++]=y,this.indices[w++]=o,this.indices[w++]=o+1,this.indices[w++]=o+2,this.indices[w++]=o,this.indices[w++]=o+2,this.indices[w++]=o+3;return S},Fn.prototype.createTextures=function(t,e,n,r){var o,s,a,l,u=e.length;for(l=0;l<u;++l)s=e[l],(a=i.a.getUid(s).toString())in n?o=n[a]:(o=Nn.createTexture(r,s,hn.a.CLAMP_TO_EDGE,hn.a.CLAMP_TO_EDGE),n[a]=o),t[l]=o},Fn.prototype.setUpProgram=function(t,e,n,i){var r,o=kn.fragment,s=kn.vertex,a=e.getProgram(o,s);return this.defaultLocations?r=this.defaultLocations:(r=new On(t,a),this.defaultLocations=r),e.useProgram(a),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,hn.a.FLOAT,!1,32,0),t.enableVertexAttribArray(r.a_offsets),t.vertexAttribPointer(r.a_offsets,2,hn.a.FLOAT,!1,32,8),t.enableVertexAttribArray(r.a_texCoord),t.vertexAttribPointer(r.a_texCoord,2,hn.a.FLOAT,!1,32,16),t.enableVertexAttribArray(r.a_opacity),t.vertexAttribPointer(r.a_opacity,1,hn.a.FLOAT,!1,32,24),t.enableVertexAttribArray(r.a_rotateWithView),t.vertexAttribPointer(r.a_rotateWithView,1,hn.a.FLOAT,!1,32,28),r},Fn.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},Fn.prototype.drawReplay=function(t,e,n,i){var r,o,s,a=i?this.getHitDetectionTextures():this.getTextures(),l=i?this.hitDetectionGroupIndices:this.groupIndices;if(K.a.isEmpty(n))for(r=0,o=a.length,s=0;r<o;++r){t.bindTexture(hn.a.TEXTURE_2D,a[r]);var u=l[r];this.drawElements(t,e,s,u),s=u}else this.drawReplaySkipping(t,e,n,a,l)},Fn.prototype.drawReplaySkipping=function(t,e,n,r,o){var s,a,l=0;for(s=0,a=r.length;s<a;++s){t.bindTexture(hn.a.TEXTURE_2D,r[s]);for(var u=s>0?o[s-1]:0,c=o[s],h=u,f=u;l<this.startIndices.length&&this.startIndices[l]<=c;){var p=this.startIndicesFeature[l];void 0!==n[i.a.getUid(p).toString()]?(h!==f&&this.drawElements(t,e,h,f),f=h=l===this.startIndices.length-1?c:this.startIndices[l+1]):f=l===this.startIndices.length-1?c:this.startIndices[l+1],l++}h!==f&&this.drawElements(t,e,h,f)}},Fn.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,o){var s,a,l,u,c,h=this.startIndices.length-1,f=this.getHitDetectionTextures();for(s=f.length-1;s>=0;--s)for(t.bindTexture(hn.a.TEXTURE_2D,f[s]),a=s>0?this.hitDetectionGroupIndices[s-1]:0,u=this.hitDetectionGroupIndices[s];h>=0&&this.startIndices[h]>=a;){if(l=this.startIndices[h],c=this.startIndicesFeature[h],void 0===n[i.a.getUid(c).toString()]&&c.getGeometry()&&(void 0===o||it.a.intersects(o,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=r(c);if(p)return p}u=l,h--}},Fn.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},Fn.prototype.getTextures=function(t){},Fn.prototype.getHitDetectionTextures=function(){};var jn=Fn,Un=function(t,e){jn.call(this,t,e),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};i.a.inherits(Un,jn),Un.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(n,0,n.length,i)},Un.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(n,0,n.length,i)},Un.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new In(this.vertices);var n=this.indices;this.indicesBuffer=new In(n);var i={};this.createTextures(this.textures_,this.images_,i,e),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,i,e),this.images_=null,this.hitDetectionImages_=null,jn.prototype.finish.call(this,t)},Un.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),r=t.getImage(1),o=t.getImageSize(),s=t.getHitDetectionImage(1),a=t.getOpacity(),l=t.getOrigin(),u=t.getRotateWithView(),c=t.getRotation(),h=t.getSize(),f=t.getScale();0===this.images_.length?this.images_.push(r):(e=this.images_[this.images_.length-1],i.a.getUid(e)!=i.a.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(s):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],i.a.getUid(e)!=i.a.getUid(s)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(s))),this.anchorX=n[0],this.anchorY=n[1],this.height=h[1],this.imageHeight=o[1],this.imageWidth=o[0],this.opacity=a,this.originX=l[0],this.originY=l[1],this.rotation=c,this.rotateWithView=u,this.scale=f,this.width=h[0]},Un.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},Un.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};var Gn=Un,Bn=n(75),Wn=n(112),Hn={lineStringIsClosed:function(t,e,n,i){var r=n-i;return t[e]===t[r]&&t[e+1]===t[r+1]&&(n-e)/i>3&&!!Wn.a.linearRing(t,e,n,i)}},Yn={};Yn.fragment=new gn(i.a.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Yn.vertex=new mn(i.a.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");var zn=Yn,qn=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_color":"n"),this.u_size=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_direction":"g")},Xn=function(t,e){Tn.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};i.a.inherits(Xn,Tn),Xn.prototype.drawCoordinates_=function(t,e,n,i){var r,o,s,a,l,u,c,h,f=this.vertices.length,p=this.indices.length,d="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,g="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,v=Hn.lineStringIsClosed(t,e,n,i),m=p,y=1;for(r=e,o=n;r<o;r+=i){if(l=f/7,u=c,c=h||[t[r],t[r+1]],r===e){if(h=[t[r+i],t[r+i+1]],n-e==2*i&&k.a.equals(c,h))break;if(!v){g&&(f=this.addVertices_([0,0],c,h,y*Xn.Instruction_.BEGIN_LINE_CAP*g,f),f=this.addVertices_([0,0],c,h,-y*Xn.Instruction_.BEGIN_LINE_CAP*g,f),this.indices[p++]=l+2,this.indices[p++]=l,this.indices[p++]=l+1,this.indices[p++]=l+1,this.indices[p++]=l+3,this.indices[p++]=l+2),f=this.addVertices_([0,0],c,h,y*Xn.Instruction_.BEGIN_LINE*(g||1),f),m=(f=this.addVertices_([0,0],c,h,-y*Xn.Instruction_.BEGIN_LINE*(g||1),f))/7-1;continue}u=[t[n-2*i],t[n-2*i+1]],s=h}else{if(r===n-i){if(v){h=s;break}u=u||[0,0],f=this.addVertices_(u,c,[0,0],y*Xn.Instruction_.END_LINE*(g||1),f),f=this.addVertices_(u,c,[0,0],-y*Xn.Instruction_.END_LINE*(g||1),f),this.indices[p++]=l,this.indices[p++]=m-1,this.indices[p++]=m,this.indices[p++]=m,this.indices[p++]=l+1,this.indices[p++]=l,g&&(f=this.addVertices_(u,c,[0,0],y*Xn.Instruction_.END_LINE_CAP*g,f),f=this.addVertices_(u,c,[0,0],-y*Xn.Instruction_.END_LINE_CAP*g,f),this.indices[p++]=l+2,this.indices[p++]=l,this.indices[p++]=l+1,this.indices[p++]=l+1,this.indices[p++]=l+3,this.indices[p++]=l+2);break}h=[t[r+i],t[r+i+1]]}a=Sn.triangleIsCounterClockwise(u[0],u[1],c[0],c[1],h[0],h[1])?-1:1,f=this.addVertices_(u,c,h,a*Xn.Instruction_.BEVEL_FIRST*(d||1),f),f=this.addVertices_(u,c,h,a*Xn.Instruction_.BEVEL_SECOND*(d||1),f),f=this.addVertices_(u,c,h,-a*Xn.Instruction_.MITER_BOTTOM*(d||1),f),r>e&&(this.indices[p++]=l,this.indices[p++]=m-1,this.indices[p++]=m,this.indices[p++]=l+2,this.indices[p++]=l,this.indices[p++]=y*a>0?m:m-1),this.indices[p++]=l,this.indices[p++]=l+2,this.indices[p++]=l+1,m=l+2,y=a,d&&(f=this.addVertices_(u,c,h,a*Xn.Instruction_.MITER_TOP*d,f),this.indices[p++]=l+1,this.indices[p++]=l+3,this.indices[p++]=l)}v&&(l=l||f/7,a=Bn.a.linearRingIsClockwise([u[0],u[1],c[0],c[1],h[0],h[1]],0,6,2)?1:-1,f=this.addVertices_(u,c,h,a*Xn.Instruction_.BEVEL_FIRST*(d||1),f),f=this.addVertices_(u,c,h,-a*Xn.Instruction_.MITER_BOTTOM*(d||1),f),this.indices[p++]=l,this.indices[p++]=m-1,this.indices[p++]=m,this.indices[p++]=l+1,this.indices[p++]=l,this.indices[p++]=y*a>0?m:m-1)},Xn.prototype.addVertices_=function(t,e,n,i,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=n[0],this.vertices[r++]=n[1],this.vertices[r++]=i,r},Xn.prototype.isValid_=function(t,e,n,i){var r=n-e;if(r<2*i)return!1;if(r===2*i){var o=[t[e],t[e+1]],s=[t[e+i],t[e+i+1]];return!k.a.equals(o,s)}return!0},Xn.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),i=t.getStride();this.isValid_(n,0,n.length,i)&&(n=Ht.a.translate(n,0,n.length,i,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,i))},Xn.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,i=t.getEnds();i.unshift(0);var r,o,s=t.getFlatCoordinates(),a=t.getStride();if(i.length>1)for(r=1,o=i.length;r<o;++r)if(this.isValid_(s,i[r-1],i[r],a)){var l=Ht.a.translate(s,i[r-1],i[r],a,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,a)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},Xn.prototype.drawPolygonCoordinates=function(t,e,n){var i,r;if(Hn.lineStringIsClosed(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(i=0,r=e.length;i<r;++i)Hn.lineStringIsClosed(e[i],0,e[i].length,n)||(e[i].push(e[i][0]),e[i].push(e[i][1])),this.drawCoordinates_(e[i],0,e[i].length,n)},Xn.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},Xn.prototype.getCurrentIndex=function(){return this.indices.length},Xn.prototype.finish=function(t){this.verticesBuffer=new In(this.vertices),this.indicesBuffer=new In(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Xn.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Xn.prototype.setUpProgram=function(t,e,n,i){var r,o;r=zn.fragment,o=zn.vertex;var s,a=e.getProgram(r,o);return this.defaultLocations_?s=this.defaultLocations_:(s=new qn(t,a),this.defaultLocations_=s),e.useProgram(a),t.enableVertexAttribArray(s.a_lastPos),t.vertexAttribPointer(s.a_lastPos,2,hn.a.FLOAT,!1,28,0),t.enableVertexAttribArray(s.a_position),t.vertexAttribPointer(s.a_position,2,hn.a.FLOAT,!1,28,8),t.enableVertexAttribArray(s.a_nextPos),t.vertexAttribPointer(s.a_nextPos,2,hn.a.FLOAT,!1,28,16),t.enableVertexAttribArray(s.a_direction),t.vertexAttribPointer(s.a_direction,1,hn.a.FLOAT,!1,28,24),t.uniform2fv(s.u_size,n),t.uniform1f(s.u_pixelRatio,i),s},Xn.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},Xn.prototype.drawReplay=function(t,e,n,i){var r,o,s,a,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),K.a.isEmpty(n))for(s=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],a=this.styles_[r],this.setStrokeStyle_(t,a[0],a[1],a[2]),this.drawElements(t,e,o,s),t.clear(t.DEPTH_BUFFER_BIT),s=o;else this.drawReplaySkipping_(t,e,n);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},Xn.prototype.drawReplaySkipping_=function(t,e,n){var r,o,s,a,l,u,c,h;for(c=this.startIndices.length-2,s=o=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setStrokeStyle_(t,a[0],a[1],a[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)h=this.startIndices[c],u=this.startIndicesFeature[c],n[i.a.getUid(u).toString()]&&(o!==s&&(this.drawElements(t,e,o,s),t.clear(t.DEPTH_BUFFER_BIT)),s=h),c--,o=h;o!==s&&(this.drawElements(t,e,o,s),t.clear(t.DEPTH_BUFFER_BIT)),o=s=l}},Xn.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,o){var s,a,l,u,c,h,f;for(f=this.startIndices.length-2,l=this.startIndices[f+1],s=this.styleIndices_.length-1;s>=0;--s)for(u=this.styles_[s],this.setStrokeStyle_(t,u[0],u[1],u[2]),c=this.styleIndices_[s];f>=0&&this.startIndices[f]>=c;){if(a=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[i.a.getUid(h).toString()]&&h.getGeometry()&&(void 0===o||it.a.intersects(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,l);var p=r(h);if(p)return p}f--,l=a}},Xn.prototype.setStrokeStyle_=function(t,e,n,i){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,i)},Xn.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:Sn.defaultLineCap;var i=e.getLineDash();this.state_.lineDash=i||Sn.defaultLineDash;var r=e.getLineDashOffset();this.state_.lineDashOffset=r||Sn.defaultLineDashOffset;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:Sn.defaultLineJoin;var s=e.getColor();s=s instanceof CanvasGradient||s instanceof CanvasPattern?Sn.defaultStrokeStyle:ze.a.asArray(s).map(function(t,e){return 3!=e?t/255:t})||Sn.defaultStrokeStyle;var a=e.getWidth();a=void 0!==a?a:Sn.defaultLineWidth;var l=e.getMiterLimit();l=void 0!==l?l:Sn.defaultMiterLimit,this.state_.strokeColor&&k.a.equals(this.state_.strokeColor,s)&&this.state_.lineWidth===a&&this.state_.miterLimit===l||(this.state_.changed=!0,this.state_.strokeColor=s,this.state_.lineWidth=a,this.state_.miterLimit=l,this.styles_.push([s,a,l]))},Xn.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};var Vn=Xn,Kn=n(63),Zn={};Zn.fragment=new gn(i.a.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Zn.vertex=new mn(i.a.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");var $n=Zn,Jn=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_position":"a")},Qn=n(103),ti=function(t){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===t||t,this.length_=0};ti.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var i=n.next;e.prev=n,e.next=i,n.next=e,i&&(i.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},ti.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},ti.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},ti.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},ti.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},ti.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},ti.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},ti.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},ti.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},ti.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},ti.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},ti.prototype.getLength=function(){return this.length_};var ei=ti,ni=n(104),ii=function(t,e){Tn.call(this,t,e),this.lineStringReplay=new Vn(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};i.a.inherits(ii,Tn),ii.prototype.drawCoordinates_=function(t,e,n){var i=new ei,r=new ni.a;this.processFlatCoordinates_(t,n,i,r,!0);var o=this.getMaxCoords_(i);if(e.length){var s,a,l=[];for(s=0,a=e.length;s<a;++s){var u={list:new ei,maxCoords:void 0,rtree:new ni.a};l.push(u),this.processFlatCoordinates_(e[s],n,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),s=0;s<l.length;++s){var c,h=l[s].list,f=h.firstItem(),p=f;do{if(this.getIntersections_(p,r).length){c=!0;break}p=h.nextItem()}while(f!==p);c||this.bridgeHole_(h,l[s].maxCoords[0],i,o[0],r)&&(r.concat(l[s].rtree),this.classifyPoints_(i,r,!1))}}else this.classifyPoints_(i,r,!1);this.triangulate_(i,r)},ii.prototype.processFlatCoordinates_=function(t,e,n,i,r){var o,s,a,l,u,c=Bn.a.linearRingIsClockwise(t,0,t.length,e),h=this.vertices.length/2,f=[],p=[];if(r===c){for(l=a=this.createPoint_(t[0],t[1],h++),o=e,s=t.length;o<s;o+=e)u=this.createPoint_(t[o],t[o+1],h++),p.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,a,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var d=t.length-e;for(l=a=this.createPoint_(t[d],t[d+1],h++),o=d-e,s=0;o>=s;o-=e)u=this.createPoint_(t[o],t[o+1],h++),p.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,a,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}i.load(f,p)},ii.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,i=[n.p0.x,n.p0.y];do{(n=t.nextItem()).p0.x>i[0]&&(i=[n.p0.x,n.p0.y])}while(n!==e);return i},ii.prototype.classifyPoints_=function(t,e,n){var i=t.firstItem(),r=i,o=t.nextItem(),s=!1;do{var a=n?Sn.triangleIsCounterClockwise(o.p1.x,o.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):Sn.triangleIsCounterClockwise(r.p0.x,r.p0.y,r.p1.x,r.p1.y,o.p1.x,o.p1.y);void 0===a?(this.removeItem_(r,o,t,e),s=!0,o===i&&(i=t.getNextItem()),o=r,t.prevItem()):r.p1.reflex!==a&&(r.p1.reflex=a,s=!0),r=o,o=t.nextItem()}while(r!==i);return s},ii.prototype.bridgeHole_=function(t,e,n,i,r){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var s,a,l,u,c=o.p1,h={x:i,y:c.y,i:-1},f=1/0,p=this.getIntersections_({p0:c,p1:h},r,!0);for(s=0,a=p.length;s<a;++s){var d=p[s],g=this.calculateIntersection_(c,h,d.p0,d.p1,!0),v=Math.abs(c.x-g[0]);v<f&&void 0!==Sn.triangleIsCounterClockwise(c.x,c.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)&&(f=v,u={x:g[0],y:g[1],i:-1},o=d)}if(f===1/0)return!1;if(l=o.p1,f>0){var m=this.getPointsInTriangle_(c,u,o.p1,r);if(m.length){var y=1/0;for(s=0,a=m.length;s<a;++s){var _=m[s],x=Math.atan2(c.y-_.y,h.x-_.x);(x<y||x===y&&_.x<l.x)&&(y=x,l=_)}}}for(o=n.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=n.nextItem();var E={x:c.x,y:c.y,i:c.i,reflex:void 0},b={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=E,this.insertItem_(c,o.p1,t,r),this.insertItem_(b,E,t,r),o.p1=b,t.setFirstItem(),n.concat(t),!0},ii.prototype.triangulate_=function(t,e){for(var n=!1,i=this.isSimple_(t,e);t.getLength()>3;)if(i){if(!this.clipEars_(t,e,i,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,i,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(i=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},ii.prototype.clipEars_=function(t,e,n,i){var r,o,s,a=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),c=l,h=t.nextItem(),f=t.getNextItem(),p=!1;do{var d;r=c.p0,o=c.p1,s=h.p1,!1===o.reflex&&(d=n?0===this.getPointsInTriangle_(r,o,s,e,!0).length:i?this.diagonalIsInside_(f.p1,s,o,r,u.p0):this.diagonalIsInside_(u.p0,r,o,s,f.p1),(n||0===this.getIntersections_({p0:r,p1:s},e).length)&&d&&(n||!1===r.reflex||!1===s.reflex||Bn.a.linearRingIsClockwise([u.p0.x,u.p0.y,r.x,r.y,o.x,o.y,s.x,s.y,f.p1.x,f.p1.y],0,10,2)===!i)&&(this.indices[a++]=r.i,this.indices[a++]=o.i,this.indices[a++]=s.i,this.removeItem_(c,h,t,e),h===l&&(l=f),p=!0)),u=t.getPrevItem(),c=t.getCurrItem(),h=t.nextItem(),f=t.getNextItem()}while(c!==l&&t.getLength()>3);return p},ii.prototype.resolveSelfIntersections_=function(t,e,n){var i=t.firstItem();t.nextItem();var r=i,o=t.nextItem(),s=!1;do{var a=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1,n);if(a){var l,u=!1,c=this.vertices.length,h=this.indices.length,f=c/2,p=t.prevItem();if(t.removeItem(),e.remove(p),u=p===i,n?(a[0]===r.p0.x&&a[1]===r.p0.y?(t.prevItem(),l=r.p0,o.p0=l,e.remove(r),u=u||r===i):(l=o.p1,r.p1=l,e.remove(o),u=u||o===i),t.removeItem()):(l=this.createPoint_(a[0],a[1],f),r.p1=l,o.p0=l,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[h++]=p.p0.i,this.indices[h++]=p.p1.i,this.indices[h++]=l.i,s=!0,u)break}r=t.getPrevItem(),o=t.nextItem()}while(r!==i);return s},ii.prototype.isSimple_=function(t,e){var n=t.firstItem(),i=n;do{if(this.getIntersections_(i,e).length)return!1;i=t.nextItem()}while(i!==n);return!0},ii.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),i=t.firstItem(),r=i,o=0;do{n[o++]=r.p0.x,n[o++]=r.p0.y,r=t.nextItem()}while(r!==i);return Bn.a.linearRingIsClockwise(n,0,e,2)},ii.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),i=n;do{var r=this.getIntersections_(i,e);if(r.length){var o=r[0],s=this.vertices.length/2,a=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1),l=this.createPoint_(a[0],a[1],s),u=new ei,c=new ni.a;this.insertItem_(l,i.p1,u,c),i.p1=l,e.update([Math.min(i.p0.x,l.x),Math.min(i.p0.y,l.y),Math.max(i.p0.x,l.x),Math.max(i.p0.y,l.y)],i);for(var h=t.nextItem();h!==o;)this.insertItem_(h.p0,h.p1,u,c),e.remove(h),t.removeItem(),h=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}i=t.nextItem()}while(i!==n)},ii.prototype.createPoint_=function(t,e,n){var i=this.vertices.length;return this.vertices[i++]=t,this.vertices[i++]=e,{x:t,y:e,i:n,reflex:void 0}},ii.prototype.insertItem_=function(t,e,n,i){var r={p0:t,p1:e};return n.insertItem(r),i&&i.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},ii.prototype.removeItem_=function(t,e,n,i){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,i.remove(e),i.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},ii.prototype.getPointsInTriangle_=function(t,e,n,i,r){var o,s,a,l,u=[],c=i.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,s=c.length;o<s;++o)for(a in c[o])"object"!=typeof(l=c[o][a])||r&&!l.reflex||l.x===t.x&&l.y===t.y||l.x===e.x&&l.y===e.y||l.x===n.x&&l.y===n.y||-1!==u.indexOf(l)||!Kn.a.linearRingContainsXY([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,l.x,l.y)||u.push(l);return u},ii.prototype.getIntersections_=function(t,e,n){var i,r,o=t.p0,s=t.p1,a=e.getInExtent([Math.min(o.x,s.x),Math.min(o.y,s.y),Math.max(o.x,s.x),Math.max(o.y,s.y)]),l=[];for(i=0,r=a.length;i<r;++i){var u=a[i];t!==u&&(n||u.p0!==s||u.p1!==o)&&this.calculateIntersection_(o,s,u.p0,u.p1,n)&&l.push(u)}return l},ii.prototype.calculateIntersection_=function(t,e,n,i,r){var o=(i.y-n.y)*(e.x-t.x)-(i.x-n.x)*(e.y-t.y);if(0!==o){var s=((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x))/o,a=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!r&&s>Sn.EPSILON&&s<1-Sn.EPSILON&&a>Sn.EPSILON&&a<1-Sn.EPSILON||r&&s>=0&&s<=1&&a>=0&&a<=1)return[t.x+s*(e.x-t.x),t.y+s*(e.y-t.y)]}},ii.prototype.diagonalIsInside_=function(t,e,n,i,r){if(void 0===e.reflex||void 0===i.reflex)return!1;var o=(n.x-i.x)*(e.y-i.y)>(n.y-i.y)*(e.x-i.x),s=(r.x-i.x)*(e.y-i.y)<(r.y-i.y)*(e.x-i.x),a=(t.x-e.x)*(i.y-e.y)>(t.y-e.y)*(i.x-e.x),l=(n.x-e.x)*(i.y-e.y)<(n.y-e.y)*(i.x-e.x),u=i.reflex?s||o:s&&o,c=e.reflex?l||a:l&&a;return u&&c},ii.prototype.drawMultiPolygon=function(t,e){var n,i,r,o,s=t.getEndss(),a=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),h=0;for(n=0,i=s.length;n<i;++n){var f=s[n];if(f.length>0){var p=Ht.a.translate(c,h,f[0],a,-this.origin[0],-this.origin[1]);if(p.length){var d,g=[];for(r=1,o=f.length;r<o;++r)f[r]!==f[r-1]&&(d=Ht.a.translate(c,f[r-1],f[r],a,-this.origin[0],-this.origin[1]),g.push(d));this.lineStringReplay.drawPolygonCoordinates(p,g,a),this.drawCoordinates_(p,g,a)}}h=f[f.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},ii.prototype.drawPolygon=function(t,e){var n=t.getEnds(),i=t.getStride();if(n.length>0){var r=t.getFlatCoordinates().map(Number),o=Ht.a.translate(r,0,n[0],i,-this.origin[0],-this.origin[1]);if(o.length){var s,a,l,u=[];for(s=1,a=n.length;s<a;++s)n[s]!==n[s-1]&&(l=Ht.a.translate(r,n[s-1],n[s],i,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,i),this.drawCoordinates_(o,u,i)}}},ii.prototype.finish=function(t){this.verticesBuffer=new In(this.vertices),this.indicesBuffer=new In(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ii.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,i=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),i()}},ii.prototype.setUpProgram=function(t,e,n,i){var r,o;r=$n.fragment,o=$n.vertex;var s,a=e.getProgram(r,o);return this.defaultLocations_?s=this.defaultLocations_:(s=new Jn(t,a),this.defaultLocations_=s),e.useProgram(a),t.enableVertexAttribArray(s.a_position),t.vertexAttribPointer(s.a_position,2,hn.a.FLOAT,!1,8,0),s},ii.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},ii.prototype.drawReplay=function(t,e,n,i){var r,o,s,a,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),K.a.isEmpty(n))for(s=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],a=this.styles_[r],this.setFillStyle_(t,a),this.drawElements(t,e,o,s),s=o;else this.drawReplaySkipping_(t,e,n);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},ii.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,o){var s,a,l,u,c,h,f;for(f=this.startIndices.length-2,l=this.startIndices[f+1],s=this.styleIndices_.length-1;s>=0;--s)for(u=this.styles_[s],this.setFillStyle_(t,u),c=this.styleIndices_[s];f>=0&&this.startIndices[f]>=c;){if(a=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[i.a.getUid(h).toString()]&&h.getGeometry()&&(void 0===o||it.a.intersects(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,l);var p=r(h);if(p)return p}f--,l=a}},ii.prototype.drawReplaySkipping_=function(t,e,n){var r,o,s,a,l,u,c,h;for(c=this.startIndices.length-2,s=o=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)h=this.startIndices[c],u=this.startIndicesFeature[c],n[i.a.getUid(u).toString()]&&(o!==s&&(this.drawElements(t,e,o,s),t.clear(t.DEPTH_BUFFER_BIT)),s=h),c--,o=h;o!==s&&(this.drawElements(t,e,o,s),t.clear(t.DEPTH_BUFFER_BIT)),o=s=l}},ii.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},ii.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?Sn.defaultFillStyle:ze.a.asArray(n).map(function(t,e){return 3!=e?t/255:t})||Sn.defaultFillStyle,this.state_.fillColor&&k.a.equals(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var i=new Qn.a({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,i)}};var ri=ii,oi=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=nt.a.createCanvasContext2D(t,t),this.canvas_=this.context_.canvas};oi.prototype.get=function(t){return this.entries_[t]||null},oi.prototype.add=function(t,e,n,i,r){var o,s,a;for(s=0,a=this.emptyBlocks_.length;s<a;++s)if((o=this.emptyBlocks_[s]).width>=e+this.space_&&o.height>=n+this.space_){var l={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=l,i.call(r,this.context_,o.x+this.space_,o.y+this.space_),this.split_(s,o,e+this.space_,n+this.space_),l}return null},oi.prototype.split_=function(t,e,n,i){var r,o;e.width-n>e.height-i?(r={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+i,width:n,height:e.height-i},this.updateBlocks_(t,r,o)):(r={x:e.x+n,y:e.y,width:e.width-n,height:i},o={x:e.x,y:e.y+i,width:e.width,height:e.height-i},this.updateBlocks_(t,r,o))},oi.prototype.updateBlocks_=function(t,e,n){var i=[t,1];e.width>0&&e.height>0&&i.push(e),n.width>0&&n.height>0&&i.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,i)};var si=oi,ai=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:i.a.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=i.a.MAX_ATLAS_SIZE?i.a.MAX_ATLAS_SIZE:void 0!==i.a.WEBGL_MAX_TEXTURE_SIZE?i.a.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new si(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new si(this.currentHitSize_,this.space_)]};ai.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},ai.prototype.getInfo_=function(t,e){var n,i,r;for(i=0,r=t.length;i<r;++i)if(n=t[i].get(e))return n;return null},ai.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},ai.prototype.add=function(t,e,n,r,o,s){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var a=this.add_(!1,t,e,n,r,s);if(!a)return null;var l=void 0!==o?o:i.a.nullFunction,u=this.add_(!0,t,e,n,l,s);return this.mergeInfos_(a,u)},ai.prototype.add_=function(t,e,n,i,r,o){var s,a,l,u,c=t?this.hitAtlases_:this.atlases_;for(l=0,u=c.length;l<u;++l){if(a=(s=c[l]).add(e,n,i,r,o))return a;var h;a||l!==u-1||(t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),s=new si(h,this.space_),c.push(s),++u)}return null};var li=ai,ui=function(t,e){jn.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=nt.a.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};i.a.inherits(ui,jn),ui.prototype.drawText=function(t,e){if(this.text_){var n=null,r=2,o=2;switch(t.getType()){case Bt.a.POINT:case Bt.a.MULTI_POINT:r=(n=t.getFlatCoordinates()).length,o=t.getStride();break;case Bt.a.CIRCLE:n=t.getCenter();break;case Bt.a.LINE_STRING:n=t.getFlatMidpoint();break;case Bt.a.MULTI_LINE_STRING:r=(n=t.getFlatMidpoints()).length;break;case Bt.a.POLYGON:n=t.getFlatInteriorPoint();break;case Bt.a.MULTI_POLYGON:r=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var s,a,l,u,c,h,f,p,d=this.currAtlas_,g=this.text_.split("\n"),v=this.getTextSize_(g),m=Math.round(v[0]*this.textAlign_-this.offsetX_),y=Math.round(v[1]*this.textBaseline_-this.offsetY_),_=this.state_.lineWidth/2*this.state_.scale;for(s=0,a=g.length;s<a;++s)for(c=0,h=d.height*s,l=0,u=(f=g[s].split("")).length;l<u;++l){if(p=d.atlas.getInfo(f[l])){var x,E=p.image;this.anchorX=m-c,this.anchorY=y-h,this.originX=0===l?p.offsetX-_:p.offsetX,this.originY=p.offsetY,this.height=d.height,this.width=0===l||l===f.length-1?d.width[f[l]]+_:d.width[f[l]],this.imageHeight=E.height,this.imageWidth=E.width,0===this.images_.length?this.images_.push(E):(x=this.images_[this.images_.length-1],i.a.getUid(x)!=i.a.getUid(E)&&(this.groupIndices.push(this.indices.length),this.images_.push(E))),this.drawText_(n,0,r,o)}c+=this.width}}},ui.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,i=t.length*n.height;return[t.map(function(t){var i,r,o=0;for(i=0,r=t.length;i<r;++i){var s=t[i];n.width[s]||e.addCharToAtlas_(s),o+=n.width[s]?n.width[s]:0}return o}).reduce(function(t,e){return Math.max(t,e)}),i]},ui.prototype.drawText_=function(t,e,n,i){var r,o;for(r=e,o=n;r<o;r+=i)this.drawCoordinates(t,e,n,i)},ui.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,i=this.measureCanvas_.getContext("2d");i.font=n.font;var r=Math.ceil(i.measureText(t).width*n.scale);e.atlas.add(t,r,e.height,function(e,i,r){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",a.a.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,i,r),n.fillColor&&e.fillText(t,i,r)})&&(e.width[t]=r)}},ui.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new In(this.vertices),this.indicesBuffer=new In(this.indices),this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,jn.prototype.finish.call(this,t)},ui.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),i=t.getStroke();if(t&&t.getText()&&(n||i)){if(n){var r=n.getColor();e.fillColor=Gt.a.asColorLike(r||Sn.defaultFillStyle)}else e.fillColor=null;if(i){var o=i.getColor();e.strokeColor=Gt.a.asColorLike(o||Sn.defaultStrokeStyle),e.lineWidth=i.getWidth()||Sn.defaultLineWidth,e.lineCap=i.getLineCap()||Sn.defaultLineCap,e.lineDashOffset=i.getLineDashOffset()||Sn.defaultLineDashOffset,e.lineJoin=i.getLineJoin()||Sn.defaultLineJoin,e.miterLimit=i.getMiterLimit()||Sn.defaultMiterLimit;var s=i.getLineDash();e.lineDash=s?s.slice():Sn.defaultLineDash}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||Sn.defaultFont,e.scale=t.getScale()||1,this.text_=t.getText();var a=je.TEXT_ALIGN[t.getTextAlign()],l=je.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===a?Sn.defaultTextAlign:a,this.textBaseline_=void 0===l?Sn.defaultTextBaseline:l,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},ui.prototype.getAtlas_=function(t){var e,n=[];for(e in t)(t[e]||0===t[e])&&(Array.isArray(t[e])?n=n.concat(t[e]):n.push(t[e]));var i=this.calculateHash_(n);if(!this.atlases_[i]){var r=this.measureCanvas_.getContext("2d");r.font=t.font;var o=Math.ceil((1.5*r.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[i]={atlas:new li({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[i]},ui.prototype.calculateHash_=function(t){var e,n,i="";for(e=0,n=t.length;e<n;++e)i+=t[e];return i},ui.prototype.getTextures=function(t){return this.textures_},ui.prototype.getHitDetectionTextures=function(){return this.textures_};var ci=ui,hi=function(t,e,n){ve.call(this),this.maxExtent_=e,this.tolerance_=t,this.renderBuffer_=n,this.replaysByZIndex_={}};i.a.inherits(hi,ve),hi.prototype.addDeclutter=function(t,e){},hi.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var i,r=this.replaysByZIndex_[e];for(i in r)n.push(r[i].getDeleteResourcesFunction(t))}return function(){for(var t,e=n.length,i=0;i<e;i++)t=n[i].apply(this,arguments);return t}},hi.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n,i=this.replaysByZIndex_[e];for(n in i)i[n].finish(t)}},hi.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,hi.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_),i[e]=r),r},hi.prototype.isEmpty=function(){return K.a.isEmpty(this.replaysByZIndex_)},hi.prototype.replay=function(t,e,n,i,r,o,s,a){var l,u,c,h,f,p,d=Object.keys(this.replaysByZIndex_).map(Number);for(d.sort(k.a.numberSafeCompareFunction),l=0,u=d.length;l<u;++l)for(f=this.replaysByZIndex_[d[l].toString()],c=0,h=je.ORDER.length;c<h;++c)void 0!==(p=f[je.ORDER[c]])&&p.replay(t,e,n,i,r,o,s,a,void 0,!1)},hi.prototype.replayHitDetection_=function(t,e,n,i,r,o,s,a,l,u,c){var h,f,p,d,g,v,m=Object.keys(this.replaysByZIndex_).map(Number);for(m.sort(function(t,e){return e-t}),h=0,f=m.length;h<f;++h)for(d=this.replaysByZIndex_[m[h].toString()],p=je.ORDER.length-1;p>=0;--p)if(void 0!==(g=d[je.ORDER[p]])&&(v=g.replay(t,e,n,i,r,o,s,a,l,u,c)))return v},hi.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s,a,l,u){var c,h=e.getGL();return h.bindFramebuffer(h.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(c=it.a.buffer(it.a.createOrUpdateFromCoordinate(t),i*this.renderBuffer_)),this.replayHitDetection_(e,t,i,r,hi.HIT_DETECTION_SIZE_,s,a,l,function(t){var e=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,e),e[3]>0){var n=u(t);if(n)return n}},!0,c)},hi.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o,s,a,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,i,r,hi.HIT_DETECTION_SIZE_,s,a,l,function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0},!1)},hi.HIT_DETECTION_SIZE_=[1,1],hi.BATCH_CONSTRUCTORS_={Circle:An,Image:Gn,LineString:Vn,Polygon:ri,Text:ci};var fi=hi,pi=function(t,e,n,i,r,o,s){zt.call(this),this.context_=t,this.center_=e,this.extent_=o,this.pixelRatio_=s,this.size_=r,this.rotation_=i,this.resolution_=n,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};i.a.inherits(pi,zt),pi.prototype.drawText_=function(t,e){var n=this.context_,i=t.getReplay(0,me.TEXT);i.setTextStyle(this.textStyle_),i.drawText(e,null),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)()},pi.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},pi.prototype.drawGeometry=function(t){switch(t.getType()){case Bt.a.POINT:this.drawPoint(t,null);break;case Bt.a.LINE_STRING:this.drawLineString(t,null);break;case Bt.a.POLYGON:this.drawPolygon(t,null);break;case Bt.a.MULTI_POINT:this.drawMultiPoint(t,null);break;case Bt.a.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case Bt.a.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case Bt.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case Bt.a.CIRCLE:this.drawCircle(t,null)}},pi.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&it.a.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},pi.prototype.drawGeometryCollection=function(t,e){var n,i,r=t.getGeometriesArray();for(n=0,i=r.length;n<i;++n)this.drawGeometry(r[n])},pi.prototype.drawPoint=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.drawMultiPoint=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.drawLineString=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.drawMultiLineString=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.drawPolygon=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.drawMultiPolygon=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.drawCircle=function(t,e){var n=this.context_,i=new fi(1,this.extent_),r=i.getReplay(0,me.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},pi.prototype.setImageStyle=function(t){this.imageStyle_=t},pi.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},pi.prototype.setTextStyle=function(t){this.textStyle_=t};var di=pi,gi={};gi.fragment=new gn(i.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),gi.vertex=new mn(i.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");var vi=gi,mi=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_texture":"g"),this.a_position=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_texCoord":"c")},yi=function(t,e){Zt.call(this,e),this.mapRenderer=t,this.arrayBuffer_=new In([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=vt.a.create(),this.projectionMatrix=vt.a.create(),this.tmpMat4_=En.create(),this.defaultLocations_=null};i.a.inherits(yi,Zt),yi.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var i=function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(i);var r=Nn.createEmptyTexture(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(hn.a.FRAMEBUFFER,o),n.framebufferTexture2D(hn.a.FRAMEBUFFER,hn.a.COLOR_ATTACHMENT0,hn.a.TEXTURE_2D,r,0),this.texture=r,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(hn.a.FRAMEBUFFER,this.framebuffer)},yi.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(jt.a.PRECOMPOSE,n,t),n.bindBuffer(hn.a.ARRAY_BUFFER,this.arrayBuffer_);var i,r=n.getGL(),o=vi.fragment,s=vi.vertex,a=n.getProgram(o,s);this.defaultLocations_?i=this.defaultLocations_:(i=new mi(r,a),this.defaultLocations_=i),n.useProgram(a)&&(r.enableVertexAttribArray(i.a_position),r.vertexAttribPointer(i.a_position,2,hn.a.FLOAT,!1,16,0),r.enableVertexAttribArray(i.a_texCoord),r.vertexAttribPointer(i.a_texCoord,2,hn.a.FLOAT,!1,16,8),r.uniform1i(i.u_texture,0)),r.uniformMatrix4fv(i.u_texCoordMatrix,!1,En.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),r.uniformMatrix4fv(i.u_projectionMatrix,!1,En.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),r.uniform1f(i.u_opacity,e.opacity),r.bindTexture(hn.a.TEXTURE_2D,this.getTexture()),r.drawArrays(hn.a.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(jt.a.POSTCOMPOSE,n,t)},yi.prototype.dispatchComposeEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=n.viewState,o=r.resolution,s=n.pixelRatio,a=n.extent,l=r.center,u=r.rotation,c=n.size,h=new di(e,l,o,u,c,a,s),f=new Ft(t,h,n,null,e);i.dispatchEvent(f)}},yi.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},yi.prototype.getTexture=function(){return this.texture},yi.prototype.getProjectionMatrix=function(){return this.projectionMatrix},yi.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},yi.prototype.prepareFrame=function(t,e,n){},yi.prototype.forEachLayerAtPixel=function(t,e,n,i){};var _i=yi,xi=function(t,e){_i.call(this,t,e),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};i.a.inherits(xi,_i),xi.handles=function(t,e){return t===dt&&e.getType()===Dt.a.IMAGE},xi.create=function(t,e){return new xi(t,e)},xi.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return Nn.createTexture(n,e,hn.a.CLAMP_TO_EDGE,hn.a.CLAMP_TO_EDGE)},xi.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource(),a=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return s.forEachFeatureAtCoordinate(t,a,l,n,u,function(t){return i.call(r,t,o)})},xi.prototype.prepareFrame=function(t,e,n){var r=this.mapRenderer.getGL(),o=t.pixelRatio,s=t.viewState,a=s.center,l=s.resolution,u=s.rotation,c=this.image_,h=this.texture,f=this.getLayer().getSource(),p=t.viewHints,d=t.extent;if(void 0!==e.extent&&(d=it.a.getIntersection(d,e.extent)),!p[et.a.ANIMATING]&&!p[et.a.INTERACTING]&&!it.a.isEmpty(d)){var g=s.projection;if(!i.a.ENABLE_RASTER_REPROJECTION){var v=f.getProjection();v&&(g=v)}var m=f.getImage(d,l,o,g);if(m&&this.loadImage(m)&&(c=m,h=this.createTexture_(m),this.texture)){var y=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.texture);t.postRenderFunctions.push(y)}}if(c){var _=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(_.width,_.height,o,a,l,u,c.getExtent()),this.hitTransformationMatrix_=null;var x=this.texCoordMatrix;vt.a.reset(x),vt.a.scale(x,1,-1),vt.a.translate(x,0,-1),this.image_=c,this.texture=h,this.updateLogos(t,f)}return!!c},xi.prototype.updateProjectionMatrix_=function(t,e,n,i,r,o,s){var a=t*r,l=e*r,u=this.projectionMatrix;vt.a.reset(u),vt.a.scale(u,2*n/a,2*n/l),vt.a.rotate(u,-o),vt.a.translate(u,s[0]-i[0],s[1]-i[1]),vt.a.scale(u,(s[2]-s[0])/2,(s[3]-s[1])/2),vt.a.translate(u,1,1)},xi.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,rt.a.TRUE,this)},xi.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==i.a.nullFunction){var o=vt.a.apply(e.pixelToCoordinateTransform,t.slice());return this.forEachFeatureAtCoordinate(o,e,0,rt.a.TRUE,this)?n.call(r,this.getLayer(),null):void 0}var s=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,s));var a=vt.a.apply(this.hitTransformationMatrix_,t.slice());if(!(a[0]<0||a[0]>s[0]||a[1]<0||a[1]>s[1])){this.hitCanvasContext_||(this.hitCanvasContext_=nt.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var l=this.hitCanvasContext_.getImageData(0,0,1,1).data;return l[3]>0?n.call(r,this.getLayer(),l):void 0}}},xi.prototype.getHitTransformationMatrix_=function(t,e){var n=vt.a.create();vt.a.translate(n,-1,-1),vt.a.scale(n,2/t[0],2/t[1]),vt.a.translate(n,0,t[1]),vt.a.scale(n,1,-1);var i=vt.a.invert(this.projectionMatrix.slice()),r=vt.a.create();return vt.a.translate(r,0,e[1]),vt.a.scale(r,1,-1),vt.a.scale(r,e[0]/2,e[1]/2),vt.a.translate(r,1,1),vt.a.multiply(r,i),vt.a.multiply(r,n),r};var Ei=xi,bi=n(101),Ti=function(t,e){ae.call(this,t,e),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Et.a.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=nt.a.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=hn.a.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new Nn(this.canvas_,this.gl_),c.a.listen(this.canvas_,Dn,this.handleWebGLContextLost,this),c.a.listen(this.canvas_,Pn,this.handleWebGLContextRestored,this),this.textureCache_=new bi.a,this.focus_=null,this.tileTextureQueue_=new $(function(t){var e=t[1],n=t[2],i=e[0]-this.focus_[0],r=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(i*i+r*r)/n}.bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),i=n[0],r=n[3],o=n[4];this.bindTileTexture(i,r,o,hn.a.LINEAR,hn.a.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};i.a.inherits(Ti,ae),Ti.handles=function(t){return a.a.WEBGL&&t===dt},Ti.create=function(t,e){return new Ti(t,e)},Ti.prototype.bindTileTexture=function(t,e,n,i,r){var o=this.getGL(),s=t.getKey();if(this.textureCache_.containsKey(s)){var a=this.textureCache_.get(s);o.bindTexture(hn.a.TEXTURE_2D,a.texture),a.magFilter!=i&&(o.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_MAG_FILTER,i),a.magFilter=i),a.minFilter!=r&&(o.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_MIN_FILTER,r),a.minFilter=r)}else{var l=o.createTexture();if(o.bindTexture(hn.a.TEXTURE_2D,l),n>0){var u=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):c.clearRect(0,0,e[0],e[1]),c.drawImage(t.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(hn.a.TEXTURE_2D,0,hn.a.RGBA,hn.a.RGBA,hn.a.UNSIGNED_BYTE,u)}else o.texImage2D(hn.a.TEXTURE_2D,0,hn.a.RGBA,hn.a.RGBA,hn.a.UNSIGNED_BYTE,t.getImage());o.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_MAG_FILTER,i),o.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_MIN_FILTER,r),o.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_WRAP_S,hn.a.CLAMP_TO_EDGE),o.texParameteri(hn.a.TEXTURE_2D,hn.a.TEXTURE_WRAP_T,hn.a.CLAMP_TO_EDGE),this.textureCache_.set(s,{texture:l,magFilter:i,minFilter:r})}},Ti.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=this.context_,r=e.extent,o=e.size,s=e.viewState,a=e.pixelRatio,l=s.resolution,u=s.center,c=s.rotation,h=new di(i,u,l,c,o,r,a),f=new Ft(t,h,e,null,i);n.dispatchEvent(f)}},Ti.prototype.disposeInternal=function(){var t=this.getGL();t.isContextLost()||this.textureCache_.forEach(function(e){e&&t.deleteTexture(e.texture)}),this.context_.dispose(),ae.prototype.disposeInternal.call(this)},Ti.prototype.expireCache_=function(t,e){for(var n,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>i.a.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(n=this.textureCache_.peekLast())r.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},Ti.prototype.getContext=function(){return this.context_},Ti.prototype.getGL=function(){return this.gl_},Ti.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},Ti.prototype.getType=function(){return dt},Ti.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e)e[n].handleWebGLContextLost()},Ti.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},Ti.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(hn.a.TEXTURE0),t.blendFuncSeparate(hn.a.SRC_ALPHA,hn.a.ONE_MINUS_SRC_ALPHA,hn.a.ONE,hn.a.ONE_MINUS_SRC_ALPHA),t.disable(hn.a.CULL_FACE),t.disable(hn.a.DEPTH_TEST),t.disable(hn.a.SCISSOR_TEST),t.disable(hn.a.STENCIL_TEST)},Ti.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},Ti.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(jt.a.PRECOMPOSE,t);var r=[],o=t.layerStatesArray;k.a.stableSort(o,ae.sortByZIndex);var s,a,l,u=t.viewState.resolution;for(s=0,a=o.length;s<a;++s)l=o[s],ie.a.visibleAtResolution(l,u)&&l.sourceState==st.a.READY&&this.getLayerRenderer(l.layer).prepareFrame(t,l,e)&&r.push(l);var c=t.size[0]*t.pixelRatio,h=t.size[1]*t.pixelRatio;for(this.canvas_.width==c&&this.canvas_.height==h||(this.canvas_.width=c,this.canvas_.height=h),n.bindFramebuffer(hn.a.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(hn.a.COLOR_BUFFER_BIT),n.enable(hn.a.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),s=0,a=r.length;s<a;++s)l=r[s],this.getLayerRenderer(l.layer).composeFrame(t,l,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>i.a.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchComposeEvent_(jt.a.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},Ti.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,c=e.layerStatesArray;for(l=c.length-1;l>=0;--l){var h=c[l],f=h.layer;if(ie.a.visibleAtResolution(h,u.resolution)&&o.call(s,f)&&(a=this.getLayerRenderer(f).forEachFeatureAtCoordinate(t,e,n,i,r)))return a}},Ti.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){var o=!1;if(this.getGL().isContextLost())return!1;var s,a=e.viewState,l=e.layerStatesArray;for(s=l.length-1;s>=0;--s){var u=l[s],c=u.layer;if(ie.a.visibleAtResolution(u,a.resolution)&&i.call(r,c)&&(o=this.getLayerRenderer(c).hasFeatureAtCoordinate(t,e)))return!0}return o},Ti.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o){if(this.getGL().isContextLost())return!1;var s,a,l=e.viewState,u=e.layerStatesArray;for(a=u.length-1;a>=0;--a){var c=u[a],h=c.layer;if(ie.a.visibleAtResolution(c,l.resolution)&&r.call(i,h)&&(s=this.getLayerRenderer(h).forEachLayerAtPixel(t,e,n,i)))return s}};var wi=Ti,Si={};Si.fragment=new gn(i.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Si.vertex=new mn(i.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");var Ci=Si,Ii=function(t,e){this.u_tileOffset=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,i.a.DEBUG_WEBGL?"u_texture":"e"),this.a_position=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.a.DEBUG_WEBGL?"a_texCoord":"c")},Ri=function(t,e){_i.call(this,t,e),this.fragmentShader_=Ci.fragment,this.vertexShader_=Ci.vertex,this.locations_=null,this.renderArrayBuffer_=new In([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};i.a.inherits(Ri,_i),Ri.handles=function(t,e){return t===dt&&e.getType()===Dt.a.TILE},Ri.create=function(t,e){return new Ri(t,e)},Ri.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),_i.prototype.disposeInternal.call(this)},Ri.prototype.createLoadedTileFinder=function(t,e,n){var i=this.mapRenderer;return function(r,o){return t.forEachLoadedTile(e,r,o,function(t){var e=i.isTileTextureLoaded(t);return e&&(n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t),e})}},Ri.prototype.handleWebGLContextLost=function(){_i.prototype.handleWebGLContextLost.call(this),this.locations_=null},Ri.prototype.prepareFrame=function(t,e,n){var i,r=this.mapRenderer,o=n.getGL(),s=t.viewState,a=s.projection,l=this.getLayer(),u=l.getSource(),c=u.getTileGridForProjection(a),h=c.getZForResolution(s.resolution),f=c.getResolution(h),p=u.getTilePixelSize(h,t.pixelRatio,a),d=p[0]/gt.a.toSize(c.getTileSize(h),this.tmpSize_)[0],g=f/d,v=u.getTilePixelRatio(d)*u.getGutter(a),m=s.center,y=t.extent,_=c.getTileRangeForExtentAndZ(y,h);if(this.renderedTileRange_&&this.renderedTileRange_.equals(_)&&this.renderedRevision_==u.getRevision())i=this.renderedFramebufferExtent_;else{var x=_.getSize(),E=Math.max(x[0]*p[0],x[1]*p[1]),b=be.a.roundUpToPowerOfTwo(E),T=g*b,w=c.getOrigin(h),S=w[0]+_.minX*p[0]*g,C=w[1]+_.minY*p[1]*g;i=[S,C,S+T,C+T],this.bindFramebuffer(t,b),o.viewport(0,0,b,b),o.clearColor(0,0,0,0),o.clear(hn.a.COLOR_BUFFER_BIT),o.disable(hn.a.BLEND);var I=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(I),this.locations_||(this.locations_=new Ii(o,I)),n.bindBuffer(hn.a.ARRAY_BUFFER,this.renderArrayBuffer_),o.enableVertexAttribArray(this.locations_.a_position),o.vertexAttribPointer(this.locations_.a_position,2,hn.a.FLOAT,!1,16,0),o.enableVertexAttribArray(this.locations_.a_texCoord),o.vertexAttribPointer(this.locations_.a_texCoord,2,hn.a.FLOAT,!1,16,8),o.uniform1i(this.locations_.u_texture,0);var R={};R[h]={};var A,L,O,D,P,M,N=this.createLoadedTileFinder(u,a,R),F=l.getUseInterimTilesOnError(),j=!0,U=it.a.createEmpty(),G=new ce.a(0,0,0,0);for(D=_.minX;D<=_.maxX;++D)for(P=_.minY;P<=_.maxY;++P)if(L=u.getTile(h,D,P,d,a),void 0===e.extent||(M=c.getTileCoordExtent(L.tileCoord,U),it.a.intersects(M,e.extent))){if((O=L.getState())==q.a.LOADED||O==q.a.EMPTY||O==q.a.ERROR&&!F||(L=L.getInterimTile()),(O=L.getState())==q.a.LOADED){if(r.isTileTextureLoaded(L)){R[h][L.tileCoord.toString()]=L;continue}}else if(O==q.a.EMPTY||O==q.a.ERROR&&!F)continue;j=!1,c.forEachTileCoordParentTileRange(L.tileCoord,N,null,G,U)||(A=c.getTileCoordChildTileRange(L.tileCoord,G,U))&&N(h+1,A)}var B=Object.keys(R).map(Number);B.sort(k.a.numberSafeCompareFunction);var W,H,Y,z,X=new Float32Array(4);for(W=0,H=B.length;W<H;++W)for(Y in z=R[B[W]])L=z[Y],M=c.getTileCoordExtent(L.tileCoord,U),X[0]=2*(M[2]-M[0])/T,X[1]=2*(M[3]-M[1])/T,X[2]=2*(M[0]-i[0])/T-1,X[3]=2*(M[1]-i[1])/T-1,o.uniform4fv(this.locations_.u_tileOffset,X),r.bindTileTexture(L,p,v*d,hn.a.LINEAR,hn.a.LINEAR),o.drawArrays(hn.a.TRIANGLE_STRIP,0,4);j?(this.renderedTileRange_=_,this.renderedFramebufferExtent_=i,this.renderedRevision_=u.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,u,h,_);var V=r.getTileTextureQueue();this.manageTilePyramid(t,u,c,d,a,y,h,l.getPreload(),function(t){t.getState()!=q.a.LOADED||r.isTileTextureLoaded(t)||V.isKeyQueued(t.getKey())||V.enqueue([t,c.getTileCoordCenter(t.tileCoord),c.getResolution(t.tileCoord[0]),p,v*d])},this),this.scheduleExpireCache(t,u),this.updateLogos(t,u);var K=this.texCoordMatrix;return vt.a.reset(K),vt.a.translate(K,(Math.round(m[0]/f)*f-i[0])/(i[2]-i[0]),(Math.round(m[1]/f)*f-i[1])/(i[3]-i[1])),0!==s.rotation&&vt.a.rotate(K,s.rotation),vt.a.scale(K,t.size[0]*s.resolution/(i[2]-i[0]),t.size[1]*s.resolution/(i[3]-i[1])),vt.a.translate(K,-.5,-.5),!0},Ri.prototype.forEachLayerAtPixel=function(t,e,n,i){if(this.framebuffer){var r=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=vt.a.apply(this.texCoordMatrix,r.slice()),s=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],a=this.mapRenderer.getContext().getGL();a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return a.readPixels(s[0],s[1],1,1,a.RGBA,a.UNSIGNED_BYTE,l),l[3]>0?n.call(i,this.getLayer(),l):void 0}};var Ai=Ri,Li=function(t,e){_i.call(this,t,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=it.a.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};i.a.inherits(Li,_i),Li.handles=function(t,e){return t===dt&&e.getType()===Dt.a.VECTOR},Li.create=function(t,e){return new Li(t,e)},Li.prototype.composeFrame=function(t,e,n){this.layerState_=e;var i=t.viewState,r=this.replayGroup_,o=t.size,s=t.pixelRatio,a=this.mapRenderer.getGL();r&&!r.isEmpty()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,o[0]*s,o[1]*s),r.replay(n,i.center,i.resolution,i.rotation,o,s,e.opacity,e.managed?t.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},Li.prototype.disposeInternal=function(){var t=this.replayGroup_;if(t){var e=this.mapRenderer.getContext();t.getDeleteResourcesFunction(e)(),this.replayGroup_=null}_i.prototype.disposeInternal.call(this)},Li.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_&&this.layerState_){var s=this.mapRenderer.getContext(),a=e.viewState,l=this.getLayer(),u=this.layerState_,c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a.center,a.resolution,a.rotation,e.size,e.pixelRatio,u.opacity,{},function(t){var e=i.a.getUid(t).toString();if(!(e in c))return c[e]=!0,r.call(o,t,l)})}},Li.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),i=e.viewState,r=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,r.opacity,e.skippedFeatureUids)}return!1},Li.prototype.forEachLayerAtPixel=function(t,e,n,i){var r=vt.a.apply(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(r,e)?n.call(i,this.getLayer(),null):void 0},Li.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Li.prototype.prepareFrame=function(t,e,n){var i=this.getLayer(),r=i.getSource();this.updateLogos(t,r);var o=t.viewHints[et.a.ANIMATING],s=t.viewHints[et.a.INTERACTING],a=i.getUpdateWhileAnimating(),l=i.getUpdateWhileInteracting();if(!this.dirty_&&!a&&o||!l&&s)return!0;var u=t.extent,c=t.viewState,h=c.projection,f=c.resolution,p=t.pixelRatio,d=i.getRevision(),g=i.getRenderBuffer(),v=i.getRenderOrder();void 0===v&&(v=nn.defaultOrder);var m=it.a.buffer(u,g*f);if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==d&&this.renderedRenderOrder_==v&&it.a.containsExtent(this.renderedExtent_,m))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var y=new fi(nn.getTolerance(f,p),m,i.getRenderBuffer());r.loadFeatures(m,f,h);var _=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,f):(n=i.getStyleFunction())&&(e=n(t,f)),e){var r=this.renderFeature(t,f,p,e,y);this.dirty_=this.dirty_||r}};if(v){var x=[];r.forEachFeatureInExtent(m,function(t){x.push(t)},this),x.sort(v),x.forEach(_,this)}else r.forEachFeatureInExtent(m,_,this);return y.finish(n),this.renderedResolution_=f,this.renderedRevision_=d,this.renderedRenderOrder_=v,this.renderedExtent_=m,this.replayGroup_=y,!0},Li.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=i.length-1;s>=0;--s)o=nn.renderFeature(r,t,i[s],nn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=nn.renderFeature(r,t,i,nn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;return o};var ki=Li;i.a.ENABLE_CANVAS&&(ft.register(ut,ue),ft.registerMultiple(ct,[ne,fe,on,cn])),i.a.ENABLE_WEBGL&&(ft.register(ut,wi),ft.registerMultiple(ct,[Ei,Ai,ki]));var Oi=function(t){(t=K.a.assign({},t)).controls||(t.controls=Ct.defaults()),t.interactions||(t.interactions=It.a.defaults()),yt.call(this,t)};i.a.inherits(Oi,yt),e.a=Oi},function(t,e,n){"use strict";var i=n(0),r=n(36),o=n(45),s=n(71),a=n(14),l=n(13),u=n(2),c=n(27),h=n(9),f=n(1),p="arraybuffer",d="json",g="text",v="xml",m={};m.DOCUMENT=document.implementation.createDocument("","",null),m.createElementNS=function(t,e){return m.DOCUMENT.createElementNS(t,e)},m.getAllTextContent=function(t,e){return m.getAllTextContent_(t,e,[]).join("")},m.getAllTextContent_=function(t,e,n){var i;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(i=t.firstChild;i;i=i.nextSibling)m.getAllTextContent_(i,e,n);return n},m.isDocument=function(t){return t instanceof Document},m.isNode=function(t){return t instanceof Node},m.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},m.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},m.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},m.makeArrayExtender=function(t,e){return function(n,i){var r=t.call(e,n,i);if(void 0!==r){var o=i[i.length-1];a.a.extend(o,r)}}},m.makeArrayPusher=function(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);void 0!==r&&i[i.length-1].push(r)}},m.makeReplacer=function(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);void 0!==r&&(i[i.length-1]=r)}},m.makeObjectPropertyPusher=function(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);if(void 0!==o){var s=r[r.length-1],a=void 0!==e?e:i.localName;(a in s?s[a]:s[a]=[]).push(o)}}},m.makeObjectPropertySetter=function(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);void 0!==o&&(r[r.length-1][void 0!==e?e:i.localName]=o)}},m.makeChildAppender=function(t,e){return function(n,i,r){t.call(void 0!==e?e:this,n,i,r),r[r.length-1].node.appendChild(n)}},m.makeArraySerializer=function(t,e){var n,i;return function(e,r,o){if(void 0===n){n={};var s={};s[e.localName]=t,n[e.namespaceURI]=s,i=m.makeSimpleNodeFactory(e.localName)}m.serialize(n,i,r,o)}},m.makeSimpleNodeFactory=function(t,e){var n=t;return function(t,i,r){var o=i[i.length-1].node,s=n;void 0===s&&(s=r);var a=e;return void 0===e&&(a=o.namespaceURI),m.createElementNS(a,s)}},m.OBJECT_PROPERTY_NODE_FACTORY=m.makeSimpleNodeFactory(),m.makeSequence=function(t,e){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=t[e[r]];return i},m.makeStructureNS=function(t,e,n){var i,r,o=void 0!==n?n:{};for(i=0,r=t.length;i<r;++i)o[t[i]]=e;return o},m.parseNode=function(t,e,n,i){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var o=t[r.namespaceURI];if(void 0!==o){var s=o[r.localName];void 0!==s&&s.call(i,r,n)}}},m.pushParseAndPop=function(t,e,n,i,r){return i.push(t),m.parseNode(e,n,i,r),i.pop()},m.serialize=function(t,e,n,i,r,o){for(var s,a,l=(void 0!==r?r:n).length,u=0;u<l;++u)void 0!==(s=n[u])&&void 0!==(a=e.call(o,s,i,void 0!==r?r[u]:void 0))&&t[a.namespaceURI][a.localName].call(o,a,s,i)},m.pushSerializeAndPop=function(t,e,n,i,r,o,s){return r.push(t),m.serialize(e,n,i,r,o,s),r.pop()};var y=m,_={loadFeaturesXhr:function(t,e,n,i){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(r,o,s):t,!0),e.getType()==p&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==d||o==g?r=a.responseText:o==v?(r=a.responseXML)||(r=y.parse(a.responseText)):o==p&&(r=a.response),r?n.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}},xhr:function(t,e){return _.loadFeaturesXhr(t,e,function(t,e){this.addFeatures(t)},i.a.nullFunction)}},x=_,E=n(19),b={all:function(t,e){return[[-1/0,-1/0,1/0,1/0]]},bbox:function(t,e){return[t]},tile:function(t){return function(e,n){var i=t.getZForResolution(n),r=t.getTileRangeForExtentAndZ(e,i),o=[],s=[i,0,0];for(s[1]=r.minX;s[1]<=r.maxX;++s[1])for(s[2]=r.minY;s[2]<=r.maxY;++s[2])o.push(t.getTileCoordExtent(s));return o}}},T=n(12),w=n(121),S=n(54),C="addfeature",I="changefeature",R="clear",A="removefeature",L=n(104),k=function(t){var e=t||{};w.a.call(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:S.a.READY,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=i.a.nullFunction,this.format_=e.format,this.overlaps_=void 0==e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(l.a.assert(this.format_,7),this.loader_=x.xhr(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:b.all;var n,o,s=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=s?new L.a:null,this.loadedExtentsRtree_=new L.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,e.features instanceof r.a?o=(n=e.features).getArray():Array.isArray(e.features)&&(o=e.features),s||void 0!==n||(n=new r.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==n&&this.bindFeaturesCollection_(n)};i.a.inherits(k,w.a),k.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},k.prototype.addFeatureInternal=function(t){var e=i.a.getUid(t).toString();if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new k.Event(C,t))}},k.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[u.a.listen(e,h.a.CHANGE,this.handleFeatureChange_,this),u.a.listen(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},k.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(l.a.assert(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},k.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},k.prototype.addFeaturesInternal=function(t){var e,n,r,o,s=[],a=[],l=[];for(n=0,r=t.length;n<r;n++)o=t[n],e=i.a.getUid(o).toString(),this.addToIndex_(e,o)&&a.push(o);for(n=0,r=a.length;n<r;n++){o=a[n],e=i.a.getUid(o).toString(),this.setupChangeEvents_(e,o);var u=o.getGeometry();if(u){var c=u.getExtent();s.push(c),l.push(o)}else this.nullGeometryFeatures_[e]=o}for(this.featuresRtree_&&this.featuresRtree_.load(s,l),n=0,r=a.length;n<r;n++)this.dispatchEvent(new k.Event(C,a[n]))},k.prototype.bindFeaturesCollection_=function(t){var e=!1;u.a.listen(this,C,function(n){e||(e=!0,t.push(n.feature),e=!1)}),u.a.listen(this,A,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),u.a.listen(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),u.a.listen(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},k.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(u.a.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new k.Event(R);this.dispatchEvent(i),this.changed()},k.prototype.forEachFeature=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEach(t,e):this.featuresCollection_?this.featuresCollection_.forEach(t,e):void 0},k.prototype.forEachFeatureAtCoordinateDirect=function(t,e,n){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){return i.getGeometry().intersectsCoordinate(t)?e.call(n,i):void 0})},k.prototype.forEachFeatureInExtent=function(t,e,n){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e,n):this.featuresCollection_?this.featuresCollection_.forEach(e,n):void 0},k.prototype.forEachFeatureIntersectingExtent=function(t,e,n){return this.forEachFeatureInExtent(t,function(i){if(i.getGeometry().intersectsExtent(t)){var r=e.call(n,i);if(r)return r}})},k.prototype.getFeaturesCollection=function(){return this.featuresCollection_},k.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),T.a.isEmpty(this.nullGeometryFeatures_)||a.a.extend(t,T.a.getValues(this.nullGeometryFeatures_))),t},k.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},k.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},k.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||E.a.TRUE;return this.featuresRtree_.forEachInExtent(a,function(t){if(l(t)){var e=t.getGeometry(),u=s;if((s=e.closestPointXY(n,i,o,s))<u){r=t;var c=Math.sqrt(s);a[0]=n-c,a[1]=i-c,a[2]=n+c,a[3]=i+c}}}),r},k.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},k.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},k.prototype.getFormat=function(){return this.format_},k.prototype.getOverlaps=function(){return this.overlaps_},k.prototype.getResolutions=function(){},k.prototype.getUrl=function(){return this.url_},k.prototype.handleFeatureChange_=function(t){var e=t.target,n=i.a.getUid(e).toString(),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new k.Event(I,e))},k.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&T.a.isEmpty(this.nullGeometryFeatures_)},k.prototype.loadFeatures=function(t,e,n){var i,r,o=this.loadedExtentsRtree_,s=this.strategy_(t,e);for(i=0,r=s.length;i<r;++i){var a=s[i];o.forEachInExtent(a,function(t){return f.a.containsExtent(t.extent,a)})||(this.loader_.call(this,a,e,n),o.insert(a,{extent:a.slice()}))}},k.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(f.a.equals(n.extent,t))return e=n,!0}),e&&n.remove(e)},k.prototype.removeFeature=function(t){var e=i.a.getUid(t).toString();e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},k.prototype.removeFeatureInternal=function(t){var e=i.a.getUid(t).toString();this.featureChangeKeys_[e].forEach(u.a.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new k.Event(A,t))},k.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},k.prototype.setLoader=function(t){this.loader_=t},k.Event=function(t,e){c.a.call(this,t),this.feature=e},i.a.inherits(k.Event,c.a),e.a=k},function(t,e,n){"use strict";var i=n(0),r=n(38),o=n(44),s="preload",a="useInterimTilesOnError",l=n(12),u=function(t){var e=t||{},n=l.a.assign({},e);delete n.preload,delete n.useInterimTilesOnError,o.a.call(this,n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.type=r.a.TILE};i.a.inherits(u,o.a),u.prototype.getPreload=function(){return this.get(s)},u.prototype.getSource,u.prototype.setPreload=function(t){this.set(s,t)},u.prototype.getUseInterimTilesOnError=function(){return this.get(a)},u.prototype.setUseInterimTilesOnError=function(t){this.set(a,t)},e.a=u},function(t,e,n){"use strict";n.r(e),function(t,e){var i=n(266),r=n.n(i),o=(n(196),n(129),n(280),n(281),n(283),n(284),n(285),n(288),n(393),n(100),n(116),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(150)),s=n(132);t._babelPolyfill||n(408),e("[data-widget-switch]").kifiSwitch(),e("[data-paged-table]").kifiPagedTable(),e("[data-load-more]").kifiLoadMore(),e("[data-gallery]").kifiGallery(),e("[data-content-peek]").kifiContentPeek(),e(".details").kifiDetails();var a=e('[data-toggle="popover"]').popover({placement:"bottom",template:e('[type="text/x-service-popover"]').text(),html:!0,content:function(){return document.querySelector(this.dataset.target).innerHTML}});a.on("click",function(t){t.preventDefault()}).on("show.bs.popover",function(t){a.not(this).popover("hide"),this.setAttribute("data-scroll-target","")}).on("shown.bs.popover",function(t){var n=this;e("body").find(".service-popover").find("button").focus().on("click",function(t){e(n).focus().popover("hide")})}).on("hide.bs.popover",function(t){this.removeAttribute("data-scroll-target")});try{window.location.hash&&a.filter(window.location.hash).trigger("click")}catch(t){}setTimeout(function(){var t=e("#the-search-form");t.librarySearch().trigger("submit",{shouldKeepOldResults:!0}),t.serializeArray().filter(function(t){return""!=t.value&&-1==["geo","q"].indexOf(t.name)}).length>0&&e("#toggle-advanced-search").trigger("click")},10),e("[data-map]").each(function(t,e){var n=e.dataset.map.split(/[,\s]+/),i=r()(n,2),a=i[0],l={pos:[i[1],a],controls:[new s.a]};e.dataset.scrollBlock&&l.controls.push(new s.a({target:e.dataset.scrollBlock})),new o.a(e,l).show()})}.call(this,n(134),n(52))},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={check_schedules:"Check schedules",choose:"- Select -",gallery:{close:"Exit gallery",show_picture:""},load_more:"Load more results",map:"Map",search:{total:"Search returned %d results."},status:{closed:"Closed",open:"Open",opens_at_time:"Opens at %s",self_service:"Self-service"},tomorrow:"Tomorrow"}},function(t,e,n){var i;/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(r,o){"use strict";var s=[],a=r.document,l=Object.getPrototypeOf,u=s.slice,c=s.concat,h=s.push,f=s.indexOf,p={},d=p.toString,g=p.hasOwnProperty,v=g.toString,m=v.call(Object),y={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},E={type:!0,src:!0,noModule:!0};function b(t,e,n){var i,r=(e=e||a).createElement("script");if(r.text=t,n)for(i in E)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function T(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[d.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(t){var e=!!t&&"length"in t&&t.length,n=T(t);return!_(t)&&!x(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:s.sort,splice:s.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||_(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},s[e]=w.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t)||(e=l(t))&&("function"!=typeof(n=g.call(e,"constructor")&&e.constructor)||v.call(n)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){b(t)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?w.merge(n,"string"==typeof t?[t]:t):h.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(C(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return c.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=s[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var I=function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,g,v,m,y,_,x="sizzle"+1*new Date,E=t.document,b=0,T=0,w=st(),S=st(),C=st(),I=function(t,e){return t===e&&(h=!0),0},R={}.hasOwnProperty,A=[],L=A.pop,k=A.push,O=A.push,D=A.slice,P=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+N+"*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+N+"*\\]",U=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",G=new RegExp(N+"+","g"),B=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),W=new RegExp("^"+N+"*,"+N+"*"),H=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),Y=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),z=new RegExp(U),q=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{O.apply(A=D.call(E.childNodes),E.childNodes),A[E.childNodes.length].nodeType}catch(t){O={apply:A.length?function(t,e){k.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,u,c,h,d,m,y=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!r&&((e?e.ownerDocument||e:E)!==p&&f(e),e=e||p,g)){if(11!==b&&(h=$.exec(t)))if(o=h[1]){if(9===b){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&_(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!C[t+" "]&&(!v||!v.test(t))){if(1!==b)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=x),a=(d=s(t)).length;a--;)d[a]="#"+c+" "+mt(d[a]);m=d.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(m)try{return O.apply(i,y.querySelectorAll(m)),i}catch(t){}finally{c===x&&e.removeAttribute("id")}}}return l(t.replace(B,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[x]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:E;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),E!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=lt(function(t){return d.appendChild(t).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(lt(function(t){d.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+N+"*(?:value|"+M+")"),t.querySelectorAll("[id~="+x+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Z.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(d.compareDocumentPosition),_=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===E&&_(E,t)?-1:e===p||e.ownerDocument===E&&_(E,e)?1:c?P(c,t)-P(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?P(c,t)-P(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===E?-1:a[i]===E?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(Y,"='$1']"),n.matchesSelector&&g&&!C[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),_(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&R.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(I),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=w[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&w(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(G," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(_=(p=(u=(c=(h=(f=v)[x]||(f[x]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===b&&u[1])&&u[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(_=p=0)||d.pop();)if(1===f.nodeType&&++_&&f===e){c[t]=[b,p,_];break}}else if(y&&(_=p=(u=(c=(h=(f=e)[x]||(f[x]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===b&&u[1]),!1===_)for(;(f=++p&&f&&f[g]||(_=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++_||(y&&((c=(h=f[x]||(f[x]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[b,_]),f!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[x]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=P(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(B,"$1"));return i[x]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return q.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:dt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function vt(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=T++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[b,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[x]||(e[x]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===b&&u[1]===a)return f[2]=u[2];if(c[o]=f,f[2]=t(e,n,l))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function Et(t,e,n,i,r,o){return i&&!i[x]&&(i=Et(i)),r&&!r[x]&&(r=Et(r,o)),at(function(o,s,a,l){var u,c,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:xt(g,f,t,a,l),m=n?r||(o?t:d||i)?[]:s:v;if(n&&n(v,m,a,l),i)for(u=xt(m,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(m[p[c]]=!(v[p[c]]=h));if(o){if(r||t){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(v[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?P(o,h):f[c])>-1&&(o[u]=!(s[u]=h))}}else m=xt(m===s?m.splice(d,m.length):m),r?r(null,s,m,l):O.apply(s,m)})}function bt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=yt(function(t){return t===e},a,!0),h=yt(function(t){return P(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])f=[yt(_t(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[x]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return Et(l>1&&_t(f),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&bt(t.slice(l,r)),r<o&&bt(t=t.slice(r)),r<o&&mt(t))}f.push(n)}return _t(f)}function Tt(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var h,d,v,m=0,y="0",_=o&&[],x=[],E=u,T=o||r&&i.find.TAG("*",c),w=b+=null==E?1:Math.random()||.1,S=T.length;for(c&&(u=s===p||s||c);y!==S&&null!=(h=T[y]);y++){if(r&&h){for(d=0,s||h.ownerDocument===p||(f(h),a=!g);v=t[d++];)if(v(h,s||p,a)){l.push(h);break}c&&(b=w)}n&&((h=!v&&h)&&m--,o&&_.push(h))}if(m+=y,n&&y!==m){for(d=0;v=e[d++];)v(_,x,s,a);if(o){if(m>0)for(;y--;)_[y]||x[y]||(x[y]=L.call(l));x=xt(x)}O.apply(l,x),c&&!o&&x.length>0&&m+e.length>1&&ot.uniqueSort(l)}return c&&(b=w,u=E),_};return n?at(o):o}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=ot.tokenize=function(t,e){var n,r,o,s,a,l,u,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=H.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):S(t,l).slice(0)},a=ot.compile=function(t,e){var n,i=[],r=[],o=C[t+" "];if(!o){for(e||(e=s(t)),n=e.length;n--;)(o=bt(e[n]))[x]?i.push(o):r.push(o);(o=C(t,Tt(r,i))).selector=t}return o},l=ot.select=function(t,e,n,r){var o,l,u,c,h,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(Q,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=X.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(Q,tt),J.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&mt(l)))return O.apply(n,r),n;break}}return(f||a(t,p))(r,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=x.split("").sort(I).join("")===x,n.detectDuplicates=!!h,f(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(M,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(r);w.find=I,w.expr=I.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=I.uniqueSort,w.text=I.getText,w.isXMLDoc=I.isXML,w.contains=I.contains,w.escapeSelector=I.escape;var R=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},A=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},L=w.expr.match.needsContext;function k(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,n){return _(e)?w.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?w.grep(t,function(t){return t===e!==n}):"string"!=typeof e?w.grep(t,function(t){return f.call(e,t)>-1!==n}):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&L.test(t)?w(t):t||[],!1).length}});var P,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||P,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),O.test(i[1])&&w.isPlainObject(e))for(i in e)_(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,P=w(a);var N=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&w(t);if(!L.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(w(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return R(t,"parentNode")},parentsUntil:function(t,e,n){return R(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return R(t,"nextSibling")},prevAll:function(t){return R(t,"previousSibling")},nextUntil:function(t,e,n){return R(t,"nextSibling",n)},prevUntil:function(t,e,n){return R(t,"previousSibling",n)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return k(t,"iframe")?t.contentDocument:(k(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(F[t]||w.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}});var U=/[^\x20\t\r\n\f]+/g;function G(t){return t}function B(t){throw t}function W(t,e,n,i){var r;try{t&&_(r=t.promise)?r.call(t).done(e).fail(n):t&&_(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(U)||[],function(t,n){e[n]=!0}),e}(t):w.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){w.each(n,function(n,i){_(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==T(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(n){w.each(e,function(e,i){var r=_(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&_(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,i){var o=0;function s(t,e,n,i){return function(){var a=this,l=arguments,u=function(){var r,u;if(!(t<o)){if((r=n.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,_(u)?i?u.call(r,s(o,e,G,i),s(o,e,B,i)):(o++,u.call(r,s(o,e,G,i),s(o,e,B,i),s(o,e,G,e.notifyWith))):(n!==G&&(a=void 0,l=[r]),(i||e.resolveWith)(a,l))}},c=i?u:function(){try{u()}catch(i){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(i,c.stackTrace),t+1>=o&&(n!==B&&(a=void 0,l=[i]),e.rejectWith(a,l))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),r.setTimeout(c))}}return w.Deferred(function(r){e[0][3].add(s(0,r,_(i)?i:G,r.notifyWith)),e[1][3].add(s(0,r,_(t)?t:G)),e[2][3].add(s(0,r,_(n)?n:B))}).promise()},promise:function(t){return null!=t?w.extend(t,i):i}},o={};return w.each(e,function(t,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add(function(){n=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=u.call(arguments),o=w.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(W(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||_(r[n]&&r[n].then)))return o.then();for(;n--;)W(r[n],s(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&H.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){r.setTimeout(function(){throw t})};var Y=w.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),w.ready()}w.fn.ready=function(t){return Y.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||Y.resolveWith(a,[w]))}}),w.ready.then=Y.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(w.ready):(a.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var q=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===T(n))for(a in r=!0,n)q(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,_(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(w(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},X=/^-ms-/,V=/-([a-z])/g;function K(t,e){return e.toUpperCase()}function Z(t){return t.replace(X,"ms-").replace(V,K)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=w.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Z(e)]=n;else for(i in e)r[Z(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in i?[e]:e.match(U)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Q=new J,tt=new J,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function it(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}(n)}catch(t){}tt.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return tt.hasData(t)||Q.hasData(t)},data:function(t,e,n){return tt.access(t,e,n)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=tt.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Z(i.slice(5)),it(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){tt.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=tt.get(o,t)))return n;if(void 0!==(n=it(o,t)))return n}else this.each(function(){tt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){tt.remove(this,t)})}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){w.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:w.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each(function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Q.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&w.contains(t.ownerDocument,t)&&"none"===w.css(t,"display")},lt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ut(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return w.css(t,e,"")},l=a(),u=n&&n[3]||(w.cssNumber[e]?"":"px"),c=(w.cssNumber[e]||"px"!==u&&+l)&&ot.exec(w.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)w.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,w.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ct={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,r=ct[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[i]=r,r)}function ft(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&at(i)&&(r[o]=ht(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?w(this).show():w(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,gt=/^$|^module$|\/(?:java|ecma)script/i,vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&k(t,e)?w.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;var _t=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===T(o))w.merge(f,o.nodeType?[o]:o);else if(_t.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(dt.exec(o)||["",""])[1].toLowerCase(),l=vt[a]||vt._default,s.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;w.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(u=w.contains(o.ownerDocument,o),s=mt(h.appendChild(o),"script"),u&&yt(s),n)for(c=0;o=s[c++];)gt.test(o.type||"")&&n.push(o);return h}!function(){var t=a.createDocumentFragment().appendChild(a.createElement("div")),e=a.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Et=a.documentElement,bt=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ct(){return!1}function It(){try{return a.activeElement}catch(t){}}function Rt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Rt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each(function(){w.event.add(this,e,r,i,n)})}w.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,v=Q.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(Et,r),n.guid||(n.guid=w.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(U)||[""]).length;u--;)p=g=(a=wt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=w.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=w.event.special[p]||{},c=w.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,v=Q.hasData(t)&&Q.get(t);if(v&&(l=v.events)){for(u=(e=(e||"").match(U)||[""]).length;u--;)if(p=g=(a=wt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=w.event.special[p]||{},f=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,v.handle)||w.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)w.event.remove(t,p+e[u],n,i,!0);w.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=w.event.fix(t),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[a.type]||[],c=w.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=w.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?w(r,this).index(u)>-1:w.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==It()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===It()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(t){return k(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||w.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),w.fn.extend({on:function(t,e,n,i){return Rt(this,t,e,n,i)},one:function(t,e,n,i){return Rt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each(function(){w.event.remove(this,t,n,e)})}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Lt=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return k(t,"table")&&k(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Pt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Nt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),s=Q.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)w.event.add(e,r,u[r][n]);tt.hasData(t)&&(a=tt.access(t),l=w.extend({},a),tt.set(e,l))}}function Ft(t,e){var n=e.nodeName.toLowerCase();"input"===n&&pt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function jt(t,e,n,i){e=c.apply([],e);var r,o,s,a,l,u,h=0,f=t.length,p=f-1,d=e[0],g=_(d);if(g||f>1&&"string"==typeof d&&!y.checkClone&&kt.test(d))return t.each(function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),jt(o,e,n,i)});if(f&&(o=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=w.map(mt(r,"script"),Pt)).length;h<f;h++)l=r,h!==p&&(l=w.clone(l,!0,!0),a&&w.merge(s,mt(l,"script"))),n.call(t[h],l,h);if(a)for(u=s[s.length-1].ownerDocument,w.map(s,Mt),h=0;h<a;h++)l=s[h],gt.test(l.type||"")&&!Q.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):b(l.textContent.replace(Ot,""),u,l))}return t}function Ut(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(mt(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&yt(mt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=w.contains(t.ownerDocument,t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=mt(a),i=0,r=(o=mt(t)).length;i<r;i++)Ft(o[i],s[i]);if(e)if(n)for(o=o||mt(t),s=s||mt(a),i=0,r=o.length;i<r;i++)Nt(o[i],s[i]);else Nt(t,a);return(s=mt(a,"script")).length>0&&yt(s,!l&&mt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[tt.expando]&&(n[tt.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return q(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return jt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)})},prepend:function(){return jt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!vt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),w(r[s])[e](n),h.apply(i,n.get());return this.pushStack(i)}});var Gt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Wt=new RegExp(st.join("|"),"i");function Ht(t,e,n){var i,r,o,s,a=t.style;return(n=n||Bt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||w.contains(t.ownerDocument,t)||(s=w.style(t,e)),!y.pixelBoxStyles()&&Gt.test(s)&&Wt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Et.appendChild(u).appendChild(c);var t=r.getComputedStyle(c);n="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",Et.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,s,l,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(y,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var zt=/^(none|table(?!-c[ea]).+)/,qt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],Zt=a.createElement("div").style;function $t(t){var e=w.cssProps[t];return e||(e=w.cssProps[t]=function(t){if(t in Zt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;n--;)if((t=Kt[n]+e)in Zt)return t}(t)||t),e}function Jt(t,e,n){var i=ot.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Qt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=w.css(t,n+st[s],!0,r)),i?("content"===n&&(l-=w.css(t,"padding"+st[s],!0,r)),"margin"!==n&&(l-=w.css(t,"border"+st[s]+"Width",!0,r))):(l+=w.css(t,"padding"+st[s],!0,r),"padding"!==n?l+=w.css(t,"border"+st[s]+"Width",!0,r):a+=w.css(t,"border"+st[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))),l}function te(t,e,n){var i=Bt(t),r=Ht(t,e,i),o="border-box"===w.css(t,"boxSizing",!1,i),s=o;if(Gt.test(r)){if(!n)return r;r="auto"}return s=s&&(y.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===w.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Qt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Z(e),l=qt.test(e),u=t.style;if(l||(e=$t(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=ot.exec(n))&&r[1]&&(n=ut(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(w.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=Z(e);return qt.test(e)||(e=$t(a)),(s=w.cssHooks[e]||w.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Ht(t,e,i)),"normal"===r&&e in Vt&&(r=Vt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!zt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):lt(t,Xt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=Bt(t),s="border-box"===w.css(t,"boxSizing",!1,o),a=i&&Qt(t,e,i,s,o);return s&&y.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),a&&(r=ot.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),Jt(0,n,a)}}}),w.cssHooks.marginLeft=Yt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+st[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=Jt)}),w.fn.extend({css:function(t,e){return q(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Bt(t),r=e.length;s<r;s++)o[e[s]]=w.css(t,e[s],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[w.cssProps[t.prop]]&&!w.cssHooks[t.prop]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ee.prototype.init,w.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ie&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(se):r.setTimeout(se,w.fx.interval),w.fx.tick())}function ae(){return r.setTimeout(function(){ne=void 0}),ne=Date.now()}function le(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=st[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,n){for(var i,r=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ce(t,e,n){var i,r,o=0,s=ce.prefilters.length,a=w.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ne||ae(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=Z(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=w.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=ce.prefilters[o].call(u,t,c,u.opts))return _(i.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,ue,u),_(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ce,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){_(t)?(e=t,t=["*"]):t=t.match(U);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ce.tweeners[n]=ce.tweeners[n]||[],ce.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&at(t),v=Q.get(t,"fxshow");for(i in n.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||w.style(t,i)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=Q.get(t,"display")),"none"===(c=w.css(t,"display"))&&(u?c=u:(ft([t],!0),u=t.style.display||u,c=w.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(t,"float")&&(l||(f.done(function(){d.display=u}),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),l=!1,p)l||(v?"hidden"in v&&(g=v.hidden):v=Q.access(t,"fxshow",{display:u}),o&&(v.hidden=!g),g&&ft([t],!0),f.done(function(){for(i in g||ft([t]),Q.remove(t,"fxshow"),p)w.style(t,i,p[i])})),l=ue(g?v[i]:0,i,f),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||_(t)&&t,duration:t,easing:n&&e||e&&!_(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),s=function(){var e=ce(this,w.extend({},t),o);(r||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,s=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,r)}}),w.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ne=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ie||(ie=!0,se())},w.fx.stop=function(){ie=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var he,fe=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return q(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&k(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(U);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||w.find.attr;fe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=fe[s],fe[s]=r,r=null!=n(t,e,i)?s:null,fe[s]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function ge(t){return(t.match(U)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(U)||[]}w.fn.extend({prop:function(t,e){return q(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(_(t))return this.each(function(e){w(this).addClass(t.call(this,e,ve(this)))});if((e=me(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(_(t))return this.each(function(e){w(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):_(t)?this.each(function(n){w(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=w(this),s=me(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=_(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:ge(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(e=w(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),s=r.length;s--;)((i=r[s]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},y.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in r;var _e=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,n,i){var o,s,l,u,c,h,f,p,d=[n||a],v=g.call(t,"type")?t.type:t,m=g.call(t,"namespace")?t.namespace.split("."):[];if(s=p=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!_e.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[w.expando]?t:new w.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),f=w.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(n,e))){if(!i&&!f.noBubble&&!x(n)){for(u=f.delegateType||v,_e.test(u+v)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(n.ownerDocument||a)&&d.push(l.defaultView||l.parentWindow||r)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?u:f.bindType||v,(h=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"))&&h.apply(s,e),(h=c&&s[c])&&h.apply&&$(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),e)||!$(n)||c&&_(n[v])&&!x(n)&&((l=n[c])&&(n[c]=null),w.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,xe),n[v](),t.isPropagationStopped()&&p.removeEventListener(v,xe),w.event.triggered=void 0,l&&(n[c]=l)),t.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),y.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}});var Ee=r.location,be=Date.now(),Te=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var we=/\[\]$/,Se=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function Re(t,e,n,i){var r;if(Array.isArray(e))w.each(e,function(e,r){n||we.test(t)?i(t,r):Re(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==T(e))i(t,e);else for(r in e)Re(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=_(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){r(this.name,this.value)});else for(n in t)Re(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Ie.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}});var Ae=/%20/g,Le=/#.*$/,ke=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,Pe=/^\/\//,Me={},Ne={},Fe="*/".concat("*"),je=a.createElement("a");function Ue(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(U)||[];if(_(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ge(t,e,n,i){var r={},o=t===Ne;function s(a){var l;return r[a]=!0,w.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Be(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}je.href=Ee.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,w.ajaxSettings),e):Be(w.ajaxSettings,t)},ajaxPrefilter:Ue(Me),ajaxTransport:Ue(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,s,l,u,c,h,f,p,d=w.ajaxSetup({},e),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?w(g):w.event,m=w.Deferred(),y=w.Callbacks("once memory"),_=d.statusCode||{},x={},E={},b="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Oe.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)T.always(t[T.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||b;return n&&n.abort(e),S(0,e),this}};if(m.promise(T),d.url=((t||d.url||Ee.href)+"").replace(Pe,Ee.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(U)||[""],null==d.crossDomain){u=a.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=je.protocol+"//"+je.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),Ge(Me,d,e,T),c)return T;for(f in(h=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!De.test(d.type),i=d.url.replace(Le,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ae,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Te.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(ke,"$1"),p=(Te.test(i)?"&":"?")+"_="+be+++p),d.url=i+p),d.ifModified&&(w.lastModified[i]&&T.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&T.setRequestHeader("If-None-Match",w.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Fe+"; q=0.01":""):d.accepts["*"]),d.headers)T.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,T,d)||c))return T.abort();if(b="abort",y.add(d.complete),T.done(d.success),T.fail(d.error),n=Ge(Ne,d,e,T)){if(T.readyState=1,h&&v.trigger("ajaxSend",[T,d]),c)return T;d.async&&d.timeout>0&&(l=r.setTimeout(function(){T.abort("timeout")},d.timeout));try{c=!1,n.send(x,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var u,f,p,x,E,b=e;c||(c=!0,l&&r.clearTimeout(l),n=void 0,o=a||"",T.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(x=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,T,s)),x=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,x,T,u),u?(d.ifModified&&((E=T.getResponseHeader("Last-Modified"))&&(w.lastModified[i]=E),(E=T.getResponseHeader("etag"))&&(w.etag[i]=E)),204===t||"HEAD"===d.type?b="nocontent":304===t?b="notmodified":(b=x.state,f=x.data,u=!(p=x.error))):(p=b,!t&&b||(b="error",t<0&&(t=0))),T.status=t,T.statusText=(e||b)+"",u?m.resolveWith(g,[f,b,T]):m.rejectWith(g,[T,b,p]),T.statusCode(_),_=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[T,d,u?f:p]),y.fireWith(g,[T,b]),h&&(v.trigger("ajaxComplete",[T,d]),--w.active||w.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,n,i,r){return _(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=_(t);return this.each(function(n){w(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},He=w.ajaxSettings.xhr();y.cors=!!He&&"withCredentials"in He,y.ajax=He=!!He,w.ajaxTransport(function(t){var e,n;if(y.cors||He&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=w("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ye=[],ze=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||w.expando+"_"+be++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,s,a=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ze,"$1"+i):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||w.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){void 0===o?w(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),s&&_(o)&&o(s[0]),s=o=void 0}),"script"}),y.createHTMLDocument=function(){var t=a.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),r=O.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=xt([t],e,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),_(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=w.css(t,"position"),c=w(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=w.css(t,"top"),l=w.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),_(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||Et})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return q(this,function(t,i,r){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=Yt(y.pixelPosition,function(t,n){if(n)return n=Ht(t,e),Gt.test(n)?w(t).position()[e]+"px":n})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){w.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return q(this,function(e,n,r){var o;return x(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,a):w.style(e,n,r,a)},e,s?r:void 0,s)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),_(t))return i=u.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(u.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=k,w.isFunction=_,w.isWindow=x,w.camelCase=Z,w.type=T,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},n(282)&&(void 0===(i=function(){return w}.apply(e,[]))||(t.exports=i));var qe=r.jQuery,Xe=r.$;return w.noConflict=function(t){return r.$===w&&(r.$=Xe),t&&r.jQuery===w&&(r.jQuery=qe),w},o||(r.jQuery=r.$=w),w})},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){(function(t){(function(){var e,n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty;(r=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,o,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),s=[],n=0,i=(o=t.childNodes).length;n<i;n++)r=o[n],s.push(this.add_option(r,e,t.disabled));return s},t.prototype.add_option=function(t,e,n){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,n,i,o,s;for(o=new r,n=0,i=(s=t.childNodes).length;n<i;n++)e=s[n],o.add_node(e);return o.parsed},n=function(){function t(e,n){this.form_field=e,this.options=null!=n?n:{},this.label_click_handler=o(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,n,i,r,o,s,a;for(e="",a=0,r=0,o=(s=this.results_data).length;r<o&&(i="",""!==(i=(n=s[r]).group?this.result_add_group(n):this.result_add_option(n))&&(a++,e+=i),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(a>=this.max_shown_results));r++);return e},t.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),t.style&&(n.style.cssText=t.style),n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.highlighted_html||t.html,t.title&&(n.title=t.title),this.outerHTML(n)):""},t.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(n.title=t.title),this.outerHTML(n)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,n,i,r;for(r=[],t=0,e=(n=this.results_data).length;t<e;t++)(i=n[t]).selected?r.push(i.selected=!1):r.push(void 0);return r},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,g;for(this.no_results_clear(),c=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),u=this.get_search_regex(e),i=0,r=(l=this.results_data).length;i<r;i++)(o=l[i]).search_match=!1,h=null,f=null,o.highlighted_html="",this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),null!=o.group_array_index&&this.results_data[o.group_array_index]&&(0===(h=this.results_data[o.group_array_index]).active_options&&h.search_match&&(c+=1),h.active_options+=1),g=o.group?o.label:o.text,o.group&&!this.group_search||(f=this.search_string_match(g,u),o.search_match=null!=f,o.search_match&&!o.group&&(c+=1),o.search_match?(a.length&&(p=f.index,s=g.slice(0,p),n=g.slice(p,p+a.length),d=g.slice(p+a.length),o.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(n)+"</em>"+this.escape_html(d)),null!=h&&(h.group_match=!0)):null!=o.group_array_index&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0)));return this.result_clear_highlight(),c<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,n;return n=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(n="^"+n),e=this.case_sensitive_search?"":"i",new RegExp(n,e)},t.prototype.search_string_match=function(t,e){var n;return n=e.exec(t),!this.search_contains&&(null!=n?n[1]:void 0)&&(n.index+=1),n},t.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==n&&this.pending_backstroke&&this.clear_backstroke(),n){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),n){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected||!this.display_disabled_options&&t.disabled||t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(e=t).fn.extend({chosen:function(t){return n.browser_is_supported()?this.each(function(n){var r,o;o=(r=e(this)).data("chosen"),"destroy"!==t?o instanceof i||r.data("chosen",new i(this,t)):o instanceof i&&o.destroy()}):this}}),i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,n),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},i.prototype.set_up_html=function(){var t,n;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={class:t.join(" "),title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},i.prototype.container_mousedown=function(t){var n;if(!this.is_disabled)return!t||"mousedown"!==(n=t.type)&&"touchstart"!==n||this.results_showing||t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},i.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){var n;return(n=e(t.target).closest(".chosen-container")).length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,n,i,r,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),r=(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(n<o)return this.search_results.scrollTop(n)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var n;if((n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length)return this.result_highlight=n,this.result_select(t),this.search_field.focus()},i.prototype.search_results_mouseover=function(t){var n;if(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())return this.result_do_highlight(n)},i.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result")||e(t.target).parents(".active-result").first())return this.result_clear_highlight()},i.prototype.choice_build=function(t){var n,i;return n=e("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?n.addClass("search-choice-disabled"):((i=e("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).on("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),n.append(i)),this.search_container.before(n)},i.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,n;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_field_value=function(){return this.search_field.val()},i.prototype.get_search_text=function(){return e.trim(this.get_search_field_value())},i.prototype.escape_html=function(t){return e("<div/>").text(t).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},i.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.search_field_scale=function(){var t,n,i,r,o,s,a;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},n=0,i=(s=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;n<i;n++)o[r=s[n]]=this.search_field.css(r);return(t=e("<div />").css(o)).text(this.get_search_field_value()),e("body").append(t),a=t.width()+25,t.remove(),this.container.is(":visible")&&(a=Math.min(this.container.outerWidth()-10,a)),this.search_field.width(a)}},i.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},i}()}).call(this)}).call(this,n(52))},function(t,e,n){(function(t){
/*!
  * Bootstrap v4.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})}return t}for(var s,a,l,u,c,h,f,p,d,g,v,m,y,_,x,E,b,T,w,S,C,I,R,A,L,k,O,D,P,M,N,F,j,U,G,B,W,H,Y,z,q,X,V,K,Z,$,J,Q,tt,et,nt,it,rt,ot,st,at,lt,ut,ct,ht,ft,pt,dt,gt,vt,mt,yt,_t,xt,Et=function(t){var e="transitionend",n={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(e)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],s=e[r],a=s&&n.isElement(s)?"element":(l=s,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}var l}};return t.fn.emulateTransitionEnd=function(e){var i=this,r=!1;return t(this).one(n.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||n.triggerTransitionEnd(i)},e),this},t.event.special[n.TRANSITION_END]={bindType:e,delegateType:e,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},n}(n=n&&n.hasOwnProperty("default")?n.default:n),bt=(a="alert",u="."+(l="bs.alert"),c=(s=n).fn[a],h={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},f="alert",p="fade",d="show",g=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){s.removeData(this._element,l),this._element=null},e._getRootElement=function(t){var e=Et.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=s(t).closest("."+f)[0]),n},e._triggerCloseEvent=function(t){var e=s.Event(h.CLOSE);return s(t).trigger(e),e},e._removeElement=function(t){var e=this;if(s(t).removeClass(d),s(t).hasClass(p)){var n=Et.getTransitionDurationFromElement(t);s(t).one(Et.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){s(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var n=s(this),i=n.data(l);i||(i=new t(this),n.data(l,i)),"close"===e&&i[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}(),s(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),s.fn[a]=g._jQueryInterface,s.fn[a].Constructor=g,s.fn[a].noConflict=function(){return s.fn[a]=c,g._jQueryInterface},g),Tt=(m="button",_="."+(y="bs.button"),x=".data-api",E=(v=n).fn[m],b="active",w='[data-toggle^="button"]',S='[data-toggle="buttons"]',C="input",I=".active",R=".btn",A={CLICK_DATA_API:"click"+_+x,FOCUS_BLUR_DATA_API:(T="focus")+_+x+" blur"+_+x},L=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=v(this._element).closest(S)[0];if(n){var i=this._element.querySelector(C);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(b))t=!1;else{var r=n.querySelector(I);r&&v(r).removeClass(b)}if(t){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(b),v(i).trigger("change")}i.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(b)),t&&v(this._element).toggleClass(b)},e.dispose=function(){v.removeData(this._element,y),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var n=v(this).data(y);n||(n=new t(this),v(this).data(y,n)),"toggle"===e&&n[e]()})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}(),v(document).on(A.CLICK_DATA_API,w,function(t){t.preventDefault();var e=t.target;v(e).hasClass("btn")||(e=v(e).closest(R)),L._jQueryInterface.call(v(e),"toggle")}).on(A.FOCUS_BLUR_DATA_API,w,function(t){var e=v(t.target).closest(R)[0];v(e).toggleClass(T,/^focus(in)?$/.test(t.type))}),v.fn[m]=L._jQueryInterface,v.fn[m].Constructor=L,v.fn[m].noConflict=function(){return v.fn[m]=E,L._jQueryInterface},L),wt=(O="carousel",P="."+(D="bs.carousel"),M=".data-api",N=(k=n).fn[O],F={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},j={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},U="next",G="prev",B="left",W="right",H={SLIDE:"slide"+P,SLID:"slid"+P,KEYDOWN:"keydown"+P,MOUSEENTER:"mouseenter"+P,MOUSELEAVE:"mouseleave"+P,TOUCHEND:"touchend"+P,LOAD_DATA_API:"load"+P+M,CLICK_DATA_API:"click"+P+M},Y="carousel",z="active",q="slide",X="carousel-item-right",V="carousel-item-left",K="carousel-item-next",Z="carousel-item-prev",$=".active",J=".active.carousel-item",Q=".carousel-item",tt=".carousel-item-next, .carousel-item-prev",et=".carousel-indicators",nt="[data-slide], [data-slide-to]",it='[data-ride="carousel"]',rt=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(e),this._element=k(t)[0],this._indicatorsElement=this._element.querySelector(et),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(U)},e.nextWhenVisible=function(){!document.hidden&&k(this._element).is(":visible")&&"hidden"!==k(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(G)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(tt)&&(Et.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(J);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)k(this._element).one(H.SLID,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();var i=n<t?U:G;this._slide(i,this._items[t])}},e.dispose=function(){k(this._element).off(P),k.removeData(this._element,D),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=o({},F,t),Et.typeCheckConfig(O,t,j),t},e._addEventListeners=function(){var t=this;this._config.keyboard&&k(this._element).on(H.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(k(this._element).on(H.MOUSEENTER,function(e){return t.pause(e)}).on(H.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&k(this._element).on(H.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(Q)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===U,i=t===G,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===G?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(J)),r=k.Event(H.SLIDE,{relatedTarget:t,direction:e,from:i,to:n});return k(this._element).trigger(r),r},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll($));k(e).removeClass(z);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&k(n).addClass(z)}},e._slide=function(t,e){var n,i,r,o=this,s=this._element.querySelector(J),a=this._getItemIndex(s),l=e||s&&this._getItemByDirection(t,s),u=this._getItemIndex(l),c=Boolean(this._interval);if(t===U?(n=V,i=K,r=B):(n=X,i=Z,r=W),l&&k(l).hasClass(z))this._isSliding=!1;else if(!this._triggerSlideEvent(l,r).isDefaultPrevented()&&s&&l){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(l);var h=k.Event(H.SLID,{relatedTarget:l,direction:r,from:a,to:u});if(k(this._element).hasClass(q)){k(l).addClass(i),Et.reflow(l),k(s).addClass(n),k(l).addClass(n);var f=Et.getTransitionDurationFromElement(s);k(s).one(Et.TRANSITION_END,function(){k(l).removeClass(n+" "+i).addClass(z),k(s).removeClass(z+" "+i+" "+n),o._isSliding=!1,setTimeout(function(){return k(o._element).trigger(h)},0)}).emulateTransitionEnd(f)}else k(s).removeClass(z),k(l).addClass(z),this._isSliding=!1,k(this._element).trigger(h);c&&this.cycle()}},t._jQueryInterface=function(e){return this.each(function(){var n=k(this).data(D),i=o({},F,k(this).data());"object"==typeof e&&(i=o({},i,e));var r="string"==typeof e?e:i.slide;if(n||(n=new t(this,i),k(this).data(D,n)),"number"==typeof e)n.to(e);else if("string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}else i.interval&&(n.pause(),n.cycle())})},t._dataApiClickHandler=function(e){var n=Et.getSelectorFromElement(this);if(n){var i=k(n)[0];if(i&&k(i).hasClass(Y)){var r=o({},k(i).data(),k(this).data()),s=this.getAttribute("data-slide-to");s&&(r.interval=!1),t._jQueryInterface.call(k(i),r),s&&k(i).data(D).to(s),e.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return F}}]),t}(),k(document).on(H.CLICK_DATA_API,nt,rt._dataApiClickHandler),k(window).on(H.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(it)),e=0,n=t.length;e<n;e++){var i=k(t[e]);rt._jQueryInterface.call(i,i.data())}}),k.fn[O]=rt._jQueryInterface,k.fn[O].Constructor=rt,k.fn[O].noConflict=function(){return k.fn[O]=N,rt._jQueryInterface},rt),St=(st="collapse",lt="."+(at="bs.collapse"),ut=(ot=n).fn[st],ct={toggle:!0,parent:""},ht={toggle:"boolean",parent:"(string|element)"},ft={SHOW:"show"+lt,SHOWN:"shown"+lt,HIDE:"hide"+lt,HIDDEN:"hidden"+lt,CLICK_DATA_API:"click"+lt+".data-api"},pt="show",dt="collapse",gt="collapsing",vt="collapsed",mt="width",yt=".show, .collapsing",_t='[data-toggle="collapse"]',xt=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=ot.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(_t)),i=0,r=n.length;i<r;i++){var o=n[i],s=Et.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&0<a.length&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){ot(this._element).hasClass(pt)?this.hide():this.show()},e.show=function(){var e,n,i=this;if(!(this._isTransitioning||ot(this._element).hasClass(pt)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(yt)).filter(function(t){return t.getAttribute("data-parent")===i._config.parent})).length&&(e=null),e&&(n=ot(e).not(this._selector).data(at))&&n._isTransitioning))){var r=ot.Event(ft.SHOW);if(ot(this._element).trigger(r),!r.isDefaultPrevented()){e&&(t._jQueryInterface.call(ot(e).not(this._selector),"hide"),n||ot(e).data(at,null));var o=this._getDimension();ot(this._element).removeClass(dt).addClass(gt),this._element.style[o]=0,this._triggerArray.length&&ot(this._triggerArray).removeClass(vt).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(o[0].toUpperCase()+o.slice(1)),a=Et.getTransitionDurationFromElement(this._element);ot(this._element).one(Et.TRANSITION_END,function(){ot(i._element).removeClass(gt).addClass(dt).addClass(pt),i._element.style[o]="",i.setTransitioning(!1),ot(i._element).trigger(ft.SHOWN)}).emulateTransitionEnd(a),this._element.style[o]=this._element[s]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&ot(this._element).hasClass(pt)){var e=ot.Event(ft.HIDE);if(ot(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",Et.reflow(this._element),ot(this._element).addClass(gt).removeClass(dt).removeClass(pt);var i=this._triggerArray.length;if(0<i)for(var r=0;r<i;r++){var o=this._triggerArray[r],s=Et.getSelectorFromElement(o);null!==s&&(ot([].slice.call(document.querySelectorAll(s))).hasClass(pt)||ot(o).addClass(vt).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var a=Et.getTransitionDurationFromElement(this._element);ot(this._element).one(Et.TRANSITION_END,function(){t.setTransitioning(!1),ot(t._element).removeClass(gt).addClass(dt).trigger(ft.HIDDEN)}).emulateTransitionEnd(a)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){ot.removeData(this._element,at),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=o({},ct,t)).toggle=Boolean(t.toggle),Et.typeCheckConfig(st,t,ht),t},e._getDimension=function(){return ot(this._element).hasClass(mt)?mt:"height"},e._getParent=function(){var e=this,n=null;Et.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(n.querySelectorAll(i));return ot(r).each(function(n,i){e._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])}),n},e._addAriaAndCollapsedClass=function(t,e){if(t){var n=ot(t).hasClass(pt);e.length&&ot(e).toggleClass(vt,!n).attr("aria-expanded",n)}},t._getTargetFromElement=function(t){var e=Et.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each(function(){var n=ot(this),i=n.data(at),r=o({},ct,n.data(),"object"==typeof e&&e?e:{});if(!i&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),i||(i=new t(this,r),n.data(at,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return ct}}]),t}(),ot(document).on(ft.CLICK_DATA_API,_t,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=ot(this),n=Et.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));ot(i).each(function(){var t=ot(this),n=t.data(at)?"toggle":e.data();xt._jQueryInterface.call(t,n)})}),ot.fn[st]=xt._jQueryInterface,ot.fn[st].Constructor=xt,ot.fn[st].noConflict=function(){return ot.fn[st]=ut,xt._jQueryInterface},xt),Ct="undefined"!=typeof window&&"undefined"!=typeof document,It=["Edge","Trident","Firefox"],Rt=0,At=0;At<It.length;At+=1)if(Ct&&0<=navigator.userAgent.indexOf(It[At])){Rt=1;break}var Lt=Ct&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},Rt))}};function kt(t){return t&&"[object Function]"==={}.toString.call(t)}function Ot(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function Dt(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Pt(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Ot(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:Pt(Dt(t))}var Mt=Ct&&!(!window.MSInputMethodContext||!document.documentMode),Nt=Ct&&/MSIE 10/.test(navigator.userAgent);function Ft(t){return 11===t?Mt:10===t?Nt:Mt||Nt}function jt(t){if(!t)return document.documentElement;for(var e=Ft(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===Ot(n,"position")?jt(n):n:t?t.ownerDocument.documentElement:document.documentElement}function Ut(t){return null!==t.parentNode?Ut(t.parentNode):t}function Gt(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&jt(s.firstElementChild)!==s?jt(l):l;var u=Ut(t);return u.host?Gt(u.host,e):Gt(t,Ut(e).host)}function Bt(t){var e="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function Wt(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function Ht(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Ft(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function Yt(){var t=document.body,e=document.documentElement,n=Ft(10)&&getComputedStyle(e);return{height:Ht("Height",t,e,n),width:Ht("Width",t,e,n)}}var zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),qt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function Vt(t){return Xt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Kt(t){var e={};try{if(Ft(10)){e=t.getBoundingClientRect();var n=Bt(t,"top"),i=Bt(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?Yt():{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var c=Ot(t);l-=Wt(c,"x"),u-=Wt(c,"y"),r.width-=l,r.height-=u}return Vt(r)}function Zt(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=Ft(10),r="HTML"===e.nodeName,o=Kt(t),s=Kt(e),a=Pt(t),l=Ot(e),u=parseFloat(l.borderTopWidth,10),c=parseFloat(l.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=Vt({top:o.top-s.top-u,left:o.left-s.left-c,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var f=parseFloat(l.marginTop,10),p=parseFloat(l.marginLeft,10);h.top-=u-f,h.bottom-=u-f,h.left-=c-p,h.right-=c-p,h.marginTop=f,h.marginLeft=p}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=Bt(e,"top"),r=Bt(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(h,e)),h}function $t(t){if(!t||!t.parentElement||Ft())return document.documentElement;for(var e=t.parentElement;e&&"none"===Ot(e,"transform");)e=e.parentElement;return e||document.documentElement}function Jt(t,e,n,i){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?$t(t):Gt(t,e);if("viewport"===i)o=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=Zt(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:Bt(n),a=e?0:Bt(n,"left");return Vt({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=Pt(Dt(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var l=Zt(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Ot(e,"position")||t(Dt(e)))}(s))o=l;else{var u=Yt(),c=u.height,h=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function Qt(t,e,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=Jt(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return Xt({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=0<u.length?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function te(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return Zt(n,i?$t(e):Gt(e,n),i)}function ee(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function ne(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function ie(t,e,n){n=n.split("-")[0];var i=ee(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[ne(a)],r}function re(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function oe(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=re(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&kt(n)&&(e.offsets.popper=Vt(e.offsets.popper),e.offsets.reference=Vt(e.offsets.reference),e=n(e,t))}),e}function se(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function ae(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function le(t){var e=t.ownerDocument;return e?e.defaultView:window}function ue(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ce(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&ue(e[n])&&(i="px"),t.style[n]=e[n]+i})}function he(t,e,n){var i=re(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var fe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pe=fe.slice(3);function de(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=pe.indexOf(t),i=pe.slice(n+1).concat(pe.slice(0,n));return e?i.reverse():i}var ge={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:qt({},l,o[l]),end:qt({},l,o[l]+o[u]-s[u])};t.offsets.popper=Xt({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,i=e.offset,r=t.placement,o=t.offsets,s=o.popper,a=o.reference,l=r.split("-")[0];return n=ue(+i)?[+i,0]:function(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(re(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return Vt(a)[e]/100*o}return"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){ue(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}(i,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||jt(t.instance.popper);t.instance.reference===n&&(n=jt(n));var i=ae("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=Jt(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),qt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),qt({},n,i)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=Xt({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!he(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),u=l?"height":"width",c=l?"Top":"Left",h=c.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",d=ee(i)[u];a[p]-d<s[h]&&(t.offsets.popper[h]-=s[h]-(a[p]-d)),a[h]+d>s[p]&&(t.offsets.popper[h]+=a[h]+d-s[p]),t.offsets.popper=Vt(t.offsets.popper);var g=a[h]+a[u]/2-d/2,v=Ot(t.instance.popper),m=parseFloat(v["margin"+c],10),y=parseFloat(v["border"+c+"Width"],10),_=g-t.offsets.popper[h]-m-y;return _=Math.max(Math.min(s[u]-d,_),0),t.arrowElement=i,t.offsets.arrow=(qt(n={},h,Math.round(_)),qt(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(se(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=Jt(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=ne(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case"flip":s=[i,r];break;case"clockwise":s=de(i);break;case"counterclockwise":s=de(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=ne(i);var u,c=t.offsets.popper,h=t.offsets.reference,f=Math.floor,p="left"===i&&f(c.right)>f(h.left)||"right"===i&&f(c.left)<f(h.right)||"top"===i&&f(c.bottom)>f(h.top)||"bottom"===i&&f(c.top)<f(h.bottom),d=f(c.left)<f(n.left),g=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),y="left"===i&&d||"right"===i&&g||"top"===i&&v||"bottom"===i&&m,_=-1!==["top","bottom"].indexOf(i),x=!!e.flipVariations&&(_&&"start"===o&&d||_&&"end"===o&&g||!_&&"start"===o&&v||!_&&"end"===o&&m);(p||y||x)&&(t.flipped=!0,(p||y)&&(i=s[l+1]),x&&(o="end"===(u=o)?"start":"start"===u?"end":u),t.placement=i+(o?"-"+o:""),t.offsets.popper=Xt({},t.offsets.popper,ie(t.instance.popper,t.offsets.reference,t.placement)),t=oe(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=ne(e),t.offsets.popper=Vt(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!he(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=re(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=re(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==o?o:e.gpuAcceleration,u=Kt(jt(t.instance.popper)),c={position:r.position},h={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},f="bottom"===n?"top":"bottom",p="right"===i?"left":"right",d=ae("transform");if(a="bottom"===f?-u.height+h.bottom:h.top,s="right"===p?-u.width+h.right:h.left,l&&d)c[d]="translate3d("+s+"px, "+a+"px, 0)",c[f]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,v="right"===p?-1:1;c[f]=a*g,c[p]=s*v,c.willChange=f+", "+p}var m={"x-placement":t.placement};return t.attributes=Xt({},m,t.attributes),t.styles=Xt({},c,t.styles),t.arrowStyles=Xt({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return ce(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&ce(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=te(r,e,t,n.positionFixed),s=Qt(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),ce(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ve=function(){function t(e,n){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=Lt(this.update.bind(this)),this.options=Xt({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Xt({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Xt({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Xt({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&kt(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return zt(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=te(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Qt(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=ie(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=oe(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,se(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ae("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=function(t,e,n,i){n.updateBound=i,le(t).addEventListener("resize",n.updateBound,{passive:!0});var r=Pt(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(Pt(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return function(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,le(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}.call(this)}}]),t}();ve.Utils=("undefined"!=typeof window?window:t).PopperUtils,ve.placements=fe,ve.Defaults=ge;var me,ye,_e,xe,Ee,be,Te,we,Se,Ce,Ie,Re,Ae,Le,ke,Oe,De,Pe,Me,Ne,Fe,je,Ue,Ge,Be,We,He,Ye,ze,qe,Xe,Ve,Ke,Ze,$e,Je,Qe,tn,en,nn,rn,on,sn,an,ln,un,cn,hn,fn,pn,dn,gn,vn,mn,yn,_n,xn,En,bn,Tn,wn,Sn,Cn,In,Rn,An,Ln,kn,On,Dn,Pn,Mn,Nn,Fn,jn,Un,Gn,Bn,Wn,Hn,Yn,zn,qn,Xn,Vn,Kn,Zn,$n,Jn,Qn,ti,ei,ni,ii,ri,oi,si,ai,li,ui,ci,hi,fi,pi,di,gi,vi,mi,yi,_i,xi,Ei,bi,Ti,wi,Si,Ci,Ii=(ye="dropdown",xe="."+(_e="bs.dropdown"),Ee=".data-api",be=(me=n).fn[ye],Te=new RegExp("38|40|27"),we={HIDE:"hide"+xe,HIDDEN:"hidden"+xe,SHOW:"show"+xe,SHOWN:"shown"+xe,CLICK:"click"+xe,CLICK_DATA_API:"click"+xe+Ee,KEYDOWN_DATA_API:"keydown"+xe+Ee,KEYUP_DATA_API:"keyup"+xe+Ee},Se="disabled",Ce="show",Ie="dropright",Re="dropleft",Ae="dropdown-menu-right",Le="position-static",ke='[data-toggle="dropdown"]',Oe=".dropdown form",De=".dropdown-menu",Pe=".navbar-nav",Me=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ne="top-start",Fe="top-end",je="bottom-start",Ue="bottom-end",Ge="right-start",Be="left-start",We={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},He={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Ye=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!me(this._element).hasClass(Se)){var e=t._getParentFromElement(this._element),n=me(this._menu).hasClass(Ce);if(t._clearMenus(),!n){var i={relatedTarget:this._element},r=me.Event(we.SHOW,i);if(me(e).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if(void 0===ve)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var o=this._element;"parent"===this._config.reference?o=e:Et.isElement(this._config.reference)&&(o=this._config.reference,void 0!==this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&me(e).addClass(Le),this._popper=new ve(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===me(e).closest(Pe).length&&me(document.body).children().on("mouseover",null,me.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),me(this._menu).toggleClass(Ce),me(e).toggleClass(Ce).trigger(me.Event(we.SHOWN,i))}}}},e.dispose=function(){me.removeData(this._element,_e),me(this._element).off(xe),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;me(this._element).on(we.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(t){return t=o({},this.constructor.Default,me(this._element).data(),t),Et.typeCheckConfig(ye,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(De))}return this._menu},e._getPlacement=function(){var t=me(this._element.parentNode),e=je;return t.hasClass("dropup")?(e=Ne,me(this._menu).hasClass(Ae)&&(e=Fe)):t.hasClass(Ie)?e=Ge:t.hasClass(Re)?e=Be:me(this._menu).hasClass(Ae)&&(e=Ue),e},e._detectNavbar=function(){return 0<me(this._element).closest(".navbar").length},e._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},t._jQueryInterface=function(e){return this.each(function(){var n=me(this).data(_e);if(n||(n=new t(this,"object"==typeof e?e:null),me(this).data(_e,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},t._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll(ke)),i=0,r=n.length;i<r;i++){var o=t._getParentFromElement(n[i]),s=me(n[i]).data(_e),a={relatedTarget:n[i]};if(e&&"click"===e.type&&(a.clickEvent=e),s){var l=s._menu;if(me(o).hasClass(Ce)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&me.contains(o,e.target))){var u=me.Event(we.HIDE,a);me(o).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&me(document.body).children().off("mouseover",null,me.noop),n[i].setAttribute("aria-expanded","false"),me(l).removeClass(Ce),me(o).removeClass(Ce).trigger(me.Event(we.HIDDEN,a)))}}}},t._getParentFromElement=function(t){var e,n=Et.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||me(e.target).closest(De).length)):Te.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!me(this).hasClass(Se))){var n=t._getParentFromElement(this),i=me(n).hasClass(Ce);if((i||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)){var r=[].slice.call(n.querySelectorAll(Me));if(0!==r.length){var o=r.indexOf(e.target);38===e.which&&0<o&&o--,40===e.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===e.which){var s=n.querySelector(ke);me(s).trigger("focus")}me(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return We}},{key:"DefaultType",get:function(){return He}}]),t}(),me(document).on(we.KEYDOWN_DATA_API,ke,Ye._dataApiKeydownHandler).on(we.KEYDOWN_DATA_API,De,Ye._dataApiKeydownHandler).on(we.CLICK_DATA_API+" "+we.KEYUP_DATA_API,Ye._clearMenus).on(we.CLICK_DATA_API,ke,function(t){t.preventDefault(),t.stopPropagation(),Ye._jQueryInterface.call(me(this),"toggle")}).on(we.CLICK_DATA_API,Oe,function(t){t.stopPropagation()}),me.fn[ye]=Ye._jQueryInterface,me.fn[ye].Constructor=Ye,me.fn[ye].noConflict=function(){return me.fn[ye]=be,Ye._jQueryInterface},Ye),Ri=(qe="modal",Ve="."+(Xe="bs.modal"),Ke=(ze=n).fn[qe],Ze={backdrop:!0,keyboard:!0,focus:!0,show:!0},$e={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Je={HIDE:"hide"+Ve,HIDDEN:"hidden"+Ve,SHOW:"show"+Ve,SHOWN:"shown"+Ve,FOCUSIN:"focusin"+Ve,RESIZE:"resize"+Ve,CLICK_DISMISS:"click.dismiss"+Ve,KEYDOWN_DISMISS:"keydown.dismiss"+Ve,MOUSEUP_DISMISS:"mouseup.dismiss"+Ve,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Ve,CLICK_DATA_API:"click"+Ve+".data-api"},Qe="modal-scrollbar-measure",tn="modal-backdrop",en="modal-open",nn="fade",rn="show",on=".modal-dialog",sn='[data-toggle="modal"]',an='[data-dismiss="modal"]',ln=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",un=".sticky-top",cn=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(on),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isTransitioning&&!this._isShown){ze(this._element).hasClass(nn)&&(this._isTransitioning=!0);var n=ze.Event(Je.SHOW,{relatedTarget:t});ze(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),ze(document.body).addClass(en),this._setEscapeEvent(),this._setResizeEvent(),ze(this._element).on(Je.CLICK_DISMISS,an,function(t){return e.hide(t)}),ze(this._dialog).on(Je.MOUSEDOWN_DISMISS,function(){ze(e._element).one(Je.MOUSEUP_DISMISS,function(t){ze(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var n=ze.Event(Je.HIDE);if(ze(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=ze(this._element).hasClass(nn);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),ze(document).off(Je.FOCUSIN),ze(this._element).removeClass(rn),ze(this._element).off(Je.CLICK_DISMISS),ze(this._dialog).off(Je.MOUSEDOWN_DISMISS),i){var r=Et.getTransitionDurationFromElement(this._element);ze(this._element).one(Et.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},e.dispose=function(){ze.removeData(this._element,Xe),ze(window,document,this._element,this._backdrop).off(Ve),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=o({},Ze,t),Et.typeCheckConfig(qe,t,$e),t},e._showElement=function(t){var e=this,n=ze(this._element).hasClass(nn);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&Et.reflow(this._element),ze(this._element).addClass(rn),this._config.focus&&this._enforceFocus();var i=ze.Event(Je.SHOWN,{relatedTarget:t}),r=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,ze(e._element).trigger(i)};if(n){var o=Et.getTransitionDurationFromElement(this._element);ze(this._dialog).one(Et.TRANSITION_END,r).emulateTransitionEnd(o)}else r()},e._enforceFocus=function(){var t=this;ze(document).off(Je.FOCUSIN).on(Je.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===ze(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?ze(this._element).on(Je.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||ze(this._element).off(Je.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?ze(window).on(Je.RESIZE,function(e){return t.handleUpdate(e)}):ze(window).off(Je.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){ze(document.body).removeClass(en),t._resetAdjustments(),t._resetScrollbar(),ze(t._element).trigger(Je.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(ze(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=ze(this._element).hasClass(nn)?nn:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=tn,n&&this._backdrop.classList.add(n),ze(this._backdrop).appendTo(document.body),ze(this._element).on(Je.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),n&&Et.reflow(this._backdrop),ze(this._backdrop).addClass(rn),!t)return;if(!n)return void t();var i=Et.getTransitionDurationFromElement(this._backdrop);ze(this._backdrop).one(Et.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){ze(this._backdrop).removeClass(rn);var r=function(){e._removeBackdrop(),t&&t()};if(ze(this._element).hasClass(nn)){var o=Et.getTransitionDurationFromElement(this._backdrop);ze(this._backdrop).one(Et.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(ln)),n=[].slice.call(document.querySelectorAll(un));ze(e).each(function(e,n){var i=n.style.paddingRight,r=ze(n).css("padding-right");ze(n).data("padding-right",i).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),ze(n).each(function(e,n){var i=n.style.marginRight,r=ze(n).css("margin-right");ze(n).data("margin-right",i).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")});var i=document.body.style.paddingRight,r=ze(document.body).css("padding-right");ze(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(ln));ze(t).each(function(t,e){var n=ze(e).data("padding-right");ze(e).removeData("padding-right"),e.style.paddingRight=n||""});var e=[].slice.call(document.querySelectorAll(""+un));ze(e).each(function(t,e){var n=ze(e).data("margin-right");void 0!==n&&ze(e).css("margin-right",n).removeData("margin-right")});var n=ze(document.body).data("padding-right");ze(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Qe,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each(function(){var i=ze(this).data(Xe),r=o({},Ze,ze(this).data(),"object"==typeof e&&e?e:{});if(i||(i=new t(this,r),ze(this).data(Xe,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e](n)}else r.show&&i.show(n)})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ze}}]),t}(),ze(document).on(Je.CLICK_DATA_API,sn,function(t){var e,n=this,i=Et.getSelectorFromElement(this);i&&(e=document.querySelector(i));var r=ze(e).data(Xe)?"toggle":o({},ze(e).data(),ze(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var s=ze(e).one(Je.SHOW,function(t){t.isDefaultPrevented()||s.one(Je.HIDDEN,function(){ze(n).is(":visible")&&n.focus()})});cn._jQueryInterface.call(ze(e),r,this)}),ze.fn[qe]=cn._jQueryInterface,ze.fn[qe].Constructor=cn,ze.fn[qe].noConflict=function(){return ze.fn[qe]=Ke,cn._jQueryInterface},cn),Ai=(fn="tooltip",dn="."+(pn="bs.tooltip"),gn=(hn=n).fn[fn],vn="bs-tooltip",mn=new RegExp("(^|\\s)"+vn+"\\S+","g"),xn={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(_n={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(yn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},bn="out",Tn={HIDE:"hide"+dn,HIDDEN:"hidden"+dn,SHOW:(En="show")+dn,SHOWN:"shown"+dn,INSERTED:"inserted"+dn,CLICK:"click"+dn,FOCUSIN:"focusin"+dn,FOCUSOUT:"focusout"+dn,MOUSEENTER:"mouseenter"+dn,MOUSELEAVE:"mouseleave"+dn},wn="fade",Sn="show",Cn=".tooltip-inner",In="hover",Rn="focus",An=function(){function t(t,e){if(void 0===ve)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=hn(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),hn(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(hn(this.getTipElement()).hasClass(Sn))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),hn.removeData(this.element,this.constructor.DATA_KEY),hn(this.element).off(this.constructor.EVENT_KEY),hn(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&hn(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===hn(this.element).css("display"))throw new Error("Please use show on visible elements");var e=hn.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){hn(this.element).trigger(e);var n=hn.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;var i=this.getTipElement(),r=Et.getUID(this.constructor.NAME);i.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&hn(i).addClass(wn);var o="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,s=this._getAttachment(o);this.addAttachmentClass(s);var a=!1===this.config.container?document.body:hn(document).find(this.config.container);hn(i).data(this.constructor.DATA_KEY,this),hn.contains(this.element.ownerDocument.documentElement,this.tip)||hn(i).appendTo(a),hn(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new ve(this.element,i,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),hn(i).addClass(Sn),"ontouchstart"in document.documentElement&&hn(document.body).children().on("mouseover",null,hn.noop);var l=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,hn(t.element).trigger(t.constructor.Event.SHOWN),e===bn&&t._leave(null,t)};if(hn(this.tip).hasClass(wn)){var u=Et.getTransitionDurationFromElement(this.tip);hn(this.tip).one(Et.TRANSITION_END,l).emulateTransitionEnd(u)}else l()}},e.hide=function(t){var e=this,n=this.getTipElement(),i=hn.Event(this.constructor.Event.HIDE),r=function(){e._hoverState!==En&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),hn(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(hn(this.element).trigger(i),!i.isDefaultPrevented()){if(hn(n).removeClass(Sn),"ontouchstart"in document.documentElement&&hn(document.body).children().off("mouseover",null,hn.noop),this._activeTrigger.click=!1,this._activeTrigger[Rn]=!1,this._activeTrigger[In]=!1,hn(this.tip).hasClass(wn)){var o=Et.getTransitionDurationFromElement(n);hn(n).one(Et.TRANSITION_END,r).emulateTransitionEnd(o)}else r();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){hn(this.getTipElement()).addClass(vn+"-"+t)},e.getTipElement=function(){return this.tip=this.tip||hn(this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(hn(t.querySelectorAll(Cn)),this.getTitle()),hn(t).removeClass(wn+" "+Sn)},e.setElementContent=function(t,e){var n=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?n?hn(e).parent().is(t)||t.empty().append(e):t.text(hn(e).text()):t[n?"html":"text"](e)},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getAttachment=function(t){return _n[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)hn(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if("manual"!==e){var n=e===In?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i=e===In?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;hn(t.element).on(n,t.config.selector,function(e){return t._enter(e)}).on(i,t.config.selector,function(e){return t._leave(e)})}hn(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||hn(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),hn(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?Rn:In]=!0),hn(e.getTipElement()).hasClass(Sn)||e._hoverState===En?e._hoverState=En:(clearTimeout(e._timeout),e._hoverState=En,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===En&&e.show()},e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||hn(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),hn(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?Rn:In]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=bn,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===bn&&e.hide()},e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){return"number"==typeof(t=o({},this.constructor.Default,hn(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),Et.typeCheckConfig(fn,t,this.constructor.DefaultType),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=hn(this.getTipElement()),e=t.attr("class").match(mn);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(hn(t).removeClass(wn),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each(function(){var n=hn(this).data(pn),i="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,i),hn(this).data(pn,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return xn}},{key:"NAME",get:function(){return fn}},{key:"DATA_KEY",get:function(){return pn}},{key:"Event",get:function(){return Tn}},{key:"EVENT_KEY",get:function(){return dn}},{key:"DefaultType",get:function(){return yn}}]),t}(),hn.fn[fn]=An._jQueryInterface,hn.fn[fn].Constructor=An,hn.fn[fn].noConflict=function(){return hn.fn[fn]=gn,An._jQueryInterface},An),Li=(kn="popover",Dn="."+(On="bs.popover"),Pn=(Ln=n).fn[kn],Mn="bs-popover",Nn=new RegExp("(^|\\s)"+Mn+"\\S+","g"),Fn=o({},Ai.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),jn=o({},Ai.DefaultType,{content:"(string|element|function)"}),Un=".popover-header",Gn=".popover-body",Bn={HIDE:"hide"+Dn,HIDDEN:"hidden"+Dn,SHOW:"show"+Dn,SHOWN:"shown"+Dn,INSERTED:"inserted"+Dn,CLICK:"click"+Dn,FOCUSIN:"focusin"+Dn,FOCUSOUT:"focusout"+Dn,MOUSEENTER:"mouseenter"+Dn,MOUSELEAVE:"mouseleave"+Dn},Wn=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var o=i.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(t){Ln(this.getTipElement()).addClass(Mn+"-"+t)},o.getTipElement=function(){return this.tip=this.tip||Ln(this.config.template)[0],this.tip},o.setContent=function(){var t=Ln(this.getTipElement());this.setElementContent(t.find(Un),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(Gn),e),t.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var t=Ln(this.getTipElement()),e=t.attr("class").match(Nn);null!==e&&0<e.length&&t.removeClass(e.join(""))},i._jQueryInterface=function(t){return this.each(function(){var e=Ln(this).data(On),n="object"==typeof t?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new i(this,n),Ln(this).data(On,e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},r(i,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Fn}},{key:"NAME",get:function(){return kn}},{key:"DATA_KEY",get:function(){return On}},{key:"Event",get:function(){return Bn}},{key:"EVENT_KEY",get:function(){return Dn}},{key:"DefaultType",get:function(){return jn}}]),i}(Ai),Ln.fn[kn]=Wn._jQueryInterface,Ln.fn[kn].Constructor=Wn,Ln.fn[kn].noConflict=function(){return Ln.fn[kn]=Pn,Wn._jQueryInterface},Wn),ki=(Yn="scrollspy",qn="."+(zn="bs.scrollspy"),Xn=(Hn=n).fn[Yn],Vn={offset:10,method:"auto",target:""},Kn={offset:"number",method:"string",target:"(string|element)"},Zn={ACTIVATE:"activate"+qn,SCROLL:"scroll"+qn,LOAD_DATA_API:"load"+qn+".data-api"},$n="dropdown-item",Jn="active",Qn='[data-spy="scroll"]',ti=".active",ei=".nav, .list-group",ni=".nav-link",ii=".nav-item",ri=".list-group-item",oi=".dropdown",si=".dropdown-item",ai=".dropdown-toggle",li="position",ui=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+ni+","+this._config.target+" "+ri+","+this._config.target+" "+si,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Hn(this._scrollElement).on(Zn.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":li,n="auto"===this._config.method?e:this._config.method,i=n===li?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,r=Et.getSelectorFromElement(t);if(r&&(e=document.querySelector(r)),e){var o=e.getBoundingClientRect();if(o.width||o.height)return[Hn(e)[n]().top+i,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){Hn.removeData(this._element,zn),Hn(this._scrollElement).off(qn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=o({},Vn,"object"==typeof t&&t?t:{})).target){var e=Hn(t.target).attr("id");e||(e=Et.getUID(Yn),Hn(t.target).attr("id",e)),t.target="#"+e}return Et.typeCheckConfig(Yn,t,Kn),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var n=Hn([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass($n)?(n.closest(oi).find(ai).addClass(Jn),n.addClass(Jn)):(n.addClass(Jn),n.parents(ei).prev(ni+", "+ri).addClass(Jn),n.parents(ei).prev(ii).children(ni).addClass(Jn)),Hn(this._scrollElement).trigger(Zn.ACTIVATE,{relatedTarget:t})},e._clear=function(){var t=[].slice.call(document.querySelectorAll(this._selector));Hn(t).filter(ti).removeClass(Jn)},t._jQueryInterface=function(e){return this.each(function(){var n=Hn(this).data(zn);if(n||(n=new t(this,"object"==typeof e&&e),Hn(this).data(zn,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Vn}}]),t}(),Hn(window).on(Zn.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Qn)),e=t.length;e--;){var n=Hn(t[e]);ui._jQueryInterface.call(n,n.data())}}),Hn.fn[Yn]=ui._jQueryInterface,Hn.fn[Yn].Constructor=ui,Hn.fn[Yn].noConflict=function(){return Hn.fn[Yn]=Xn,ui._jQueryInterface},ui),Oi=(fi="."+(hi="bs.tab"),pi=(ci=n).fn.tab,di={HIDE:"hide"+fi,HIDDEN:"hidden"+fi,SHOW:"show"+fi,SHOWN:"shown"+fi,CLICK_DATA_API:"click"+fi+".data-api"},gi="dropdown-menu",vi="active",mi="disabled",yi="show",_i=".dropdown",xi=".nav, .list-group",Ei=".active",bi="> li > .active",Ti='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',wi=".dropdown-toggle",Si="> .dropdown-menu .active",Ci=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&ci(this._element).hasClass(vi)||ci(this._element).hasClass(mi))){var e,n,i=ci(this._element).closest(xi)[0],r=Et.getSelectorFromElement(this._element);if(i){var o="UL"===i.nodeName?bi:Ei;n=(n=ci.makeArray(ci(i).find(o)))[n.length-1]}var s=ci.Event(di.HIDE,{relatedTarget:this._element}),a=ci.Event(di.SHOW,{relatedTarget:n});if(n&&ci(n).trigger(s),ci(this._element).trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(e=document.querySelector(r)),this._activate(this._element,i);var l=function(){var e=ci.Event(di.HIDDEN,{relatedTarget:t._element}),i=ci.Event(di.SHOWN,{relatedTarget:n});ci(n).trigger(e),ci(t._element).trigger(i)};e?this._activate(e,e.parentNode,l):l()}}},e.dispose=function(){ci.removeData(this._element,hi),this._element=null},e._activate=function(t,e,n){var i=this,r=("UL"===e.nodeName?ci(e).find(bi):ci(e).children(Ei))[0],o=n&&r&&ci(r).hasClass("fade"),s=function(){return i._transitionComplete(t,r,n)};if(r&&o){var a=Et.getTransitionDurationFromElement(r);ci(r).one(Et.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},e._transitionComplete=function(t,e,n){if(e){ci(e).removeClass(yi+" "+vi);var i=ci(e.parentNode).find(Si)[0];i&&ci(i).removeClass(vi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(ci(t).addClass(vi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),Et.reflow(t),ci(t).addClass(yi),t.parentNode&&ci(t.parentNode).hasClass(gi)){var r=ci(t).closest(_i)[0];if(r){var o=[].slice.call(r.querySelectorAll(wi));ci(o).addClass(vi)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each(function(){var n=ci(this),i=n.data(hi);if(i||(i=new t(this),n.data(hi,i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}(),ci(document).on(di.CLICK_DATA_API,Ti,function(t){t.preventDefault(),Ci._jQueryInterface.call(ci(this),"show")}),ci.fn.tab=Ci._jQueryInterface,ci.fn.tab.Constructor=Ci,ci.fn.tab.noConflict=function(){return ci.fn.tab=pi,Ci._jQueryInterface},Ci);!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(n),e.Util=Et,e.Alert=bt,e.Button=Tt,e.Carousel=wt,e.Collapse=St,e.Dropdown=Ii,e.Modal=Ri,e.Popover=Li,e.Scrollspy=ki,e.Tab=Oi,e.Tooltip=Ai,Object.defineProperty(e,"__esModule",{value:!0})}(e,n(52))}).call(this,n(134))},function(t,e,n){"use strict";var i=n(16),r=n(267),o=n.n(r),s=n(196),a=n.n(s),l=n(129),u=n.n(l),c={lng:document.documentElement.lang,defaultNS:"app"};i.a.use(o.a).init(c,function(t,e){t&&console.error("Failed to initialize i18next:",t)}),i.a.addResourceBundle("fi","app",a.a),i.a.addResourceBundle("en","app",u.a),i.a.addResourceBundle("sv","app",u.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=n(287);e.default={name:"sprintf",type:"postProcessor",process:function(t,e,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?(0,r.vsprintf)(t,n.sprintf):"object"===i(n.sprintf)?(0,r.sprintf)(t,n.sprintf):t:t},overloadTranslationOptionHandler:function(t){for(var e=[],n=1;n<t.length;n++)e.push(t[n]);return{postProcess:"sprintf",sprintf:e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sprintf=r,e.vsprintf=function(t,e,n){return(n=(e||[]).slice(0)).splice(0,0,t),r.apply(null,n)};var i={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function r(){var t=arguments[0],e=r.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=r.parse(t)),r.format.call(null,e[t],arguments)}function o(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function s(t,e){return Array(e+1).join(t)}r.format=function(t,e){var n,a,l,u,c,h,f,p=1,d=t.length,g="",v=[],m=!0,y="";for(a=0;a<d;a++)if("string"===(g=o(t[a])))v[v.length]=t[a];else if("array"===g){if((u=t[a])[2])for(n=e[p],l=0;l<u[2].length;l++){if(!n.hasOwnProperty(u[2][l]))throw new Error(r("[sprintf] property '%s' does not exist",u[2][l]));n=n[u[2][l]]}else n=u[1]?e[u[1]]:e[p++];if("function"==o(n)&&(n=n()),i.not_string.test(u[8])&&i.not_json.test(u[8])&&"number"!=o(n)&&isNaN(n))throw new TypeError(r("[sprintf] expecting number but found %s",o(n)));switch(i.number.test(u[8])&&(m=n>=0),u[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,u[6]?parseInt(u[6]):0);break;case"e":n=u[7]?n.toExponential(u[7]):n.toExponential();break;case"f":n=u[7]?parseFloat(n).toFixed(u[7]):parseFloat(n);break;case"g":n=u[7]?parseFloat(n).toPrecision(u[7]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&u[7]?n.substring(0,u[7]):n;break;case"u":n>>>=0;break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}i.json.test(u[8])?v[v.length]=n:(!i.number.test(u[8])||m&&!u[3]?y="":(y=m?"+":"-",n=n.toString().replace(i.sign,"")),h=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",f=u[6]-(y+n).length,c=u[6]&&f>0?s(h,f):"",v[v.length]=u[5]?y+n+c:"0"===h?y+c+n:c+y+n)}return v.join("")},r.cache={},r.parse=function(t){for(var e=t,n=[],r=[],o=0;e;){if(null!==(n=i.text.exec(e)))r[r.length]=n[0];else if(null!==(n=i.modulo.exec(e)))r[r.length]="%";else{if(null===(n=i.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){o|=1;var s=[],a=n[2],l=[];if(null===(l=i.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=i.key_access.exec(a)))s[s.length]=l[1];else{if(null===(l=i.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=l[1]}n[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}e=e.substring(n[0].length)}return r}},function(t,e,n){"use strict";(function(t){var e=n(65),i=n(16),r=n(99);!function(t,n){function r(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length>0?i.a.t(t,{postProcess:"sprintf",sprintf:n}):i.a.t(t)}n.extendFilter("trans",r),n.extendFilter("statusDescription",function(t){if(!t.length)return null;var n=new Date,i=!0,o=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value,c=u.opens?Object(e.parse)(u.date+" "+u.opens):null,h=u.closes?Object(e.parse)(u.date+" "+u.closes):null;if(Object(e.isToday)(u.date)){if(Object(e.isAfter)(c,n))return r("status.opens_at_time",[Object(e.format)(c,"HH:mm")]);if(Object(e.isAfter)(h,n))return[Object(e.format)(c,"HH:mm"),Object(e.format)(h,"HH:mm")].join("  ")}else if(Object(e.isTomorrow)(u.date)&&c){var f=Object(e.format)(c,"HH:mm")+"  "+Object(e.format)(h,"HH:mm");return r("tomorrow")+' <span style="white-space: nowrap">'+f+"</span>"}}}catch(t){o=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return"<em>"+r("check_schedules")+"</em>"}),n.extendFunction("path",function(t,e){var n=new Map([["library.show","/{city}/{slug}"]]);if(n.has(t)){for(var i=n.get(t),r=Object.keys(e),o=0;o<r.length;o++){var s=r[o];i=i.replace("{"+s+"}",e[s])}return i}return"#noroute"}),t('[type="text/x-twig"]').each(function(t,e){n.twig({id:e.id,data:atob(e.innerText)})})}(t,n.n(r).a)}).call(this,n(52))},function(t,e,n){var i=n(6);t.exports=function(t,e,n,r){var o=i(t).getTime(),s=i(e).getTime(),a=i(n).getTime(),l=i(r).getTime();if(o>s||a>l)throw new Error("The start of the range cannot be after the end of the range");return o<l&&a<s}},function(t,e,n){var i=n(6);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,r,o=i(t).getTime();return e.forEach(function(t,e){var s=i(t),a=Math.abs(o-s.getTime());(void 0===n||a<r)&&(n=e,r=a)}),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,r,o=i(t).getTime();return e.forEach(function(t){var e=i(t),s=Math.abs(o-e.getTime());(void 0===n||s<r)&&(n=e,r=s)}),n}},function(t,e,n){var i=n(89);t.exports=function(t,e){var n=i(t),r=i(e),o=n.getTime()-6e4*n.getTimezoneOffset(),s=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((o-s)/6048e5)}},function(t,e,n){var i=n(210),r=n(6);t.exports=function(t,e){var n=r(t),o=r(e);return 4*(n.getFullYear()-o.getFullYear())+(i(n)-i(o))}},function(t,e,n){var i=n(135);t.exports=function(t,e,n){var r=i(t,n),o=i(e,n),s=r.getTime()-6e4*r.getTimezoneOffset(),a=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((s-a)/6048e5)}},function(t,e,n){var i=n(138);t.exports=function(t,e){var n=i(t,e)/36e5;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var i=n(6),r=n(208),o=n(125),s=n(213);t.exports=function(t,e){var n=i(t),a=i(e),l=o(n,a),u=Math.abs(r(n,a));return n=s(n,l*u),l*(u-(o(n,a)===-l))}},function(t,e,n){var i=n(138);t.exports=function(t,e){var n=i(t,e)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var i=n(163);t.exports=function(t,e){var n=i(t,e)/3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var i=n(212);t.exports=function(t,e){var n=i(t,e)/7;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var i=n(6),r=n(211),o=n(125);t.exports=function(t,e){var n=i(t),s=i(e),a=o(n,s),l=Math.abs(r(n,s));return n.setFullYear(n.getFullYear()-a*l),a*(l-(o(n,s)===-a))}},function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,i){var r;return i=i||{},r="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),i.addSuffix?i.comparison>0?"in "+r:r+" ago":r}}}},function(t,e,n){var i=n(303);t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],a=["am","pm"],l=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return r[t.getDay()]},dddd:function(t){return o[t.getDay()]},A:function(t){return t.getHours()/12>=1?s[1]:s[0]},a:function(t){return t.getHours()/12>=1?a[1]:a[0]},aa:function(t){return t.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){u[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:u,formattingTokensRegExp:i(u)}}},function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);var r=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")}},function(t,e,n){var i=n(162),r=n(6),o=n(164),s=n(165),a=525600;t.exports=function(t,e,n){var l=n||{},u=i(t,e),c=l.locale,h=s.distanceInWords.localize;c&&c.distanceInWords&&c.distanceInWords.localize&&(h=c.distanceInWords.localize);var f,p,d,g={addSuffix:Boolean(l.addSuffix),comparison:u};u>0?(f=r(t),p=r(e)):(f=r(e),p=r(t));var v=Math[l.partialMethod?String(l.partialMethod):"floor"],m=o(p,f),y=p.getTimezoneOffset()-f.getTimezoneOffset(),_=v(m/60)-y;if("s"===(d=l.unit?String(l.unit):_<1?"s":_<60?"m":_<1440?"h":_<43200?"d":_<a?"M":"Y"))return h("xSeconds",m,g);if("m"===d)return h("xMinutes",_,g);if("h"===d)return h("xHours",v(_/60),g);if("d"===d)return h("xDays",v(_/1440),g);if("M"===d)return h("xMonths",v(_/43200),g);if("Y"===d)return h("xYears",v(_/a),g);throw new Error("Unknown unit: "+d)}},function(t,e,n){var i=n(214);t.exports=function(t,e){return i(Date.now(),t,e)}},function(t,e,n){var i=n(6);t.exports=function(t,e,n){var r=i(t),o=i(e),s=void 0!==n?n:1,a=o.getTime();if(r.getTime()>a)throw new Error("The first date cannot be after the second date");var l=[],u=r;for(u.setHours(0,0,0,0);u.getTime()<=a;)l.push(i(u)),u.setDate(u.getDate()+s);return l}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setMinutes(59,59,999),e}},function(t,e,n){var i=n(215);t.exports=function(t){return i(t,{weekStartsOn:1})}},function(t,e,n){var i=n(88),r=n(89);t.exports=function(t){var e=i(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var o=r(n);return o.setMilliseconds(o.getMilliseconds()-1),o}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setSeconds(59,999),e}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setMilliseconds(999),e}},function(t,e,n){var i=n(166);t.exports=function(){return i(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),r=new Date(0);return r.setFullYear(e,n,i+1),r.setHours(23,59,59,999),r}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),r=new Date(0);return r.setFullYear(e,n,i-1),r.setHours(23,59,59,999),r}},function(t,e,n){var i=n(217),r=n(167),o=n(88),s=n(6),a=n(219),l=n(165),u={M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return f(t.getDate(),2)},DDD:function(t){return i(t)},DDDD:function(t){return f(i(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return r(t)},WW:function(t){return f(r(t),2)},YY:function(t){return f(t.getFullYear(),4).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},GG:function(t){return String(o(t)).substr(2)},GGGG:function(t){return o(t)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return f(u.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return f(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},Z:function(t){return h(t.getTimezoneOffset(),":")},ZZ:function(t){return h(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function c(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}function h(t,e){e=e||"";var n=t>0?"-":"+",i=Math.abs(t),r=i%60;return n+f(Math.floor(i/60),2)+e+f(r,2)}function f(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var i=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",r=(n||{}).locale,o=l.format.formatters,h=l.format.formattingTokensRegExp;r&&r.format&&r.format.formatters&&(o=r.format.formatters,r.format.formattingTokensRegExp&&(h=r.format.formattingTokensRegExp));var f=s(t);return a(f)?function(t,e,n){var i,r,o=t.match(n),s=o.length;for(i=0;i<s;i++)r=e[o[i]]||u[o[i]],o[i]=r||c(o[i]);return function(t){for(var e="",n=0;n<s;n++)o[n]instanceof Function?e+=o[n](t,u):e+=o[n];return e}}(i,o,h)(f):"Invalid Date"}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getDate()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getDay()}},function(t,e,n){var i=n(220);t.exports=function(t){return i(t)?366:365}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getHours()}},function(t,e,n){var i=n(124),r=n(161);t.exports=function(t){var e=i(t),n=i(r(e,60)).valueOf()-e.valueOf();return Math.round(n/6048e5)}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getMilliseconds()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getMinutes()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getMonth()}},function(t,e,n){var i=n(6);t.exports=function(t,e,n,r){var o=i(t).getTime(),s=i(e).getTime(),a=i(n).getTime(),l=i(r).getTime();if(o>s||a>l)throw new Error("The start of the range cannot be after the end of the range");if(!(o<l&&a<s))return 0;var u=(l>s?s:l)-(a<o?o:a);return Math.ceil(u/864e5)}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getSeconds()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getFullYear()}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()>r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()<r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){return 1===i(t).getDate()}},function(t,e,n){var i=n(6);t.exports=function(t){return 5===i(t).getDay()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getTime()>(new Date).getTime()}},function(t,e,n){var i=n(6),r=n(166),o=n(216);t.exports=function(t){var e=i(t);return r(e).getTime()===o(e).getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){return 1===i(t).getDay()}},function(t,e,n){var i=n(6);t.exports=function(t){return i(t).getTime()<(new Date).getTime()}},function(t,e,n){var i=n(90);t.exports=function(t,e){var n=i(t),r=i(e);return n.getTime()===r.getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){return 6===i(t).getDay()}},function(t,e,n){var i=n(6);t.exports=function(t){return 0===i(t).getDay()}},function(t,e,n){var i=n(222);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(224);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(225);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(226);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(228);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(229);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(231);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(168);t.exports=function(t,e){return i(new Date,t,e)}},function(t,e,n){var i=n(233);t.exports=function(t){return i(new Date,t)}},function(t,e,n){var i=n(6);t.exports=function(t){return 4===i(t).getDay()}},function(t,e,n){var i=n(90);t.exports=function(t){return i(t).getTime()===i(new Date).getTime()}},function(t,e,n){var i=n(90);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()+1),i(t).getTime()===i(e).getTime()}},function(t,e,n){var i=n(6);t.exports=function(t){return 2===i(t).getDay()}},function(t,e,n){var i=n(6);t.exports=function(t){return 3===i(t).getDay()}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t).getDay();return 0===e||6===e}},function(t,e,n){var i=n(6);t.exports=function(t,e,n){var r=i(t).getTime(),o=i(e).getTime(),s=i(n).getTime();if(o>s)throw new Error("The start of the range cannot be after the end of the range");return r>=o&&r<=s}},function(t,e,n){var i=n(90);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()-1),i(t).getTime()===i(e).getTime()}},function(t,e,n){var i=n(234);t.exports=function(t){return i(t,{weekStartsOn:1})}},function(t,e,n){var i=n(88),r=n(89);t.exports=function(t){var e=i(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var o=r(n);return o.setDate(o.getDate()-1),o}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(0,0,0,0),e}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}},function(t,e,n){var i=n(6);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return i(t)}),e=Math.max.apply(null,t);return new Date(e)}},function(t,e,n){var i=n(6);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return i(t)}),e=Math.min.apply(null,t);return new Date(e)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setDate(r),n}},function(t,e,n){var i=n(6),r=n(122);t.exports=function(t,e,n){var o=n&&Number(n.weekStartsOn)||0,s=i(t),a=Number(e),l=s.getDay();return r(s,((a%7+7)%7<o?7:0)+a-l)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setMonth(0),n.setDate(r),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setHours(r),n}},function(t,e,n){var i=n(6),r=n(122),o=n(221);t.exports=function(t,e){var n=i(t),s=Number(e),a=o(n);return r(n,s-a)}},function(t,e,n){var i=n(6),r=n(167);t.exports=function(t,e){var n=i(t),o=Number(e),s=r(n)-o;return n.setDate(n.getDate()-7*s),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setMilliseconds(r),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setMinutes(r),n}},function(t,e,n){var i=n(6),r=n(235);t.exports=function(t,e){var n=i(t),o=Number(e)-(Math.floor(n.getMonth()/3)+1);return r(n,n.getMonth()+3*o)}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setSeconds(r),n}},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=i(t),r=Number(e);return n.setFullYear(r),n}},function(t,e,n){var i=n(6);t.exports=function(t){var e=i(t);return e.setDate(1),e.setHours(0,0,0,0),e}},function(t,e,n){var i=n(90);t.exports=function(){return i(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),r=new Date(0);return r.setFullYear(e,n,i+1),r.setHours(0,0,0,0),r}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),r=new Date(0);return r.setFullYear(e,n,i-1),r.setHours(0,0,0,0),r}},function(t,e,n){var i=n(122);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(201);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(123);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(204);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(137);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(205);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(206);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(161);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){var i=n(207);t.exports=function(t,e){var n=Number(e);return i(t,-n)}},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return i.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=n(o(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),r="/"===s(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&r&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var u=[];for(l=a;l<r.length;l++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(391))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,u=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&p())}function p(){if(!c){var t=a(f);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){},function(t,e,n){(function(t){t(function(){t(".secure-email").each(function(t,e){var n=function(t){var e=new RegExp("[a-z]","i"),n="A".charCodeAt(0),i="Z".charCodeAt(0),r="";t=t.toUpperCase();for(var o=0;o<t.length;o++)r+=e.test(t[o])?String.fromCharCode((t.charCodeAt(o)-n+13)%(i-n+1)+n):t[o];return r.toLowerCase()}(e.textContent).replace("#","@");if("noLink"in e.dataset)e.textContent=n,e.className=e.className.replace(/\bsecure-email\b/,"");else{var i=document.createElement("a");i.href="mailto:".concat(n),i.textContent=n,e.parentElement.insertBefore(i,e),e.remove(e)}})})}).call(this,n(52))},function(t,e,n){var i=function(){return this||"object"==typeof self&&self}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(395),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=x;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[s]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==i&&r.call(y,s)&&(v=y);var _=w.prototype=b.prototype=Object.create(v);T.prototype=_.constructor=w,w.constructor=T,w[l]=T.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===T||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(_),t},c.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[a]=function(){return this},c.AsyncIterator=C,c.async=function(t,e,n,i){var r=new C(x(t,e,n,i));return c.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(_),_[l]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}}}function x(t,e,n,i){var r=e&&e.prototype instanceof b?e:b,o=Object.create(r.prototype),s=new L(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=I(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=E(t,e,n);if("normal"===l.type){if(i=n.done?d:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}(t,n,s),o}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function T(){}function w(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,s){var a=E(t[n],t,i);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},function(t){return e("throw",t,o,s)})}s(a.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function I(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,I(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=E(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,n){"use strict";(function(t){var e=n(35),i=n.n(e),r=n(30),o=n.n(r);!function(t){var e=function(){function e(t,n){i()(this,e),this._element=t,this._config=n}return o()(e,[{key:"toggle",value:function(){t(this._element).hasClass("expanded")?this.close():this.open()}},{key:"open",value:function(){t(this._element).addClass("expanded"),this.button.setAttribute("aria-expanded","true")}},{key:"close",value:function(){t(this._element).removeClass("expanded"),this.button.setAttribute("aria-expanded","false")}},{key:"button",get:function(){return this._button||(this._button=this._element.querySelector('[data-toggle="details"]')),this._button}}]),e}();t.fn.kifiDetails=function(){this.each(function(){var n=new e(this);t(this).find('[data-toggle="details"]').on("click",function(t){t.preventDefault(),n.toggle()}).attr("aria-controls")==window.location.hash.substr(1)&&n.open()})}}(t)}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(35),i=n.n(e),r=n(30),o=n.n(r),s=n(99),a=n.n(s);!function(t){var e=function(){function e(t){i()(this,e),this._pictures=t,this._view=null}return o()(e,null,[{key:"launch",value:function(){return new Promise(function(n,i){t.post("").done(function(t){var i=new e(t.pictures);i.show(),n(i)})})}}]),o()(e,[{key:"show",value:function(){var e=this,n=a.a.twig({ref:"twig-gallery"}).render({pictures:this.pictures}),i=t(n);this._view=i[0],i.appendTo(document.body),i.find("a").on("click",function(t){t.preventDefault(),e.showImage(t.currentTarget.dataset.picture)}),this.showImage(0)}},{key:"showImage",value:function(e){var n=t(this._view).find(".viewport").empty(),i=this._pictures[e];t("<img/>").attr("src",i.files.large).attr("alt",i.name).appendTo(n);var r=t(this._view).find(".thumb");r.removeClass("active"),t(r.get(e)).addClass("active"),i.description&&t("<figcaption/>").text(i.description).appendTo(n),n.css({backgroundImage:'url("'+i.files.large+'")'})}},{key:"view",get:function(){return this._view}},{key:"pictures",get:function(){return this._pictures}}]),e}();t.fn.kifiGallery=function(){return this.each(function(n,i){t(i).on("click",function(n){e.launch().then(function(e){t(e.view).modal().on("show.bs.modal",function(t){e.view.focus()}).on("hide.bs.modal",function(n){t(e.view).remove(),i.focus()})})})})}}(t,a.a)}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(35),i=n.n(e),r=n(30),o=n.n(r),s=n(100);!function(t){var e=function(){function t(e,n){i()(this,t),this._element=e,this._config=n,e.dataset.input?this._input=document.querySelector(e.dataset.input):this._input=e.querySelector('input[type="checkbox"]'),this._input||(this._input=document.createElement("input"),this._input.type="checkbox"),this.init(),this.observe()}return o()(t,[{key:"init",value:function(){var t=this;s.a.toButton(this._element),this._element.setAttribute("tabindex","0"),this._element.setAttribute("role","button"),this._element.setAttribute("aria-pressed",this.checked?"true":"false"),this._element.addEventListener("click",function(e){return t.onClick(e)}),this._input.addEventListener("change",function(e){return t.onInputChange(e)},!0),Object.defineProperty(this._element,"checked",{get:function(){return t.checked},set:function(e){t.checked=e}}),Object.defineProperty(this._element,"disabled",{get:function(){return t.disabled},set:function(e){t.disabled=e}})}},{key:"observe",value:function(){var t=this;new MutationObserver(function(e){switch(e[0].attributeName){case"aria-pressed":t.checked="true"==t._element.getAttribute("aria-pressed")}}).observe(this._element,{attributes:!0,attributeFilter:["aria-pressed"]})}},{key:"onClick",value:function(t){t.preventDefault(),this.checked=!this.checked,s.a.trigger(this._element,"change")}},{key:"onInputChange",value:function(t){}},{key:"checked",get:function(){return this._input.checked},set:function(t){this._input.checked!=t&&(this._input.checked=t,this._element.checked=this.checked,this._element.setAttribute("aria-pressed",this.checked?"true":"false"),s.a.trigger(this._input,"change"))}},{key:"disabled",get:function(){return this._input.disabled},set:function(t){this._input.disabled=t}}]),t}();t.fn.kifiSwitch=function(){return this.each(function(t,n){new e(n)})}}(t)}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(35),i=n.n(e),r=n(30),o=n.n(r);!function(t){var e=function(){function t(e,n){var r=this;i()(this,t),this._element=e,this._config=n,this._buttonBack=this._element.querySelector("[data-previous-page]"),this._buttonNext=this._element.querySelector("[data-next-page]"),this._buttonBack.addEventListener("click",function(){return r.previousPage()}),this._buttonNext.addEventListener("click",function(){return r.nextPage()}),this.currentPage}return o()(t,[{key:"_setPageState",value:function(t,e){e?t.setAttribute("data-current-page","true"):t.removeAttribute("data-current-page")}},{key:"selectPage",value:function(t){var e=this.currentPage,n=e.parentElement.children;t in n&&(this._setPageState(n[t],!0),this._setPageState(e,!1))}},{key:"previousPage",value:function(){var t=this.currentPage;t.previousElementSibling&&(this._setPageState(t,!1),this._setPageState(t.previousElementSibling,!0))}},{key:"nextPage",value:function(){var t=this.currentPage;t.nextElementSibling&&(this._setPageState(t,!1),this._setPageState(t.nextElementSibling,!0))}},{key:"currentPage",get:function(){var t=this._element.querySelector("[data-current-page]");return t||(t=this._element.querySelector("tbody"),this._setPageState(t,"true")),t}}]),t}();t.fn.kifiPagedTable=function(){return this.each(function(t,n){new e(n)})}}(t)}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(35),i=n.n(e),r=n(30),o=n.n(r);!function(t){var e=function(){function e(n){var r=this;i()(this,e),this._button=n,this._allowed=!1,this._form=t(n).closest("form")[0],t(window).on("scroll",function(e){if(r.enabled){var n=window.scrollY+window.innerHeight,i=t(r._button).offset().top;i>0&&n-i>100&&t(r._button).trigger("click")}}),t(this._button).on("click",function(t){r._allowed=!0})}return o()(e,[{key:"enabled",get:function(){return this._allowed&&!this._form.hasAttribute("data-loading")}}]),e}();t.fn.kifiLoadMore=function(){return this.each(function(t,n){new e(n)})}}(t)}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(35),i=n.n(e),r=n(30),o=n.n(r);!function(t){var e=function(){function e(n,r){var o=this;i()(this,e),this._element=n,this._config=r,t(this._element).find("[data-peek-toggle]").on("click",function(t){t.preventDefault(),o.toggle()})}return o()(e,[{key:"toggle",value:function(){this.expanded?this.collapse():this.expand()}},{key:"expand",value:function(){this._element.setAttribute("data-expanded",""),t(this._element).find("[data-peek-toggle]").attr("aria-expanded","true")}},{key:"collapse",value:function(){this._element.removeAttribute("data-expanded"),t(this._element).find("[data-peek-toggle]").attr("aria-expanded","false")}},{key:"expanded",get:function(){return this._element.hasAttribute("data-expanded")}}]),e}();t.fn.kifiContentPeek=function(){this.each(function(t,n){new e(n)})}}(t)}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(16);t(function(){t("select[multiple]").chosen({width:"100%",multiple:!0,placeholder_text_single:e.a.t("choose"),placeholder_text_multiple:e.a.t("choose")}),t("select[data-custom]").chosen({width:"100%",allow_single_deselect:!0,placeholder_text_single:e.a.t("choose")})}),t('[data-app="multi-select"]').each(function(t,e){})}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var e=n(199),i=n.n(e),r=n(35),o=n.n(r),s=n(30),a=n.n(s),l=n(116),u=n(100),c=n(150),h=n(99),f=n.n(h),p=n(272);!function(t,e){var n=function(){function t(e,n,i){o()(this,t),this.path=e||"",this.query=new Map(n||[]),this.options=i||{}}return a()(t,[{key:"appendPath",value:function(t){this.path=this.path.split("/").filter().push(t).join("/")}},{key:"setQuery",value:function(t,e){"[]"==t.substr(-2)?(t=t.substr(0,t.length-2),this.query.get(t)?this.query.get(t).add(e):this.query.set(t,new Set(e))):this.query.set(t,e)}},{key:"toString",value:function(){var t=i()(this.query).filter(function(t){return""!=t[1]}),e=this.basePath+this.path;return t.length>0&&(e+="?"+t.map(function(t){return t[1]instanceof Set?i()(t[1]).map(function(e){return[t[0]+"[]",encodeURIComponent(e)].join("=")}).join("&"):t.join("=")}).join("&")),e}},{key:"basePath",get:function(){return this.options.basePath||""}}]),t}(),r=function(){function i(e,r){var s=this;o()(this,i),this._form=e,this._config=r||{},this.lastLocation=null,(e=t(e)).on("submit",function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return s.submit.apply(s,[t].concat(n))}),e.find("[data-next-page]").on("click",function(t){return s.onRequestMoreResults(t)}),e.find(":input").on("change",function(t){return e.submit()}),e.find('input[type="search"]').on("keypress",function(t){"Enter"==t.key&&e.find('button[type="submit"]').focus()}),this.currentPage=parseInt(window.location.pathname.split("/").pop())||1;var a=this.currentPage>1?"/"+this.currentPage:"";this.url=new n(a,e.serializeArray().map(function(t){return[t.name,t.value]}),{basePath:"/search"}),this.saveHistory(!0)}return a()(i,[{key:"isBusy",value:function(){return this._form.hasAttribute("data-loading")}},{key:"serializeData",value:function(){}},{key:"isLocationEnabled",value:function(){return this._form.querySelector('input[name="geo"]').checked}},{key:"saveHistory",value:function(t){this.url.path=this.currentPage>1?"/"+this.currentPage:"";var e=history.state||{};Object.assign(e,{page:this.currentPage,location:this.isLocationEnabled()}),t?history.replaceState(e,"",this.url.toString()):history.pushState(e,"",this.url.toString())}},{key:"onRequestMoreResults",value:function(t){this.currentPage+=1,this.saveHistory(),this.submit(t,{shouldKeepOldResults:!0})}},{key:"submit",value:function(e,n){var i=this;if(e.preventDefault(),!this.isBusy()){this._form.setAttribute("data-loading","");var r=!!n&&n.shouldKeepOldResults,o=t(this._form).find(":input").filter(function(e,n){return""!=t(n).val()}),s=t(o).serializeArray(),a=r?location.pathname:"/search";r||(this.currentPage=1),this.url.query.clear(),s.forEach(function(t){return i.url.setQuery(t.name,t.value)}),this.saveHistory(!0),Promise.resolve(this.isLocationEnabled()?l.a.locate():null).then(function(t){return t}).catch(function(t){return console.error(t)}).then(function(e){e&&e.coords&&s.push({name:"pos",value:[e.coords.latitude,e.coords.longitude].join(",")}),t.post(a,s).done(function(t){i._form.removeAttribute("data-loading"),i.showResult(t,!r)}).fail(function(t){alert("An error occurred:",t)})})}}},{key:"mergeRefs",value:function(t,e){if(e)for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];t[r]=e[r][t[r]]}return t}},{key:"showResult",value:function(n,i){var r=this,o=n.items.map(function(n){var i=e.twig({ref:"twig-library-card"}).render({library:n});return t(i)[0]});t(o).find("[data-map-open]").on("click",function(t){return r.openMap(t)});var s=t(this._form).find("[data-search-results]"),a=t(this._form).find("#search-total");a.length||(a=t("<p/>").attr("id","search-total").attr("tabindex","-1").insertBefore(s)),a.text(p.a.t("search.total",{postProcess:"sprintf",sprintf:[n.total]})),1==i||void 0==i?s.html(o):s.append(o),t(this._form).find("[data-load-more]"),10*history.state.page<n.total?this._form.removeAttribute("data-pager-finished"):this._form.setAttribute("data-pager-finished","")}},{key:"openMap",value:function(t){var e=t.target.dataset.mapPos.split(","),n=null;l.a.lastLocation&&(n=[l.a.lastLocation.coords.longitude,l.a.lastLocation.coords.latitude]),c.a.openMap({pos:e,userLocation:n,fullscreen:!0})}}]),i}();t.fn.librarySearch=function(){return this.each(function(t,e){new r(e);var n=e.querySelector("[data-toggle-location]");n.checked&&u.a.trigger(n,"change")})}}(t,f.a)}).call(this,n(52))},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-l*c/a+h)),Math.min(o,Math.floor(i+(a-l)*c/a+h)),s)}var f=n[i],p=r,d=o;for(t(n,r,i),s(n[o],f)>0&&t(n,r,o);p<d;){for(t(n,p,d),p++,d--;s(n[p],f)<0;)p++;for(;s(n[d],f)>0;)d--}0===s(n[r],f)?t(n,r,d):t(n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){"use strict";(function(t){n(409),n(553),n(555),n(557),n(559),n(561),n(563),n(565),n(567),n(569),n(573),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(this,n(134))},function(t,e,n){n(410),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(491),n(492),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(190),n(516),n(517),n(255),n(518),n(519),n(520),n(521),n(256),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),t.exports=n(47)},function(t,e,n){"use strict";var i=n(25),r=n(59),o=n(46),s=n(5),a=n(55),l=n(85).KEY,u=n(23),c=n(170),h=n(105),f=n(92),p=n(31),d=n(171),g=n(237),v=n(411),m=n(174),y=n(28),_=n(26),x=n(61),E=n(84),b=n(91),T=n(96),w=n(240),S=n(68),C=n(41),I=n(94),R=S.f,A=C.f,L=w.f,k=i.Symbol,O=i.JSON,D=O&&O.stringify,P=p("_hidden"),M=p("toPrimitive"),N={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),G=Object.prototype,B="function"==typeof k,W=i.QObject,H=!W||!W.prototype||!W.prototype.findChild,Y=o&&u(function(){return 7!=T(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=R(G,e);i&&delete G[e],A(t,e,n),i&&t!==G&&A(G,e,i)}:A,z=function(t){var e=j[t]=T(k.prototype);return e._k=t,e},q=B&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},X=function(t,e,n){return t===G&&X(U,e,n),y(t),e=E(e,!0),y(n),r(j,e)?(n.enumerable?(r(t,P)&&t[P][e]&&(t[P][e]=!1),n=T(n,{enumerable:b(0,!1)})):(r(t,P)||A(t,P,b(1,{})),t[P][e]=!0),Y(t,e,n)):A(t,e,n)},V=function(t,e){y(t);for(var n,i=v(e=x(e)),r=0,o=i.length;o>r;)X(t,n=i[r++],e[n]);return t},K=function(t){var e=N.call(this,t=E(t,!0));return!(this===G&&r(j,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(j,t)||r(this,P)&&this[P][t])||e)},Z=function(t,e){if(t=x(t),e=E(e,!0),t!==G||!r(j,e)||r(U,e)){var n=R(t,e);return!n||!r(j,e)||r(t,P)&&t[P][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=L(x(t)),i=[],o=0;n.length>o;)r(j,e=n[o++])||e==P||e==l||i.push(e);return i},J=function(t){for(var e,n=t===G,i=L(n?U:x(t)),o=[],s=0;i.length>s;)!r(j,e=i[s++])||n&&!r(G,e)||o.push(j[e]);return o};B||(a((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(U,n),r(this,P)&&r(this[P],t)&&(this[P][t]=!1),Y(this,t,b(1,n))};return o&&H&&Y(G,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",function(){return this._k}),S.f=Z,C.f=X,n(97).f=w.f=$,n(127).f=K,n(140).f=J,o&&!n(93)&&a(G,"propertyIsEnumerable",K,!0),d.f=function(t){return z(p(t))}),s(s.G+s.W+s.F*!B,{Symbol:k});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=I(p.store),nt=0;et.length>nt;)g(et[nt++]);s(s.S+s.F*!B,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=k(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!B,"Object",{create:function(t,e){return void 0===e?T(t):V(T(t),e)},defineProperty:X,defineProperties:V,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:J}),O&&s(s.S+s.F*(!B||u(function(){var t=k();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!q(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,D.apply(O,i)}}),k.prototype[M]||n(60)(k.prototype,M,k.prototype.valueOf),h(k,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(94),r=n(140),o=n(127);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),l=o.f,u=0;a.length>u;)l.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){var i=n(5);i(i.S,"Object",{create:n(96)})},function(t,e,n){var i=n(5);i(i.S+i.F*!n(46),"Object",{defineProperty:n(41).f})},function(t,e,n){var i=n(5);i(i.S+i.F*!n(46),"Object",{defineProperties:n(239)})},function(t,e,n){var i=n(61),r=n(68).f;n(69)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(62),r=n(98);n(69)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(62),r=n(94);n(69)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(69)("getOwnPropertyNames",function(){return n(240).f})},function(t,e,n){var i=n(26),r=n(85).onFreeze;n(69)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(26),r=n(85).onFreeze;n(69)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(26),r=n(85).onFreeze;n(69)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(26);n(69)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(26);n(69)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(26);n(69)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(5);i(i.S+i.F,"Object",{assign:n(241)})},function(t,e,n){var i=n(5);i(i.S,"Object",{is:n(427)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(5);i(i.S,"Object",{setPrototypeOf:n(176).set})},function(t,e,n){"use strict";var i=n(141),r={};r[n(31)("toStringTag")]="z",r+""!="[object z]"&&n(55)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(5);i(i.P,"Function",{bind:n(242)})},function(t,e,n){var i=n(41).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(46)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(26),r=n(98),o=n(31)("hasInstance"),s=Function.prototype;o in s||n(41).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(5),r=n(244);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(5),r=n(245);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";var i=n(25),r=n(59),o=n(79),s=n(178),a=n(84),l=n(23),u=n(97).f,c=n(68).f,h=n(41).f,f=n(142).trim,p=i.Number,d=p,g=p.prototype,v="Number"==o(n(96)(g)),m="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),u=0,c=l.length;u<c;u++)if((s=l.charCodeAt(u))<48||s>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?l(function(){g.valueOf.call(n)}):"Number"!=o(n))?s(new d(y(e)),n,p):y(e)};for(var _,x=n(46)?u(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)r(d,_=x[E])&&!r(p,_)&&h(p,_,c(d,_));p.prototype=g,g.constructor=p,n(55)(i,"Number",p)}},function(t,e,n){"use strict";var i=n(5),r=n(81),o=n(246),s=n(179),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*u[n],u[n]=i%1e7,i=l(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(23)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,i,a,l=o(this,c),u=r(t),g="",v="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=l*d(2,69,1);n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}()-69)<0?l*d(2,-e,1):l/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(d(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),h(1,1),f(2),v=p()}else h(0,n),h(1<<-e,0),v=p()+s.call("0",u);return u>0?g+((a=v.length)<=u?"0."+s.call("0",u-a)+v:v.slice(0,a-u)+"."+v.slice(a-u)):g+v}})},function(t,e,n){"use strict";var i=n(5),r=n(23),o=n(246),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var i=n(5);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(5),r=n(25).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(5);i(i.S,"Number",{isInteger:n(247)})},function(t,e,n){var i=n(5);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(5),r=n(247),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(5);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(5);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(5),r=n(245);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(5),r=n(244);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(5),r=n(248),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(5),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(5),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(5),r=n(180);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(5);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(5),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(5),r=n(181);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(5);i(i.S,"Math",{fround:n(455)})},function(t,e,n){var i=n(180),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),l=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*(r/l/s+1/o-1/o)*l*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?u*(1/0):u*n}},function(t,e,n){var i=n(5),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,l=0;s<a;)l<(n=r(arguments[s++]))?(o=o*(i=l/n)*i+1,l=n):o+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var i=n(5),r=Math.imul;i(i.S+i.F*n(23)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(5);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(5);i(i.S,"Math",{log1p:n(248)})},function(t,e,n){var i=n(5);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(5);i(i.S,"Math",{sign:n(180)})},function(t,e,n){var i=n(5),r=n(181),o=Math.exp;i(i.S+i.F*n(23)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(5),r=n(181),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(5);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(5),r=n(95),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(5),r=n(61),o=n(48);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},function(t,e,n){"use strict";n(142)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(249)(!0);n(182)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(5),r=n(249)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(5),r=n(48),o=n(183),s="".endsWith;i(i.P+i.F*n(185)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),l=String(t);return s?s.call(e,l,a):e.slice(a-l.length,a)===l}})},function(t,e,n){"use strict";var i=n(5),r=n(183);i(i.P+i.F*n(185)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(5);i(i.P,"String",{repeat:n(179)})},function(t,e,n){"use strict";var i=n(5),r=n(48),o=n(183),s="".startsWith;i(i.P+i.F*n(185)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(56)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(56)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(56)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(56)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(56)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(56)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(56)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(56)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(56)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(56)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(56)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(56)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(56)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var i=n(5);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(5),r=n(62),o=n(84);i(i.P+i.F*n(23)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(5),r=n(490);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(23),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(55)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){var i=n(31)("toPrimitive"),r=Date.prototype;i in r||n(60)(r,i,n(493))},function(t,e,n){"use strict";var i=n(28),r=n(84);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(5);i(i.S,"Array",{isArray:n(174)})},function(t,e,n){"use strict";var i=n(77),r=n(5),o=n(62),s=n(251),a=n(186),l=n(48),u=n(187),c=n(188);r(r.S+r.F*!n(143)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(f);if(v&&(g=i(g,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(n=new p(e=l(f.length));e>m;m++)u(n,m,v?g(f[m],m):f[m]);else for(h=y.call(f),n=new p;!(r=h.next()).done;m++)u(n,m,v?s(h,g,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(5),r=n(187);i(i.S+i.F*n(23)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(5),r=n(61),o=[].join;i(i.P+i.F*(n(126)!=Object||!n(66)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(5),r=n(175),o=n(79),s=n(95),a=n(48),l=[].slice;i(i.P+i.F*n(23)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),u=s(e,n),c=a(u-r),h=new Array(c),f=0;f<c;f++)h[f]="String"==i?this.charAt(r+f):this[r+f];return h}})},function(t,e,n){"use strict";var i=n(5),r=n(78),o=n(62),s=n(23),a=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n(66)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(5),r=n(70)(0),o=n(66)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(502);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(26),r=n(174),o=n(31)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(5),r=n(70)(1);i(i.P+i.F*!n(66)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(5),r=n(70)(2);i(i.P+i.F*!n(66)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(5),r=n(70)(3);i(i.P+i.F*!n(66)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(5),r=n(70)(4);i(i.P+i.F*!n(66)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(5),r=n(252);i(i.P+i.F*!n(66)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(5),r=n(252);i(i.P+i.F*!n(66)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(5),r=n(139)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(66)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(5),r=n(61),o=n(81),s=n(48),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(66)(a)),"Array",{lastIndexOf:function(t){if(l)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(5);i(i.P,"Array",{copyWithin:n(253)}),n(107)("copyWithin")},function(t,e,n){var i=n(5);i(i.P,"Array",{fill:n(189)}),n(107)("fill")},function(t,e,n){"use strict";var i=n(5),r=n(70)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(107)("find")},function(t,e,n){"use strict";var i=n(5),r=n(70)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(107)(o)},function(t,e,n){n(108)("Array")},function(t,e,n){var i=n(25),r=n(178),o=n(41).f,s=n(97).f,a=n(184),l=n(191),u=i.RegExp,c=u,h=u.prototype,f=/a/g,p=/a/g,d=new u(f)!==f;if(n(46)&&(!d||n(23)(function(){return p[n(31)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,i=a(t),o=void 0===e;return!n&&i&&t.constructor===u&&o?t:r(d?new c(i&&!o?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&o?l.call(t):e),n?this:h,u)};for(var g=function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},v=s(c),m=0;v.length>m;)g(v[m++]);h.constructor=u,u.prototype=h,n(55)(i,"RegExp",u)}n(108)("RegExp")},function(t,e,n){"use strict";n(255);var i=n(28),r=n(191),o=n(46),s=/./.toString,a=function(t){n(55)(RegExp.prototype,"toString",t,!0)};n(23)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},function(t,e,n){n(144)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(144)("replace",2,function(t,e,n){return[function(i,r){"use strict";var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,n){n(144)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(144)("split",2,function(t,e,i){"use strict";var r=n(184),o=i,s=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,l,u,c,h,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(a||(i=new RegExp("^"+v.source+"$(?!\\s)",p));(l=v.exec(n))&&!((u=l.index+l[0].length)>d&&(f.push(n.slice(d,l.index)),!a&&l.length>1&&l[0].replace(i,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l.length>1&&l.index<n.length&&s.apply(f,l.slice(1)),c=l[0].length,d=u,f.length>=g));)v.lastIndex===l.index&&v.lastIndex++;return d===n.length?!c&&v.test("")||f.push(""):f.push(n.slice(d)),f.length>g?f.slice(0,g):f}}else"0".split(void 0,0).length&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,r){var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,n){var i=n(25),r=n(192).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(79)(s);t.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var i=n(259),r=n(111);t.exports=n(148)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(259),r=n(111);t.exports=n(148)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(70)(0),o=n(55),s=n(85),a=n(241),l=n(260),u=n(26),c=n(23),h=n(111),f=s.getWeak,p=Object.isExtensible,d=l.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(u(t)){var e=f(t);return!0===e?d(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},y=t.exports=n(148)("WeakMap",v,m,l,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(g),7).get(g)})&&(a((i=l.getConstructor(v,"WeakMap")).prototype,m),s.NEED=!0,r(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,r){if(u(e)&&!p(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(260),r=n(111);n(148)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(5),r=n(149),o=n(193),s=n(28),a=n(95),l=n(48),u=n(26),c=n(25).ArrayBuffer,h=n(146),f=o.ArrayBuffer,p=o.DataView,d=r.ABV&&c.isView,g=f.prototype.slice,v=r.VIEW;i(i.G+i.W+i.F*(c!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||u(t)&&v in t}}),i(i.P+i.U+i.F*n(23)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(h(this,f))(l(r-i)),u=new p(this),c=new p(o),d=0;i<r;)c.setUint8(d++,u.getUint8(i++));return o}}),n(108)("ArrayBuffer")},function(t,e,n){var i=n(5);i(i.G+i.W+i.F*!n(149).ABV,{DataView:n(193).DataView})},function(t,e,n){n(82)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(82)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(82)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(5),r=n(78),o=n(28),s=(n(25).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n(23)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return s?s(i,e,l):a.call(i,e,l)}})},function(t,e,n){var i=n(5),r=n(96),o=n(78),s=n(28),a=n(26),l=n(23),u=n(242),c=(n(25).Reflect||{}).construct,h=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!l(function(){c(function(){})});i(i.S+i.F*(h||f),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var l=n.prototype,p=r(a(l)?l:Object.prototype),d=Function.apply.call(t,p,e);return a(d)?d:p}})},function(t,e,n){var i=n(41),r=n(5),o=n(28),s=n(84);r(r.S+r.F*n(23)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(5),r=n(68).f,o=n(28);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(5),r=n(28),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(250)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(68),r=n(98),o=n(59),s=n(5),a=n(26),l=n(28);s(s.S,"Reflect",{get:function t(e,n){var s,u,c=arguments.length<3?e:arguments[2];return l(e)===c?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(c):void 0:a(u=r(e))?t(u,n,c):void 0}})},function(t,e,n){var i=n(68),r=n(5),o=n(28);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(5),r=n(98),o=n(28);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(5);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(5),r=n(28),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(5);i(i.S,"Reflect",{ownKeys:n(262)})},function(t,e,n){var i=n(5),r=n(28),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(41),r=n(68),o=n(98),s=n(59),a=n(5),l=n(91),u=n(28),c=n(26);a(a.S,"Reflect",{set:function t(e,n,a){var h,f,p=arguments.length<4?e:arguments[3],d=r.f(u(e),n);if(!d){if(c(f=o(e)))return t(f,n,a,p);d=l(0)}if(s(d,"value")){if(!1===d.writable||!c(p))return!1;if(h=r.f(p,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=a,i.f(p,n,h)}else i.f(p,n,l(0,a));return!0}return void 0!==d.set&&(d.set.call(p,a),!0)}})},function(t,e,n){var i=n(5),r=n(176);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(554),t.exports=n(47).Array.includes},function(t,e,n){"use strict";var i=n(5),r=n(139)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(107)("includes")},function(t,e,n){n(556),t.exports=n(47).String.padStart},function(t,e,n){"use strict";var i=n(5),r=n(263),o=n(147);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(558),t.exports=n(47).String.padEnd},function(t,e,n){"use strict";var i=n(5),r=n(263),o=n(147);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(560),t.exports=n(171).f("asyncIterator")},function(t,e,n){n(237)("asyncIterator")},function(t,e,n){n(562),t.exports=n(47).Object.getOwnPropertyDescriptors},function(t,e,n){var i=n(5),r=n(262),o=n(61),s=n(68),a=n(187);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=s.f,u=r(i),c={},h=0;u.length>h;)void 0!==(n=l(i,e=u[h++]))&&a(c,e,n);return c}})},function(t,e,n){n(564),t.exports=n(47).Object.values},function(t,e,n){var i=n(5),r=n(264)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){n(566),t.exports=n(47).Object.entries},function(t,e,n){var i=n(5),r=n(264)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";n(256),n(568),t.exports=n(47).Promise.finally},function(t,e,n){"use strict";var i=n(5),r=n(47),o=n(25),s=n(146),a=n(258);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){n(570),n(571),n(572),t.exports=n(47)},function(t,e,n){var i=n(25),r=n(5),o=n(147),s=[].slice,a=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){var i=n(5),r=n(192);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(190),r=n(94),o=n(55),s=n(25),a=n(60),l=n(106),u=n(31),c=u("iterator"),h=u("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var v,m=d[g],y=p[m],_=s[m],x=_&&_.prototype;if(x&&(x[c]||a(x,c,f),x[h]||a(x,h,m),l[m]=f,y))for(v in i)x[v]||o(x,v,i[v],!0)}},function(t,e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=x;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[s]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==i&&r.call(y,s)&&(v=y);var _=w.prototype=b.prototype=Object.create(v);T.prototype=_.constructor=w,w.constructor=T,w[l]=T.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===T||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(_),t},c.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[a]=function(){return this},c.AsyncIterator=C,c.async=function(t,e,n,i){var r=new C(x(t,e,n,i));return c.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(_),_[l]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}}}function x(t,e,n,i){var r=e&&e.prototype instanceof b?e:b,o=Object.create(r.prototype),s=new L(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=I(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=E(t,e,n);if("normal"===l.type){if(i=n.done?d:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}(t,n,s),o}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function T(){}function w(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,s){var a=E(t[n],t,i);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},s)}s(a.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function I(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,I(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=E(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}]);